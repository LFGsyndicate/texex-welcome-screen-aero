!function(){var e,t,a,r={72844:function(e){e.exports={container:"SsoContextAuth-module__container__BLp5",loader:"SsoContextAuth-module__loader_wlpTS"}},38418:function(e){e.exports={}},73210:function(e){e.exports={flex:"flex-module__flex_M9XId",hidden:"flex-module__hidden_dcZ6V"}},15194:function(e){e.exports={layout_wrapper:"LayoutWrapper-module__layout_wrapper_HT8Ii"}},88949:function(e){e.exports={svg:"spinner-module__svg_azruv","animate-container":"spinner-module__animate-container_LOnvr",circle:"spinner-module__circle_YEvC6","animate-circle":"spinner-module__animate-circle_yA2_D"}},52627:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eeProvider=t.eeProviderFactory=t.BOXY_INTERNAL_EVENT_EMITTER_TOKEN=t.EventEmitter=void 0;const n=a(15617),o=(0,r(a(60111)).default)("page-maker:ee");class s{constructor(){this.callbacks={}}on(e,t,a){return o.debug(`subscribe to "${t}" from "${e}"`,a),this.callbacks[e]=this.callbacks[e]||{},this.callbacks[e][t]=this.callbacks[e][t]||new Set,this.callbacks[e][t].add(a),()=>this.callbacks[e][t]?.delete(a)}emit(e,t,a){o.debug(`send event "${t}" to "${e}"`,a);const r=this.callbacks[e]?.[t];r?.size?r.forEach((e=>e(a))):o.error(`no subscribers for event "${t}" and id "${e}"`,this.callbacks)}}t.EventEmitter=s,t.BOXY_INTERNAL_EVENT_EMITTER_TOKEN=(0,n.createToken)("BOXY_INTERNAL_EVENT_EMITTER_TOKEN"),t.eeProviderFactory=()=>(0,n.provide)({provide:t.BOXY_INTERNAL_EVENT_EMITTER_TOKEN,useValue:new s}),t.eeProvider=(0,t.eeProviderFactory)()},83842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singletonProviders=t.BusDispatchMinihost=t.allBlocksMountProvider=t.eeProvider=t.dispatchProvider=t.busProvider=void 0;const r=a(15617),n=a(52627);var o=a(72258);Object.defineProperty(t,"busProvider",{enumerable:!0,get:function(){return o.busProvider}}),Object.defineProperty(t,"dispatchProvider",{enumerable:!0,get:function(){return o.dispatchProvider}}),Object.defineProperty(t,"eeProvider",{enumerable:!0,get:function(){return o.eeProvider}}),Object.defineProperty(t,"allBlocksMountProvider",{enumerable:!0,get:function(){return o.allBlocksMountProvider}});var s=a(69860);Object.defineProperty(t,"BusDispatchMinihost",{enumerable:!0,get:function(){return s.BusDispatchMinihost}}),t.singletonProviders=()=>[(0,r.provide)({provide:n.BOXY_INTERNAL_EVENT_EMITTER_TOKEN,useValue:new n.EventEmitter})]},69860:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BusDispatchMinihost=void 0;const i=s(a(44121)),c=a(79609),u=a(72258),l=a(52627);t.BusDispatchMinihost=e=>((0,i.useEffect)((()=>(e.onMount.mount(),()=>e.onMount.unmount())),[e.tree]),i.default.createElement(i.default.Fragment,null,e.children)),t.BusDispatchMinihost.displayName="BusDispatchMinihost",t.BusDispatchMinihost.bota={exposes:[c.BOXY_DISPATCH,c.BOXY_BUS,l.BOXY_INTERNAL_EVENT_EMITTER_TOKEN,u.BOXY_ALL_BLOCKS_MOUNT_TOKEN],props:{onMount:u.BOXY_ALL_BLOCKS_MOUNT_TOKEN},providers:u.providers}},80563:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnMountQueue=void 0,t.OnMountQueue=class{constructor(){this.mounted=!1,this.queue=[]}enqueue(e){this.mounted?e():this.queue.push(e)}mount(){this.mounted=!0,this.queue.length&&(this.queue.forEach((e=>e())),this.queue.length=0)}unmount(){this.mounted=!1}}},72258:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.providers=t.providersFactory=t.allBlocksMountProvider=t.allBlocksMountProviderFactory=t.dispatchProvider=t.busProvider=t.BOXY_ALL_BLOCKS_MOUNT_TOKEN=t.eeProvider=void 0;const n=a(79609),o=a(15617),s=r(a(60111)),i=a(52627);Object.defineProperty(t,"eeProvider",{enumerable:!0,get:function(){return i.eeProvider}});const c=a(80563),u=(0,s.default)("page-maker:bus-dispatch");t.BOXY_ALL_BLOCKS_MOUNT_TOKEN=(0,o.createToken)("BOXY_ALL_BLOCKS_MOUNT_TOKEN"),t.busProvider=(0,o.provide)({provide:n.BOXY_BUS,useFactory:({id:e,ee:t})=>(a,r)=>(u.debug(`subscribe to "${a}" from "${e}"`,r),t.on(e,a,r)),deps:{id:n.BOXY_NODE_ID,ee:i.BOXY_INTERNAL_EVENT_EMITTER_TOKEN}}),t.dispatchProvider=(0,o.provide)({provide:n.BOXY_DISPATCH,useFactory:({ee:e,onMount:t,scrollTo:a})=>r=>{u.debug("dispatch event",r);const{type:n,payload:o}=r;if("emit"===n){const{blockId:a,eventName:r,arg:n}=o;return u.debug(`emit event to ${a}`),void t.enqueue((()=>e.emit(a,r,n)))}if("scrollTo"!==n)u.error("wrong event shape");else{const{blockId:e,targetGuid:r}=o,n=e||r;t.enqueue((()=>{a(n)}))}},deps:{ee:i.BOXY_INTERNAL_EVENT_EMITTER_TOKEN,onMount:t.BOXY_ALL_BLOCKS_MOUNT_TOKEN,scrollTo:n.BOXY_SCROLL_TO}}),t.allBlocksMountProviderFactory=()=>(0,o.provide)({provide:t.BOXY_ALL_BLOCKS_MOUNT_TOKEN,useValue:new c.OnMountQueue}),t.allBlocksMountProvider=(0,t.allBlocksMountProviderFactory)(),t.providersFactory=()=>[(0,t.allBlocksMountProviderFactory)(),t.dispatchProvider,t.busProvider],t.providers=(0,t.providersFactory)()},84817:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyPropsMinihost=void 0;var r=a(90443);Object.defineProperty(t,"LegacyPropsMinihost",{enumerable:!0,get:function(){return r.LegacyPropsMinihost}})},90443:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyPropsMinihost=void 0;const r=a(79609),n=a(10541);t.LegacyPropsMinihost=e=>e.children,t.LegacyPropsMinihost.displayName="LegacyPropsMinihost",t.LegacyPropsMinihost.bota={exposes:[r.BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS],providers:[n.legacyPropsProvider]}},10541:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.legacyPropsProvider=void 0;const r=a(15617),n=a(79609);t.legacyPropsProvider=(0,r.provide)({provide:n.BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS,useFactory:({subtree:e,bus:t,dispatch:a})=>({id:e.id,blockType:e.type,schemaVersion:e.version,blockProject:e.projectTitle,bus:t,dispatch:a}),deps:{subtree:n.BOXY_SAFE_SUBTREE,bus:n.BOXY_BUS,dispatch:n.BOXY_DISPATCH}})},44193:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singletonProviders=t.ScrollMinihost=void 0;const r=a(15617),n=a(84691);var o=a(24092);Object.defineProperty(t,"ScrollMinihost",{enumerable:!0,get:function(){return o.ScrollMinihost}}),t.singletonProviders=()=>[(0,r.provide)({provide:n.SCROLL_STATE_TOKEN,useValue:{scrollParentElement:null}})]},36022:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;const n=r(a(60111));t.log=(0,n.default)("page-maker:master-of-scroll")},24092:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollMinihost=void 0;const r=a(44121),n=a(79609),o=a(84691);t.ScrollMinihost=e=>((0,r.useEffect)((()=>{e.initScrollParent()}),[]),e.children),t.ScrollMinihost.displayName="ScrollMinihost",t.ScrollMinihost.bota={exposes:[o.INIT_SCROLL_PARENT_ELEMENT_TOKEN,o.SCROLL_STATE_TOKEN,n.BOXY_SCROLL_TO],props:{initScrollParent:o.INIT_SCROLL_PARENT_ELEMENT_TOKEN,scrollToId:n.BOXY_SCROLL_TO},providers:o.providers}},84691:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providers=t.providersFactory=t.stateProviderFactory=t.scrollToIdProvider=t.scrollParentInitProvider=t.SCROLL_STATE_TOKEN=t.INIT_SCROLL_PARENT_ELEMENT_TOKEN=void 0;const r=a(79609),n=a(15617),o=a(36022),s=a(12938);t.INIT_SCROLL_PARENT_ELEMENT_TOKEN=(0,n.createToken)("INIT_SCROLL_PARENT_ELEMENT_TOKEN"),t.SCROLL_STATE_TOKEN=(0,n.createToken)("STATE_TOKEN"),t.scrollParentInitProvider=(0,n.provide)({provide:t.INIT_SCROLL_PARENT_ELEMENT_TOKEN,useFactory:({state:e,scrollParent:t})=>()=>{if(e.scrollParentElement instanceof HTMLElement)return;let a=null;t&&(a=document.querySelector(t)),a instanceof HTMLElement||(a=document.scrollingElement||document.body&&document.body.parentElement),a instanceof HTMLElement&&(e.scrollParentElement=a),o.log.debug({message:"scrollParentElement",scrollParentElement:a})},deps:{state:t.SCROLL_STATE_TOKEN,scrollParent:r.BOXY_INTERNAL_SCROLL_PARENT_TOKEN}}),t.scrollToIdProvider=(0,n.provide)({provide:r.BOXY_SCROLL_TO,useFactory:({domRegistry:e,state:t,customScrollTo:a,stickyManager:r,treeIds:n})=>i=>{if(e.has(i)){const n=e.get(i);n?(0,s.scrollToElement)({element:n,customScrollTo:a,scrollParentElement:t.scrollParentElement,offsetTop:-r.getOffset(i)}):o.log.debug(`block ${i} is not mounted.`)}else n.has(i)?o.log.error(`block ${i} never called forwardDomRef.`):o.log.error(`block ${i} is not in the tree.`)},deps:{domRegistry:r.BOXY_INTERNAL_DOM_REGISTRY_TOKEN,treeIds:r.BOXY_INTERNAL_TREE_IDS_TOKEN,stickyManager:r.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,state:t.SCROLL_STATE_TOKEN,customScrollTo:r.BOXY_INTERNAL_CUSTOM_SCROLL_TO_TOKEN}}),t.stateProviderFactory=()=>(0,n.provide)({provide:t.SCROLL_STATE_TOKEN,useValue:{scrollParentElement:null}}),t.providersFactory=()=>[t.scrollParentInitProvider,t.scrollToIdProvider],t.providers=(0,t.providersFactory)()},12938:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToElement=void 0,a(36022),t.scrollToElement=({element:e,offsetTop:t,scrollParentElement:a,customScrollTo:r})=>{const n=a;if(e instanceof HTMLElement&&n instanceof HTMLElement){const{top:a}=e.getBoundingClientRect(),o=a+n.scrollTop+(t??0);"function"==typeof r?r(0,o):"scrollTo"in n?n.scrollTo({left:0,top:o,behavior:"smooth"}):n.scrollTop=o}}},13790:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singletonProviders=t.StickyMinihost=void 0;const r=a(79609),n=a(15617),o=a(90626);var s=a(21957);Object.defineProperty(t,"StickyMinihost",{enumerable:!0,get:function(){return s.StickyMinihost}}),t.singletonProviders=()=>[(0,n.provide)({provide:r.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,useValue:new o.StickyManager})]},21957:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickyMinihost=void 0;const r=a(79609),n=a(72498);t.StickyMinihost=({initialStickyOffset:e,children:t,stickyManager:a})=>(a.setInitialOffset(e||0),t),t.StickyMinihost.displayName="StickyMinihost",t.StickyMinihost.bota={props:{stickyManager:r.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,initialStickyOffset:r.BOXY_INTERNAL_INITIAL_STICKY_OFFSET_TOKEN},exposes:[r.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,r.BOXY_USE_STICKY_HOOK_TOKEN,r.BOXY_INTERNAL_LEGACY_REACTIVE_PROPS],providers:[n.stickyHook,n.useStickyProvider]}},72498:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStickyProvider=t.stickyHook=void 0;const r=a(15617),n=a(79609),o=a(44121);function s({stickyManager:e,nodeId:t,indexNumber:a}){return({height:r})=>{e.setComponentHeight(t,r),e.setComponentPosition(t,a)}}function i({stickyManager:e,nodeId:t}){const[a,r]=(0,o.useState)(!0),n=(0,o.useCallback)((()=>r(!a)),[a,r]);(0,o.useEffect)((()=>(e.setComponentExists(t,!0),()=>{e.setComponentExists(t,!1)}))),(0,o.useEffect)((()=>(e.setOffsetChangeHandler(t,n),()=>e.removeComponentHandler(t))),[e,t,n])}function c({stickyManager:e,nodeId:t,indexNumber:a}){e.setComponentPosition(t,a),e.setComponentExists(t,!0)}t.stickyHook=(0,r.provide)({provide:n.BOXY_INTERNAL_LEGACY_REACTIVE_PROPS,useFactory({stickyManager:e,nodeId:t,indexNumber:a}){const r=s({stickyManager:e,nodeId:t,indexNumber:a});return()=>(c({stickyManager:e,nodeId:t,indexNumber:a}),i({stickyManager:e,nodeId:t}),{registerSticky:r,stickyOffset:e.getOffset(t)})},deps:{nodeId:n.BOXY_NODE_ID,stickyManager:n.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,indexNumber:n.BOXY_INTERNAL_INDEX_NUMBER_TOKEN}}),t.useStickyProvider=(0,r.provide)({provide:n.BOXY_USE_STICKY_HOOK_TOKEN,useFactory({stickyManager:e,nodeId:t,indexNumber:a}){const r=s({stickyManager:e,nodeId:t,indexNumber:a});return({height:n})=>(c({stickyManager:e,nodeId:t,indexNumber:a}),r({height:n}),i({stickyManager:e,nodeId:t}),{offsetTop:e.getOffset(t)})},deps:{nodeId:n.BOXY_NODE_ID,stickyManager:n.BOXY_INTERNAL_STICKY_MANAGER_TOKEN,indexNumber:n.BOXY_INTERNAL_INDEX_NUMBER_TOKEN}})},90626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickyManager=void 0,t.StickyManager=class{constructor(e){this.heights=new Map,this.positions=new Map,this.exists=new Map,this.initialOffset=void 0,this.handlers=new Map,this.initialOffset=e??0}setInitialOffset(e){this.initialOffset=e}setComponentPosition(e,t){this.positions.set(e,t)}setComponentHeight(e,t){const a=this.heights.get(e);this.heights.set(e,t),a&&a===t||this.triggerOffsetChange(this.positions.get(e))}removeComponentHeightAndPosition(e){void 0!==this.positions.get(e)&&(this.heights.delete(e),this.positions.delete(e))}removeComponentHandler(e){this.handlers.get(e)&&this.handlers.delete(e)}getOffset(e){let t=this.initialOffset;const a=this.positions.get(e);for(const[e,r]of this.heights.entries()){if(!this.exists.get(e)){this.removeComponentHeightAndPosition(e);continue}const n=this.positions.get(e);void 0!==r&&void 0!==n&&n<a&&(t+=r)}return t}setOffsetChangeHandler(e,t){this.handlers.set(e,t)}setComponentExists(e,t){this.exists.set(e,t)}triggerOffsetChange(e){for(const[t,a]of this.handlers.entries())this.exists.get(t)?this.positions.get(t)>e&&a():this.removeComponentHandler(t)}}},79609:function(e,t,a){"use strict";a.r(t),a.d(t,{BOXY_BLOCK_INTERNAL_MAIN_COMPONENT:function(){return T},BOXY_BLOCK_MAIN_COMPONENT:function(){return O},BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS:function(){return P},BOXY_BLOCK_MAIN_COMPONENT_PROPS:function(){return C},BOXY_BLOCK_MOUNT:function(){return A},BOXY_BLOCK_ON_MOUNT:function(){return x},BOXY_BLOCK_PROJECT_TITLE:function(){return k},BOXY_BLOCK_SCHEMA_VERSION:function(){return w},BOXY_BLOCK_SKELETON_COMPONENT:function(){return R},BOXY_BLOCK_TYPE:function(){return S},BOXY_BUS:function(){return y},BOXY_DEVTOOLS_FORCED_SWITCH:function(){return p.qT},BOXY_DISPATCH:function(){return g},BOXY_FORWARD_DOM_REF:function(){return _},BOXY_HTTP_CLIENT:function(){return p.JI},BOXY_INTERNAL_CUSTOM_SCROLL_TO_TOKEN:function(){return c},BOXY_INTERNAL_DOM_REGISTRY_TOKEN:function(){return o},BOXY_INTERNAL_INDEX_NUMBER_TOKEN:function(){return l},BOXY_INTERNAL_INITIAL_STICKY_OFFSET_TOKEN:function(){return u},BOXY_INTERNAL_LEGACY_REACTIVE_PROPS:function(){return d},BOXY_INTERNAL_SCROLL_PARENT_TOKEN:function(){return n},BOXY_INTERNAL_STICKY_MANAGER_TOKEN:function(){return i},BOXY_INTERNAL_TREE_IDS_TOKEN:function(){return s},BOXY_LAYOUT:function(){return M},BOXY_MAPPINGS:function(){return p.zq},BOXY_MAPPING_EXTENSION_URL_VALUE:function(){return p.bq},BOXY_MAPPING_EXTENSION_VALUE:function(){return p.gN},BOXY_MOBILE_PLATFORM:function(){return N},BOXY_NODE_ID:function(){return E},BOXY_PROPERTIES:function(){return f},BOXY_SAFE_SUBTREE:function(){return h},BOXY_SCROLL_TO:function(){return I},BOXY_TRANSFORM_EXPANDED_TREE:function(){return p.Ht},BOXY_USE_STICKY_HOOK_TOKEN:function(){return L},getBusToken:function(){return b},getDispatchToken:function(){return v},getPropertiesToken:function(){return m}});var r=a(59999);const n=(0,r.V3)("BOXY_INTERNAL_SCROLL_PARENT_TOKEN"),o=(0,r.V3)("BOXY_INTERNAL_DOM_REGISTRY_TOKEN"),s=(0,r.V3)("BOXY_INTERNAL_TREE_IDS_TOKEN"),i=(0,r.V3)("BOXY_INTERNAL_STICKY_MANAGER_TOKEN"),c=(0,r.V3)("BOXY_INTERNAL_CUSTOM_SCROLL_TO_TOKEN"),u=(0,r.V3)("BOXY_INTERNAL_INITIAL_STICKY_OFFSET_TOKEN"),l=(0,r.V3)("BOXY_INTERNAL_INDEX_NUMBER_TOKEN"),d=(0,r.V3)("BOXY_INTERNAL_LEGACY_REACTIVE_PROPS",{multi:!0});var p=a(56296);const h=(0,r.V3)("BOXY_SAFE_SUBTREE"),f=(0,r.V3)("BOXY_PROPERTIES"),m=()=>f,g=(0,r.V3)("BOXY_DISPATCH"),v=()=>g,y=(0,r.V3)("BOXY_BUS"),b=()=>y,_=(0,r.V3)("BOXY_FORWARD_DOM_REF"),E=(0,r.V3)("BOXY_NODE_ID"),S=(0,r.V3)("BOXY_BLOCK_TYPE"),w=(0,r.V3)("BOXY_BLOCK_SCHEMA_VERSION"),k=(0,r.V3)("BOXY_BLOCK_PROJECT_TITLE"),O=(0,r.V3)("BOXY_BLOCK_MAIN_COMPONENT"),T=(0,r.V3)("BOXY_BLOCK_INTERNAL_MAIN_COMPONENT"),C=(0,r.V3)("BOXY_BLOCK_MAIN_COMPONENT_PROPS"),R=(0,r.V3)("BOXY_BLOCK_SKELETON_COMPONENT"),M=(0,r.V3)("BOXY_LAYOUT"),N=(0,r.V3)("BOXY_MOBILE_PLATFORM"),x=(0,r.V3)("BOXY_BLOCK_ON_MOUNT"),A=(0,r.V3)("BOXY_BLOCK_MOUNT",{multi:!0}),P=(0,r.V3)("BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS"),I=(0,r.V3)("BOXY_SCROLL_TO"),L=(0,r.V3)("BOXY_STICKY_OFFSET_TOKEN")},56296:function(e,t,a){"use strict";a.d(t,{Ht:function(){return u},JI:function(){return s},bq:function(){return o},gN:function(){return n},qT:function(){return c},zq:function(){return i}});var r=a(59999);const n=(0,r.V3)("BOXY_MAPPING_EXTENSION_VALUE"),o=(0,r.V3)("BOXY_MAPPING_EXTENSION_URL_VALUE"),s=(0,r.V3)("BOXY_COOKIE_MAPPING_HTTP_CLIENT"),i=(0,r.V3)("BOXY_MAPPING"),c=(0,r.V3)("BOXY_DEVTOOLS_FORCED_SWITCH"),u=(0,r.V3)("BOXY_TRANSFORM_EXPANDED_TREE",{multi:!0})},6810:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertiesProvider=t.blockProjectProvider=t.schemaVersionProvider=t.blockTypeProvider=t.nodeIdProvider=void 0;const r=a(39370),n=a(15617);t.nodeIdProvider=(0,n.provide)({provide:r.BOXY_NODE_ID,useFactory:({subtree:e})=>e.id,deps:{subtree:r.BOXY_SAFE_SUBTREE}}),t.blockTypeProvider=(0,n.provide)({provide:r.BOXY_BLOCK_TYPE,useFactory:({subtree:e})=>e.type??"unknown",deps:{subtree:r.BOXY_SAFE_SUBTREE}}),t.schemaVersionProvider=(0,n.provide)({provide:r.BOXY_BLOCK_SCHEMA_VERSION,useFactory:({subtree:e})=>e.version??"unknown",deps:{subtree:r.BOXY_SAFE_SUBTREE}}),t.blockProjectProvider=(0,n.provide)({provide:r.BOXY_BLOCK_PROJECT_TITLE,useFactory:({subtree:e})=>e.projectTitle??"unknown",deps:{subtree:r.BOXY_SAFE_SUBTREE}}),t.propertiesProvider=(0,n.provide)({provide:r.BOXY_PROPERTIES,useFactory:({subtree:e})=>e.properties??{},deps:{subtree:r.BOXY_SAFE_SUBTREE}})},39370:function(e,t,a){"use strict";a.r(t),a.d(t,{BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS:function(){return n.BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS},BOXY_BLOCK_MAIN_COMPONENT_PROPS:function(){return n.BOXY_BLOCK_MAIN_COMPONENT_PROPS},BOXY_BLOCK_ON_MOUNT:function(){return n.BOXY_BLOCK_ON_MOUNT},BOXY_BLOCK_PROJECT_TITLE:function(){return n.BOXY_BLOCK_PROJECT_TITLE},BOXY_BLOCK_SCHEMA_VERSION:function(){return n.BOXY_BLOCK_SCHEMA_VERSION},BOXY_BLOCK_SKELETON_COMPONENT:function(){return n.BOXY_BLOCK_SKELETON_COMPONENT},BOXY_BLOCK_TYPE:function(){return n.BOXY_BLOCK_TYPE},BOXY_BUS:function(){return n.BOXY_BUS},BOXY_DISPATCH:function(){return n.BOXY_DISPATCH},BOXY_FORWARD_DOM_REF:function(){return n.BOXY_FORWARD_DOM_REF},BOXY_NODE_ID:function(){return n.BOXY_NODE_ID},BOXY_PROPERTIES:function(){return n.BOXY_PROPERTIES},BOXY_SAFE_SUBTREE:function(){return n.BOXY_SAFE_SUBTREE},MIF_COLOR_SCHEME:function(){return h},MIF_EVENTEA_CLIENT_T:function(){return p},MIF_EVENTEA_CLIENT_UNTYPED:function(){return d},MIF_LAYOUT:function(){return o},MIF_MOBILE_PLATFORM:function(){return s},MIF_ROUTER:function(){return i},MIF_STATIST_CLIENT_T:function(){return u},MIF_STATIST_CLIENT_TYPED:function(){return l},MIF_STATIST_CLIENT_UNTYPED:function(){return c},getBusToken:function(){return n.getBusToken},getDispatchToken:function(){return n.getDispatchToken},getPropertiesToken:function(){return n.getPropertiesToken}});var r=a(59999),n=a(79609);const o=(0,r.V3)("MIF_LAYOUT"),s=(0,r.V3)("MIF_MOBILE_PLATFORM"),i=(0,r.V3)("MIF_ROUTER"),c=(0,r.V3)("MIF_STATIST_CLIENT"),u={make:()=>c,untyped:()=>c},l=(0,r.V3)("MIF_STATIST_CLIENT_TYPED"),d=(0,r.V3)("MIF_EVENTEA_CLIENT"),p={make:()=>d,untyped:()=>d},h=(0,r.V3)("MIF_COLOR_SCHEME")},95926:function(e,t,a){"use strict";let r;function n(){return r||(r=function(){if("undefined"!=typeof navigator){const e=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/,t=/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/,a=navigator.userAgent.toLowerCase();return a.match(e)?"tablet":a.match(t)?"mobile":"desktop"}}()),r}a.d(t,{l:function(){return n}})},52248:function(e,t,a){"use strict";function r(){return Boolean("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch)}a.d(t,{b:function(){return r}})},99068:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(20986),n=a(44121),o=a.n(n),s=a(12098),i=a.n(s),c=a(95926),u=a(52248);const l={isPhone:window.matchMedia(`(max-width: ${i().PHONE}px)`),isTablet:window.matchMedia(`(min-width: ${i().TABLETS}px)`),isDesktop:window.matchMedia(`(min-width: ${i().DESKTOP}px)`),isDesktopS:window.matchMedia(`(min-width: ${i().DESKTOP_SMALL}px)`),isDesktopMd:window.matchMedia(`(min-width: ${i().DESKTOP_MD}px)`),isDesktopM:window.matchMedia(`(min-width: ${i().DESKTOP_MEDIUM}px)`),isDesktopL:window.matchMedia(`(min-width: ${i().DESKTOP_LARGE}px)`),isDesktopXL:window.matchMedia(`(min-width: ${i().DESKTOP_EXTRA_LARGE}px)`),isRetina:window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)")},d=(()=>{let e={};const t=[];return Object.keys(l).forEach((a=>{const n=a;e[n]=l[n].matches,l[n].addListener((a=>function(a,n){e=(0,r.Z)({},e,{[a]:n}),function(){for(let e=0;e<t.length;e++)(0,t[e])()}()}(n,a.matches)))})),{getState:function(){return e},getDeviceType:c.l,subscribe:function(e){return t.push(e),function(){const a=t.indexOf(e);t.splice(a,1)}}}})(),p=()=>e=>{const t=e.displayName||e.name;class a extends o().Component{constructor(e){super(e),this.updateMedia=()=>{d&&this.setState({media:d.getState()})},this.isTouch=void 0,this.subscribe=void 0,this.state={media:{},deviceType:(0,c.l)()},this.isTouch=!1,this.subscribe=()=>{}}componentDidMount(){this.isTouch=(0,u.b)(),d&&(this.subscribe=d.subscribe(this.updateMedia)),this.updateMedia()}componentWillUnmount(){this.subscribe()}render(){const{media:t,deviceType:a}=this.state;return o().createElement(e,Object.assign({},this.props,{media:t,deviceType:a,isTouch:this.isTouch}))}}return a.displayName=`MediaInfo(${t})`,a.defaultProps=e.defaultProps,a}},50124:function(e,t,a){"use strict";a.d(t,{K8:function(){return i},_x:function(){return o},cQ:function(){return n},xw:function(){return s}});var r=a(59999);const n=(0,r.V3)("SSO_CONTEXT_AUTH_COMPONENT"),o=(0,r.V3)("SSO_CONTEXT_AUTH_COMPLETE_URI_TOKEN"),s=(0,r.V3)("SSO_CONTEXT_AUTH_POSTCOMPLETE_REDIRECT_URI_TOKEN"),i=(0,r.V3)("SSO_CONTEXT_AUTH_COOKIE_PATH_TOKEN")},62432:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlocksTrackingEvents=t.sendEvent=t.techSendEvent=t.makeEvent=void 0;const r=a(80476).__importDefault(a(60111)),n=a(85176),o=(0,r.default)("analytics:tracking");function s(e,t){let a;try{a=new CustomEvent(e,{detail:t,bubbles:!0})}catch(r){a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!1,t)}return a}function i(e,t,a=document.body){let r=a;return(0,n.isConnected)(a)||(t.originalTarget=a,r=document.body),null!==r&&(r.dispatchEvent(s(e,t)),!0)}function c(e,t,a=document.body){i(e,t,a)&&o.info("Dispatched event:",e,t)}t.makeEvent=s,t.techSendEvent=i,t.sendEvent=c,t.BlocksTrackingEvents=class{constructor(e,t,a){this._eventea=e,this._tree=t,this._trackingOptions=a}trackBlock(e,t,a){const r=this._tree.traverseBlockTarget(e);if(r){const{guid:n,payload:o}=r;if(!this._tree.isActiveTracking(n))return;const s={...a,...o};this.sendEvent(t,s,e)}}sendEvent(e,t,a){this._eventea&&!this._trackingOptions.disableEventea?this._eventea.send({project:"boxy",event:e,payload:t}):c(e,t,a)}}},15306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(80476),n=r.__importStar(a(44121)),o=r.__importDefault(a(42622)),s=["flags"];t.default=function(e){return t=>{const a=(0,n.useMemo)((()=>{var e,a,r,n;const s=new o.default({options:null!==(e=t.trackingOptions)&&void 0!==e?e:null===(a=t.dival)||void 0===a?void 0:a.trackingOptions,eventea:null!==(r=t.eventea)&&void 0!==r?r:null===(n=t.dival)||void 0===n?void 0:n.eventea});return s.setTree(t.tree),s}),[]);(0,n.useEffect)((()=>(a.mount(),a.unmount)),[]);const r={...t.dival,blocksTrackingFeatures:s};return n.default.createElement(e,{...t,dival:r,saveDomRef:(e,r)=>(t.saveDomRef&&t.saveDomRef(e,r),a.registerElement(e,r))})}}},38153:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingHoc=void 0;var n=a(15306);Object.defineProperty(t,"TrackingHoc",{enumerable:!0,get:function(){return r(n).default}})},19231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_SCHEMA_KEYS=void 0,t.LIST_SCHEMA_KEYS=["slideList","slides","panels","panelList","banners"];class a{constructor(e=[],t){this.segments=e,this.noImpressions=(null==t?void 0:t.noImpressions)||!1,this.hasListKey=(null==t?void 0:t.hasListKey)||!1}get length(){return this.segments.length}get(e){return this.segments[e]}getAsNumber(e){const t=this.segments[e],a=parseInt(t);if(isFinite(a))return a}asNumber(){if(1===this.length)return this.getAsNumber(0)}getListKey(){if(this.hasListKey)return this.segments[0]}toString(){return this.segments.join(".")}concat(e){const t=[...this.segments,...e.segments],r=this.length?this.hasListKey:e.hasListKey;return new a(t,{noImpressions:this.noImpressions||e.noImpressions,hasListKey:r})}static parseString(e=""){const[r,...n]=e.split("|"),o=r.split(".").filter((e=>e.length)),s={noImpressions:!1,hasListKey:o.reduce(((e,a)=>e||-1!==t.LIST_SCHEMA_KEYS.indexOf(a)),!1)};return n.forEach((e=>{var t,r;return null===(r=(t=a.flagHandlersMap)[e])||void 0===r?void 0:r.call(t,{segments:o,options:s})})),new a(o,s)}}t.default=a,a.flagHandlersMap={noimp:({options:e})=>{e.noImpressions=!0},lst:({options:e})=>{e.hasListKey=!0},nolst:({options:e})=>{e.hasListKey=!1}}},42622:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCAL_KEYS=t.DEFAULT_IMPRESSION_DELAY=t.DEFAULT_IMPRESSION_BATCH_DELAY=t.CLICK_DEDUP_KEY=t.DelayedActionType=void 0;const r=a(80476),n=r.__importDefault(a(60111)),o=r.__importStar(a(19231)),s=a(59416),i=a(62432),c=a(63640),u=a(85176);var l;!function(e){e[e.Negative=0]="Negative",e[e.Positive=1]="Positive"}(l=t.DelayedActionType||(t.DelayedActionType={}));const d=(0,n.default)("boxy:blocks-tracking");t.CLICK_DEDUP_KEY="dedup_click",t.DEFAULT_IMPRESSION_BATCH_DELAY=300,t.DEFAULT_IMPRESSION_DELAY=100,t.DEFAULT_LOCAL_KEYS=["itemType","itemName"];const p=Array.prototype.forEach;let h=(e,t={})=>"undefined"!=typeof IntersectionObserver?new IntersectionObserver(e,{root:null,...t}):(console.warn("IntersectionObserver feature not supported!"),h=()=>null,null);function f(e,t){for(let a=e.parentElement;a;a=a.parentElement)if(a.dataset&&t.some((e=>null==a?void 0:a.dataset[e])))return a}function m(e,t){e.unobserve(t),e.observe(t)}function g(e,t){return Array.prototype.find.call(e,t)}function v(e){if(!(0,u.isConnected)(e))return!1;const t=getComputedStyle(e);return"0"!==t.opacity&&"none"!==t.display&&"hidden"!==t.visibility}t.default=class{constructor(e={}){this._elemsMutObserver=null,this._elementsMap={},this._recheckQueue=[],this._delayedActions={},this._trackedAsVisibleMap={},this._elemsSeenTimings={},this.mount=()=>{d.info("mount"),document.addEventListener("mousedown",this.handleMouseDown,!0),document.addEventListener("visibilitychange",this.handlePageVisChange)},this.unmount=()=>{d.info("umount"),this.elemsInObserver&&this.elemsInObserver.disconnect(),document.removeEventListener("visibilitychange",this.handlePageVisChange),document.removeEventListener("mousedown",this.handleMouseDown,!0),Object.keys(this._delayedActions).forEach((e=>{var t;clearTimeout(null===(t=this._delayedActions[e])||void 0===t?void 0:t.actionTimeout)})),this._delayedActions={}},this.handleMouseDown=e=>{this._events.trackBlock(function(e){const t=function(e,t){try{return"elementsFromPoint"in document?document.elementsFromPoint(e,t):"msElementsFromPoint"in document?document.msElementsFromPoint(e,t):null}catch(e){return null}}(e.clientX,e.clientY)||[],a=e.target||void 0,r=g(t,(e=>e instanceof HTMLElement&&!!e.dataset.guid));return r&&g(t,(e=>e instanceof HTMLElement&&(!!e.dataset.schemaPath||e===r)||e instanceof Node&&!r.contains(e)))||a}(e)||document.body,"blockClick",{itemType:"block"})},this.handleElemsIntersection=e=>{document.hidden?e.forEach((e=>{this._recheckQueue.push(e.target)})):e.forEach((e=>{const t=v(e.target),a=this._tree.getTargetDesc(e.target);if(!a)return;const r=`${a.guid}/${a.schemaPath.toString()}`,n=`impression_${r}`;if(e.intersectionRatio>=this._trackingOptions.elemsIntersectionThreshold&&t)this.cancelableDelayedAction(n,l.Positive,(()=>{this._trackedAsVisibleMap[r]||(this._trackedAsVisibleMap[r]=!0,this._elemsSeenTimings[r]=Date.now(),this._events.trackBlock(e.target,"blockImpressionIn",{itemType:"block"}))}),this._trackingOptions.elemsImpressionDelay);else{const t=r in this._trackedAsVisibleMap,a=n in this._delayedActions;if(!t&&!a)return;this.cancelableDelayedAction(n,l.Negative,(()=>{if(this._trackedAsVisibleMap[r]){this._trackedAsVisibleMap[r]=!1;const t=r in this._elemsSeenTimings?Date.now()-this._elemsSeenTimings[r]:0;this._events.trackBlock(e.target,"blockImpressionOut",{itemType:"block",componentTime:t})}}),this._trackingOptions.elemsImpressionDelay)}}))},this.handlePageVisChange=()=>{const{elemsInObserver:e}=this;!document.hidden&&this._recheckQueue.length>0&&e&&(this._recheckQueue.forEach((t=>{m(e,t)})),this._recheckQueue=[])},this.handleElemsMutation=e=>{const{elemsInObserver:t}=this;t&&e.forEach((e=>{const a=this._tree.getTargetDesc(e.target);if(!a)return;const r=`${a.guid}/${a.schemaPath.toString()}`;var n;this._trackedAsVisibleMap[r]||(n=e.target,v(n)?Promise.resolve(!0):new Promise((e=>{setTimeout((()=>{e(v(n))}),350)}))).then((a=>{a&&t&&m(t,e.target)}))}))};const{options:a={},eventea:r}=e;this._trackingOptions={elemsIntersectionThreshold:.4,elemsImpressionDelay:t.DEFAULT_IMPRESSION_DELAY,impressionBatchDelay:t.DEFAULT_IMPRESSION_BATCH_DELAY,localKeys:t.DEFAULT_LOCAL_KEYS,disableEventea:!1,...a},this._tree=new s.BlocksTree(this._trackingOptions),this._events=new i.BlocksTrackingEvents(r||null,this._tree,this._trackingOptions)}setTree(e){e&&this._tree.setPageMakerTree(e)}get elemsInObserver(){return void 0===this._elemsInObserver&&(this._elemsInObserver=h(this.handleElemsIntersection,{threshold:this._trackingOptions.elemsIntersectionThreshold})),this._elemsInObserver}get elemsMutObserver(){return void 0===this._elemsMutObserver&&(this._elemsMutObserver=new MutationObserver(this.handleElemsMutation)),this._elemsMutObserver}registerElement(e,t){if(null!==t)if(t instanceof HTMLElement){if(t!==this._elementsMap[e]&&this._elementsMap[e]&&this.unregisterElement(e),this.attachInfoDataAttrsToElement(e,t),t.dataset.guid=e,!this._tree.isActiveTracking(e))return;d.info({event:"attach",guid:e}),p.call(t.querySelectorAll("[data-eye-target]"),(e=>{this.observeElem(e)})),this.getListElements(e,t).forEach((e=>{this.observeElem(e)})),this._elementsMap[e]=t}else d.warn(`Couldn't find dom node for ${e}`)}unregisterElement(e){var t;const a=this._elementsMap[e];a instanceof HTMLElement&&(delete a.dataset.guid,delete this._elementsMap[e],null===(t=this._elemsInObserver)||void 0===t||t.unobserve(a))}getListElements(e,t){if(!this._tree.hasBlockInfo(e))return[];const a=[t].concat(Array.from(t.querySelectorAll("[data-schema-path]"))).map((e=>({elem:e,schemaPath:o.default.parseString(e.dataset.schemaPath)}))).filter((({schemaPath:e})=>e.hasListKey));if(0===a.length)return[t];const r=a.find((({schemaPath:e})=>1===e.length));if(r){const{elem:e}=r,t=[];return p.call(e.querySelectorAll("[data-schema-path]"),(a=>{if(!(a instanceof HTMLElement))return;const r=o.default.parseString(a.dataset.schemaPath);r.noImpressions||void 0===r.asNumber()||f(a,["schemaPath"])!==e||t.push(a)})),t}return a.reduce(((e,{elem:a,schemaPath:r})=>{if(!r.noImpressions&&f(a,["schemPath","guid"])===t){if(r.length>2||void 0===r.getAsNumber(1))throw new Error(`data-schema-path, that contain list keys (${o.LIST_SCHEMA_KEYS}), have to look like '${r.getListKey()}}' or \`${r.getListKey()}.\${index}\``);e.push(a)}return e}),[])}observeElem(e){var t,a;d.info({event:"attach to elem",element:e}),null===(t=this.elemsInObserver)||void 0===t||t.observe(e),null===(a=this.elemsMutObserver)||void 0===a||a.observe(e,{childList:!1,attributes:!0,subtree:!1})}attachInfoDataAttrsToElement(e,t){try{if(localStorage.getItem("set-page-maker-data-attrs")){const{type:a,version:r,render:n}=this._tree.getBlockInfo(e).block;t.dataset.type=a,t.dataset.schemaVersion=String(r),t.dataset.render=JSON.stringify(n)}}catch(e){}}cancelableDelayedAction(e,t,a,r){if(0===r)(0,c.requestIdleCallbackWithDuration)((()=>a.call(this)));else{const n=this._delayedActions[e];n&&(delete this._delayedActions[e],clearTimeout(n.actionTimeout)),n&&n.actionType!==t||(this._delayedActions[e]={actionType:t,actionTimeout:setTimeout((()=>{delete this._delayedActions[e],(0,c.requestIdleCallbackWithDuration)((()=>a.call(this)))}),r)})}}}},59416:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlocksTree=void 0;const r=a(80476).__importDefault(a(19231)),n={active:!1},o={localKeys:["itemType","itemName"]};function s(e,t,a){const r=Object.keys(t);for(const n of r)a(n,t[n])&&(e[n]=t[n]);return e}t.BlocksTree=class{constructor(e={}){this._traversedTargets=new WeakMap,this._blocksTrackingMeta={},this._blocksTrackingData={},this._opts=Object.assign(o,e)}setPageMakerTree(e){const t={},a=(e,r=[])=>{t[e.id]={block:e,pagePosition:r.join(".")},Array.isArray(e.content)&&e.content.forEach(((e,t)=>a(e,[...r,t+1])))};a(e),this._blocksRegistry=t}hasBlockInfo(e){return!!this._blocksRegistry&&e in this._blocksRegistry}getBlockInfo(e){if(this._blocksRegistry)return this._blocksRegistry[e]}doCollect(e,t,a=[]){if(!this._blocksRegistry||!this._blocksRegistry[e])return;const r=t.length,n=this.getBlockPayload(e),o=this._blocksRegistry[e].block.properties||{},i=t.getListKey();let c;if(i)if(c=o[i].filter((e=>!1!==e.active)),c.length>1){const e=o.panelProps||o.slideProps;e&&e.type&&"row"===e.type.substr(0,3)?n.view="row":n.view="slider"}else n.view="default";let u=o;o&&o.analytics&&Object.assign(n,o.analytics);let l,d,p=-1,h=!1,f=!1;for(let e=0;e<t.length;e++){const m=t.get(e);if(h=e==r-1,u=u[m],!u)throw new Error(`Connection with block schema is broken, is data-schema-path missed? path=${t}, error-at=${m}`);if(-1!==p){l=d="card";const a=t.getAsNumber(e);i&&!f&&void 0!==a&&(f=!0,n.componentMaxPosition=c.length,n.componentPosition=a+1-o[i].slice(0,a).filter((e=>!1===e.active)).length,u.productName&&(n.componentProductName=u.productName),u.productCategory&&(n.componentProductCategory=u.productCategory))}const g=e=>!!h||-1===this._opts.localKeys.indexOf(e);s(n,a[e],g),u.analytics&&s(n,u.analytics,g),t.getListKey()===m&&(p=e)}if(t.length>0){const e=!i||-1!==p&&r-1-p>=2;if(!n.itemType){const a=e?t.get(r-1):l;a&&(n.itemType=a)}if(!n.itemName){let t;e||n.itemType!==l||(t=d),e&&(t=u.title||u.text),"string"==typeof t&&(n.itemName=t)}}return{guid:e,payload:n}}traverseBlockTarget(e){const t=this.getTargetDesc(e);if(t)return this.doCollect(t.guid,t.schemaPath,t.payloadVector)}getTargetDesc(e){if(e){if(!this._traversedTargets)return this.traverseTargetDesc(e);if(!this._traversedTargets.has(e)){const t=this.traverseTargetDesc(e);this._traversedTargets.set(e,t)}return this._traversedTargets.get(e)}}traverseTargetDesc(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return;const t=[];let a=new r.default,n={};for(let o=e;o;o=o.parentElement){const e=o.dataset;if(e){if(e.schemaPath){a.length&&t.unshift(n),n={};const o=r.default.parseString(e.schemaPath);a=o.concat(a);let s=o.length;for(;s-- >1;)t.unshift({})}if(0!==a.length){if(e.aData)try{Object.assign(n,JSON.parse(e.aData),n)}catch(e){}for(const t of["itemType","itemName"])e[t]&&!n[t]&&(n[t]=e[t])}const o=e.guid;if(o)return a.length&&t.unshift(n),{guid:o,schemaPath:a,payloadVector:t}}}}getTrackingData(e){if(!this._blocksRegistry)throw new Error("blocksRegistry is not ready");if(!this._blocksTrackingMeta[e]){const t=this._blocksRegistry[e];if(!t)return n;const{block:a}=t,r=((a.meta||{}).analytics||{}).tracking||{active:!0};this._blocksTrackingMeta[e]=r}return this._blocksTrackingMeta[e]}getBlockPayload(e){const{_blocksRegistry:t}=this;if(!t)throw new Error("blocksRegistry is not ready");const a=this.getTrackingData(e),r=t[e];if(!r)throw new Error(`No metadata found for block ${e}`);const{block:n,pagePosition:o}=r,s=a.trackingName||`${n.type}_${n.id}`;return{...this._blocksTrackingData[e],type:n.type,name:s,pagePosition:o,componentPosition:1,componentMaxPosition:1}}isActiveTracking(e){return this.getTrackingData(e).active||function(){try{if("true"===localStorage.getItem("page_tracking_force_enabled"))return!0}catch(e){}return!1}()}}},63640:function(e,t){"use strict";function a(e,t){if("function"==typeof window.requestIdleCallback)return window.requestIdleCallback(e,t);const a=Date.now();return window.setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-a))})}),1)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestIdleCallbackWithDuration=t.safeCancelIdleCallback=t.safeRequestIdleCallback=void 0,t.safeRequestIdleCallback=a,t.safeCancelIdleCallback=function(e){return window.cancelIdleCallback?window.cancelIdleCallback(e):clearTimeout(e)};t.requestIdleCallbackWithDuration=function(e,t){const r=function(e){return Math.min(e||10,50)}(null==t?void 0:t.duration),n=()=>{a((t=>{if(t.timeRemaining()<r&&!t.didTimeout)return n();e(t)}),t)};n()}},85176:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isConnected=void 0,t.isConnected=function(e){return!(e instanceof Node)||(void 0!==e.isConnected?e.isConnected:!((e.ownerDocument||document).compareDocumentPosition(e)&Node.DOCUMENT_POSITION_DISCONNECTED))}},91232:function(e,t,a){"use strict";t._q=function(e,t,a={}){const{runInfo:s,cacheHash:i}=a;return Object.keys(e).reduce(((a,c)=>({...a,[c]:Object.keys(e[c]).reduce(((a,u)=>{const l=e[c][u];let d;if("clientJs"in l)d=l;else{const{npmVersion:e,...a}=l;let u="";if(!1===s?.flags.omitNamespace){const e=s.blocks.find((e=>(0,n.toBlockName)(e.name)===c));if(!e)throw new Error(`Block ${c} not found in runInfo.blocks`);e.name.startsWith("@")&&(u=`/${e.name.split("/")[0]}`)}d={...a,...o({mifName:(0,r.kebabize)(c),npmVersion:l.npmVersion},t+u,{cacheHash:i})}}return{...a,[u]:d}}),{})})),{})};const r=a(89938),n=a(34780);function o({mifName:e,npmVersion:t},a,{cacheHash:r}={}){const n=`${a}/${e}/${t}/${e}`,o=r?`?cache_hash=${r}`:"";return{clientJs:`${n}.client.js${o}`,serverJs:`${n}.server.js${o}`,css:`${n}.css${o}`}}},52493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").map(((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1))).join("")}},89938:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.kebabize=t.camelize=t.FIRST_ID=void 0,t.traverseTree=s,t.mapTree=i,t.asTree=function e(a,r=0){if("string"==typeof a)return e({id:a});if(Array.isArray(a)&&"string"==typeof a[0]){const t=a.map((t=>e({id:t})));return e(t)}const o=a;let s=r;return Array.isArray(o)?e({type:"fragment",content:o}):i(a,(e=>{let a=e.id;if(!a){const e=s>0?`-${String(s)}`:"";a=`${t.FIRST_ID}${e}`,s++}return{id:a,type:(0,n.default)(e.type??"as-tree-generated-type"),version:e.version??"AS_TREE_PLACEHOLDER",content:e.content,render:e.render,properties:e.properties,projectTitle:e.projectTitle}}))};const n=r(a(52493));t.camelize=n.default;const o=r(a(74035));function s(e,t,a){const r=a?.pattern??"post-order";return function e(a,n=0,o=0,s=0,i){const c=a.content?.length??0;let u=a.content??null;const l={depth:n,layerPosition:s,neighborsCount:o,parentNode:i};switch(r){case"pre-order":{const r=t(a,u,l);if(Array.isArray(a.content)){const t=a.content.map(((t,a)=>e(t,n+1,c-1,a,r)));r&&"object"==typeof r&&(r.content=t)}return r}case"post-order":return Array.isArray(a.content)&&(u=a.content.map(((t,r)=>e(t,n+1,c-1,r,a)))),t(a,u,l);default:throw new Error(`wrong pattern value: "${r}"`)}}(e)}function i(e,t){return s(e,((e,a)=>({...t(e),content:a})))}t.kebabize=o.default,t.FIRST_ID="generated-id"},74035:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},78018:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withMedia=t.MediaContext=t.MediaConsumer=t.MediaProvider=void 0;var n=a(52692);Object.defineProperty(t,"MediaProvider",{enumerable:!0,get:function(){return n.MediaProvider}}),Object.defineProperty(t,"MediaConsumer",{enumerable:!0,get:function(){return n.MediaConsumer}}),Object.defineProperty(t,"MediaContext",{enumerable:!0,get:function(){return n.MediaContext}});var o=a(84901);Object.defineProperty(t,"withMedia",{enumerable:!0,get:function(){return r(o).default}})},668:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackMediaProvider=void 0;const r=a(80476),n=r.__importStar(a(44121)),o=r.__importDefault(a(99068));class s extends n.PureComponent{render(){return this.props.children(this.props.media)}}t.FallbackMediaProvider=(0,o.default)()(s)},52692:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaConsumer=t.MediaProvider=t.MediaContext=void 0;const r=a(80476),n=r.__importStar(a(44121)),o=a(668),s=r.__importDefault(a(10920));t.MediaContext=s.default,t.MediaProvider=({value:e,children:a})=>n.createElement(t.MediaContext.Provider,{value:e},a),t.MediaConsumer=({children:e})=>n.createElement(t.MediaContext.Consumer,null,(t=>((e,t)=>t?e(t):n.createElement(o.FallbackMediaProvider,null,e))(e,t)))},10920:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(80476).__importStar(a(44121)),n="__MEDIA_CONTEXT_GLOBAL_REACT_CONTEXT__";let o;o=window[n],o||"undefined"==typeof globalThis||(o=globalThis[n]),o||void 0===a.g||(o=a.g[n]),o||(o=r.createContext(null),"undefined"!=typeof globalThis&&(globalThis[n]=o),void 0!==a.g&&(a.g[n]=o),window[n]=o),t.default=o},84901:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(80476).__importStar(a(44121)),n=a(52692);t.default=function(e){var t;return(t=class extends r.PureComponent{render(){return r.createElement(n.MediaConsumer,null,(t=>r.createElement(e,{...this.props,media:t})))}}).displayName=`WithMedia(${e.displayName||e.name})`,t}},24650:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t.getMap=void 0;const n=r(a(44121)),o=a(89938),s=a(45302),i=a(17129),c=r(a(60111)),u=a(28619);t.getMap=s.getMap;const l=(0,c.default)("boxy:mm-lazy:client");t.fillMap=async(e,t,a,r)=>(await(0,s.fillMap)(),(0,o.traverseTree)(e,(e=>{"string"==typeof e.render?.lazy&&"none"!==e.render.lazy&&(({subtree:e,baseUrl:t,containerElement:a,getRetryUrl:r})=>{if(void 0===e.render)return;const o=(0,s.getTemper)(),c=(0,i.getMmid)(e);if(o.modules[c])return;const{render:d}=e,p=(0,i.getUrl)(e,"clientJs",t),h=(0,i.getUrl)(e,"css",t),f=e=>n.default.createElement(u.ClientLazyRender,{clientJs:p,css:h,mmid:c,forwardDomRef:e.forwardDomRef,takeMifAndRenderIt:e.takeMifAndRenderIt,modules:o.modules,strategy:d.lazy,containerElement:a,getRetryUrl:r});f.displayName=`${c}(ClientLazyRender)`,f.__lazyrenderer=!0;const m={initialize(){m.initialize=!0,l.debug("initializing lazy",c)},initialized:!0,meta:{mmid:c,clientJs:p,css:h,strategy:d.lazy,render:e.render},exports:f};if(o.modules[c]=m,void 0===m.exports)throw new Error(`mm.exports for "${c}" is not defined!`);(0,s._addToMap)(c,m.exports),l.debug("assigned lazy to temper",m)})({subtree:e,baseUrl:t,containerElement:a,getRetryUrl:r})})),(0,s.getMap)()),t.default=t.fillMap},21159:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(45302),o=a(89938),s=r(a(52268)),i=r(a(50357)),c=a(17129),u=r(a(60111)),l=a(24650),d=(0,u.default)("boxy:mm-lazy:dynamic");t.default=async({tree:e,baseUrl:t,containerElement:a,getRetryUrl:r})=>{d.debug("starting blockMap with baseUrl and tree",t,e),await(0,l.fillMap)(e,t,a,r);const u=(0,n.getTemper)(),p=[];(0,o.traverseTree)(e,(e=>{if(void 0===e.render)return;const n=(0,c.getMmid)(e),o=u.modules[n];if(!o?.exports&&!o?.error){o?d.debug("module found, but no exports",n,o):d.debug("module not found",n);const u=(0,c.getUrl)(e,"clientJs",t),l=(0,c.getUrl)(e,"css",t);d.debug(`block ${e.type} not found, loading it via solo url`,u);const h=e.render&&e.render.integrity,f={mmid:n,...(h&&{integrity:h})??void 0},m=Promise.all([(0,s.default)({type:"stylesheet",href:l,options:f,containerElement:a,getRetryUrl:r}),(0,i.default)({src:u,options:f,containerElement:a,getRetryUrl:r})]).then((()=>({mmid:n}))).catch((()=>({mmid:n,failed:!0})));p.push(m)}}));const h=[],f=await Promise.all(p);for(const{mmid:e,failed:t}of f)t?d.warn(`mmid ${e} failed to load`):(d.debug(`initializing async block ${e}`),h.push((0,n.initializeModule)(e).catch((e=>({error:e})))));return(await Promise.all(h)).map((e=>e?.error)).filter(Boolean).length&&d.error({message:"failed to load some modules"}),(0,n.getMap)()}},28619:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientLazyRender=void 0;const c=s(a(44121)),u=i(a(50357)),l=i(a(52268)),d=i(a(60111)),p=a(45302),h=a(75462),f=(0,d.default)("boxy:mm-lazy:render"),m={__html:""},g=(0,h.createUseObserverVisible)({root:null,rootMargin:"200px 0px 0px 0px"}),v={};t.ClientLazyRender=({mmid:e,clientJs:t,css:a,forwardDomRef:r,modules:n,strategy:o,containerElement:s,getRetryUrl:i,takeMifAndRenderIt:d,props:h,loadTrigger:y,instant:b=!0})=>{const _=(0,c.useRef)(0);_.current++,f.info("Render count",_.current,e,h);const E=`${e}-lazy-inner`,[S,w]=(0,c.useState)(!!n[E]?.initialized),[k,O]=(0,c.useState)(!!n[E]),[T,C]=(0,c.useState)(b&&S?"mif":"hydration"),[R,M]=(0,c.useState)(null),[N,x]=(0,c.useState)({element:null}),A=g(N.element,"viewport"===o),[P,I]=(0,c.useState)(!1),[L,q]=(0,c.useState)(!1),[D,j]=(0,c.useState)(!1);(0,c.useEffect)((()=>{y&&"trigger"===o&&y.then((()=>j(!0)))}),[]),f.info("render state",{liid:E,liidModule:n[E],isInitialized:S,isLoaded:k,isInViewport:A,isHovered:P,isIdleForLoad:L}),(0,c.useEffect)((()=>{"function"==typeof r&&r(N.element)}),[N.element]),(0,c.useEffect)((()=>{"string"==typeof a&&(f.info("addLink for",a),(0,l.default)({type:"stylesheet",href:a,options:{mmid:e},containerElement:s,getRetryUrl:i}).catch((e=>M(e)))),"idle"===o&&("function"==typeof window.__testRequestIdleCallback?__testRequestIdleCallback((()=>q(!0))):"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>q(!0))):q(!0))}),[]);const F=void 0===o||"none"===o,U="hover"===o&&P,V="viewport"===o&&A,B="idle"===o&&L,H="trigger"===o&&D,Y="static"===o&&0===N.element?.innerHTML.length,$=F||U||V||B||Y||H;if(f.info("isTriggered",$),$&&!k&&(0,u.default)({src:t,options:{mmid:E},containerElement:s,getRetryUrl:i}).then((()=>O(!0))).catch((e=>M(e))),(0,c.useEffect)((()=>{k&&!S&&(f.info("call initialize()",E,n[E]),(0,p.initializeModule)(E).then((()=>{if(w(!0),!d){const e=n[E].exports??c.default.Fragment;e.bota&&h?.onBotaUpdate?.(e.bota)}})).catch((e=>M(e)))),"hydration"===T&&$&&k&&S&&C("mif")}),[k,S]),R)throw R;if("mif"===T){const t=n[E].exports??c.default.Fragment;f.info("returning loaded component",t);const a="function"==typeof d?d(t):c.default.createElement(t,{...h});return c.default.createElement("div",{"data-mmid":e,ref:e=>{e!==N.element&&x({element:e})},style:v},a)}let J;return"hover"===o&&(J={onMouseMove:()=>{P||I(!0)}}),f.info("returning stub"),c.default.createElement("div",{"data-mmid":e,ref:e=>{e!==N.element&&x({element:e})},style:v,suppressHydrationWarning:!0,dangerouslySetInnerHTML:m,...J})},t.ClientLazyRender.displayName="ClientLazyRender"},75462:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUseObserverVisible=void 0;const r=a(44121);t.createUseObserverVisible=e=>(t,a)=>{const[n,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!t||n||!a)return;const r=new IntersectionObserver(((e,t)=>{e.forEach((({isIntersecting:e})=>{e&&(t.disconnect(),o(!0))}))}),e);return r.observe(t),()=>{r.disconnect()}}),[t]),n}},52268:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e({type:t,href:a,containerElement:r,options:n,getRetryUrl:u}){if(i.info("start",a,t,n),c.has(a)){const e=c.get(a);return i.info("return from cache",a,e),e}const l=document.createElement("link");Object.assign(l,{rel:t,href:a});const d=(u??o.defaultGetRetryUrl)(a),p=new Promise(((o,c)=>{l.onerror=()=>{if(!d||d===a){const e=new Error(`could not load link ${a}`);return(0,s.initEmptyTemperAndAddLoadError)(n.mmid,e),i.error("fail to load mif (and no retry url)",e),void c(e)}i.error("script.onerror retry addLink() call",d),e({type:t,href:d,options:n,containerElement:r,getRetryUrl:u}).then(o,c)},"onload"in l?l.onload=o:setTimeout(o,50);const p=r??document.head;i.info("appending link to target",l,p),p.appendChild(l)}));return c.set(a,p),p};const n=r(a(60111)),o=a(50785),s=a(22468),i=(0,n.default)("boxy:mm:addLink"),c=new Map},50357:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e({src:t,options:a,containerElement:r,getRetryUrl:n}){if(i.info("start",t,a),c.has(t)){const e=c.get(t);return i.info("return from cache",e),e}const u=document.createElement("script");Object.assign(u,{async:!0,crossOrigin:"anonymous",src:t}),"mmid"in a&&(u.dataset.mmid=a.mmid),a.integrity&&u.setAttribute("integrity",a.integrity);const l=(n??o.defaultGetRetryUrl)(t),d=new Promise(((o,c)=>{u.onerror=()=>{if(!l||l===t){const e=new Error(`could not load script ${t}`);return(0,s.initEmptyTemperAndAddLoadError)(a.mmid,e),i.error("fail to load mif (and no retry url)",e),void c(e)}i.error("script.onerror retry addScript() call",l),e({src:l,options:a,containerElement:r,getRetryUrl:n}).then(o,c)},u.onload=o;const d=r??document.head;i.info("appending script to target",u,d),d.appendChild(u)}));return i.info("setting promise to cache",t,d),c.set(t,d),d};const n=r(a(60111)),o=a(50785),s=a(22468),i=(0,n.default)("boxy:mm:addScript"),c=new Map},50785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetRetryUrl=function(e){for(const t in r)if(0===e.indexOf(t))return e.replace(t,r[t])};const a="https://fallback.cdn-tinkoff.ru/",r={"https://cdn.tbank.ru":`${a}acdn`,"https://acdn.tinkoff.ru":`${a}acdn`}},17129:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=function(e,t,a){const{type:r,render:s}=e;if(void 0===s)throw new Error(`render field is not defined for ${r}@${e.version}`);if(t in s&&"string"==typeof s[t])return s[t];if("npmVersion"in s){const e=(0,n.default)(r);return`${a}/${e}/${s.npmVersion}/${e}${o[t]}`}throw new Error(`failed to get resource (mif) location for ${e.id}`)},t.getMmid=function(e){const{type:t,render:a}=e;if(void 0===a)throw new Error(`failed to get mmid for subtree ${e.id}`);return a.mmid??a.clientJs??`${t}@${a.npmVersion}`};const n=r(a(74035)),o={clientJs:".client.js",css:".css",jsMap:".client.js.map"}},45302:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t.initializeModule=t._addToMap=t.getTemper=t.getMap=t._map=void 0;const n=r(a(44121)),o=r(a(90776)),s=r(a(90130)),i=(0,r(a(60111)).default)("mm:client");t._map={},t.getMap=()=>t._map,t.getTemper=()=>{window.__tempref59452||(window.__tempref59452={});const e=window.__tempref59452;return void 0===e.externals&&(e.externals={react:n.default,"react-dom":o.default,"react/jsx-runtime":s.default}),void 0===e.modules&&(e.modules={}),e},t._addToMap=(e,a)=>{t._map[e]=a},t.initializeModule=e=>{const a=(0,t.getTemper)().modules[e];if(void 0===a){const t=`module ${e} not found`;return i.error(t),Promise.reject(new Error(t))}return i.debug("initial mm value",a),!1===a.initialized?(a.initialize()||Promise.resolve()).then((()=>{a.initialized=!0,a.exports||i.error("no exports after initialization",e,a),i.debug("mm initialized",a),(0,t._addToMap)(e,a.exports)})).catch((t=>{throw a.error=t,i.error(`initialization of ${e} failed with error ${t.message}\n${t.stack}`),t})):Promise.resolve()},t.fillMap=async()=>{const e=(0,t.getTemper)(),a=[];for(const r in e.modules)a.push((0,t.initializeModule)(r).catch((e=>({error:e}))));return(await Promise.all(a)).map((e=>e?.error)).filter(Boolean).length&&i.error({message:"failed to load some modules"}),t._map},t.default=t.fillMap},22468:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEmptyTemperAndAddLoadError=function(e,t){const a=(0,r.getTemper)();a.modules[e]||(a.modules[e]={initialized:!1,initialize:()=>{}});const n=a.modules[e];if(n.loadFailed=!0,n.error){const e=n.error.errors?n.error.errors?.concat(t):[n.error,t];n.error=new Error(`${e.map((e=>e.message)).join("\n")}`),n.error.errors=e}else n.error=t};const r=a(45302)},91401:function(e,t){"use strict";t.gV=void 0,t.Z5=function(e={},a){const{modules:r}=a??window.__tempref59452;if(!r)return null;let n=0,o=0,s=0,i=0;const c=[];for(const e of Object.keys(r)){const a=r[e];if(!a.uniqueName||t.gV.has(a.uniqueName)||!a.manifest||!a.manifest.clientSize||!a.manifest.clientEntrySize)continue;let u;if(t.gV.add(a.uniqueName),c.push(a.uniqueName),a.manifest.clientChunks){u=Object.values(a.manifest.clientChunks).filter((e=>"shared"===e.type));const e=u.reduce(((e,t)=>e+t.size),0);s+=e,i+=e}if(n+=a.manifest.clientSize,o+=a.manifest.clientEntrySize,a.sharingResult&&u?.length)for(const e of Object.values(a.sharingResult))if(e.from===a.uniqueName){const t=u.find((t=>t.module===e.module));t&&(o+=t.size,i-=t.size)}}return{blocks:c,totalJs:n,loadedJs:o,sharedJs:s,savedViaSharingJs:i,totalCss:0,withSharing:s>0,urlMask:e.urlMask||"unspecified"}},t.gV=new Set},34780:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PUBLIC_PATH=void 0,t.removeNs=n,t.toBlockName=function(e){return(0,r.camelize)(n(e))},t.toMifName=function(e){return(0,r.kebabize)(n(e))};const r=a(89938);function n(e){return e.startsWith("@")?e.split("/")[1]:e}t.DEFAULT_PUBLIC_PATH="mm"},23041:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useBlockTreeMap=void 0;const c=a(89938),u=i(a(60111)),l=s(a(44121)),d=(0,u.default)("page-maker");t.useBlockTreeMap=(e,{blocksMap:t,use:a,miss:r})=>(0,l.useMemo)((()=>{const n=new WeakMap;return e&&(0,c.traverseTree)(e,((e,o,s)=>{const{depth:i,parentNode:c}=s;let u;void 0!==t?u=t[e.id]??t[e.type]:"function"==typeof a&&(u=a(e,{depth:i})),u||(u=({children:t})=>l.default.createElement("div",{"data-fail-type":e.type},t),d.warn({message:`Component ${e.type} not found. Using fallback instead div data-fail-type={subtree.type}`,subtree:{type:e.type,version:e.version,render:e.render}}),r?.(e));let p=[];if(u?.bota?.exposes&&u.bota.providers){const e=new Set(u.bota.exposes);p=u.bota.providers.filter((t=>e.has(t.provide)))}const h={id:e.id,component:u,provides:u?.provides||c?.provides,parentsGarbage:[...c?.parentsGarbage??[],...p]};if("string"==typeof e.id){if(n.has(e))throw new Error(`Duplicate block "${e.id}" in subtree`);n.set(e,h)}return h}),{pattern:"pre-order"}),n}),[e,t,a,r])},40848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContainer=void 0;const r=a(15617);t.getContainer=(e,t)=>{const a=[...e?.providers??[],...t];return(0,r.initContainer)({modules:e?.modules??[],providers:a})}},89765:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MakerContext=void 0;const n=r(a(44121));t.MakerContext=n.default.createContext({hostProviders:[],isHydration:!1,raf:null})},85125:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebugTempref=void 0;const r=a(44121);t.useDebugTempref=e=>{(0,r.useEffect)((()=>{let t;return t=window.__tempref59452,t&&(t.pageMaker=t.pageMaker||{},t.pageMaker.props=e),()=>{t&&(t.pageMaker=void 0)}}),[])}},70956:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createDi=t.ALLOWED_KEYS=void 0,(0,r(a(60111)).default)("page-maker:di"),t.ALLOWED_KEYS=Symbol("allowed_di_keys"),t.createDi=e=>{const{dival:a,diKeys:r}=e,n={[t.ALLOWED_KEYS]:r,get:e=>{const r=n[t.ALLOWED_KEYS];let o;return(void 0===r||-1!==r.indexOf(e))&&(o=a?.[e]),o}};return n}},11383:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;const n=r(a(44121));class o extends n.default.Component{constructor(e){super(e),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const{onError:a}=this.props;a?.(e,{...t,subtree:this.props.subtree,props:this.props})}render(){return this.state.error?n.default.createElement("div",{"data-fail-reason":this.state.error,"data-fail-type":this.props.subtree.type}):this.props.render(this.props)}}o.displayName="ErrorBoundary (NodeRenderer)",t.ErrorBoundary=o,t.default=o},74700:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateProps=void 0;const r=a(70956);t.generateProps=(e,t)=>{const{children:a,missedDi:n}=t;let o=t.bota;const s={...t.dival},i=(t=[])=>{t.forEach((t=>{s&&t in s||n({key:t,bota:o,subtree:e})}))},c=(0,r.createDi)({dival:s,diKeys:o?.diKeys});i(o?.diRequiredKeys);const u=s&&Object.keys(s).reduce(((e,t)=>(!o?.diKeys?.includes(t)&&o?.diKeys?.length||(e[t]=s[t]),e)),{});return{di:c,dival:u,key:e.id,id:e.id,children:a,forwardDomRef:a=>t.saveDomRef(e.id,a,e),..."sticky"===e.type?{scrollParent:t.scrollParent}:{},onBotaUpdate:e=>{o=e,c[r.ALLOWED_KEYS]=o?.diKeys,i(o?.diRequiredKeys)}}}},64315:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.JointMaker=t.PAGEMAKER_BUILTIN_BLOCK_TYPES=t.PAGEMAKER_BUILTIN_BLOCKS=void 0;const i=s(a(49315));t.JointMaker=i.default,t.PAGEMAKER_BUILTIN_BLOCKS=i.known,t.PAGEMAKER_BUILTIN_BLOCK_TYPES=Object.keys(i.known),t.default=i.default},49315:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.jointUse=t.known=void 0;const c=s(a(44121)),u=i(a(60111)),l=a(83842),d=a(44193),p=a(84817),h=a(13790),f=a(90077),m=i(a(55947)),g=(0,u.default)("page-maker:render");function v(e){const{use:a,map:r,tree:n}=e,o=(0,c.useMemo)((()=>[...(0,l.singletonProviders)(),...(0,h.singletonProviders)(),...(0,d.singletonProviders)()]),[n?.id]),s=[...e.providers||[],...o];let i={};r?i={map:{...r,...t.known}}:a&&(i={use:(e,r)=>(0,t.jointUse)(e)||a?.(e,r)});const u=(0,c.useMemo)((()=>n?{id:"stickyMinihost",type:"stickyMinihost",version:"",content:[{id:"scrollMinihost",type:"scrollMinihost",version:"",content:[{id:"busDispatchMinihost",type:"busDispatchMinihost",version:"",properties:{tree:n},content:[{id:"legacyPropsMinihost",type:"legacyPropsMinihost",version:"",content:[n]}]}]}]}:n),[n]);return c.default.createElement(m.default,{...e,providers:s,tree:u,...i})}t.known={flex:f.Flex,fragment:f.Fragment,screen:f.Screen,busDispatchMinihost:l.BusDispatchMinihost,scrollMinihost:d.ScrollMinihost,legacyPropsMinihost:p.LegacyPropsMinihost,stickyMinihost:h.StickyMinihost},t.jointUse=({type:e})=>{if(void 0!==t.known[e])return g.debug(`for type "${e}" found build-in component, returning`),t.known[e];g.debug(`jointUse: type "${e}" not found inside page-maker, going outside`)},v.displayName="JointMaker",t.default=v},40482:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;const n=r(a(44121)),o=r(a(10521)),s=r(a(73210)),i=["padding","background","flex","flexDirection","justifyContent","alignItems","borderTop","borderBottom","alignSelf"].concat(["fontSize","fontFamily","fontWeight","color"]),c=(e,t)=>Object.keys(e).reduce(((a,r)=>(-1!==t.indexOf(r)&&e[r]&&(a[r]=e[r]),a)),{});function u(e){const{className:t,hidden:a,html:r,forwardDomRef:u}=e,l=c(e,i),d=(0,o.default)(s.default.flex,t,{[s.default.hidden]:a});return r&&!e.children?n.default.createElement("div",{ref:u,dangerouslySetInnerHTML:{__html:r},className:d,style:l}):n.default.createElement("div",{ref:u,className:d,style:l},e.children)}u.displayName="Flex"},90077:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Flex=void 0,t.Fragment=o,t.Screen=s;const n=r(a(40482));function o(e){return e.children}function s(e){return e.children}t.Flex=n.default,o.displayName="PageMakerFragment",s.displayName="PMScreen"},79171:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRenderer=void 0;const i=s(a(44121)),c=a(79609),u=a(74700),l=a(98920),d=a(23722),p=a(89765);t.NodeRenderer=({subtree:e,component:t,dival:a,saveDomRef:r,scrollParent:n,missedDi:o,indexNumber:s,nanoProvides:h,parentsGarbage:f,children:m,...g})=>{const{hostProviders:v}=(0,i.useContext)(p.MakerContext),[y,b]=(0,i.useState)(t.bota),_=(0,i.useRef)(y);_.current=y;const[E,S]=(0,i.useState)(0);let w={};t.consumes&&(w=Object.keys(t.consumes).reduce(((e,a)=>{const r=t.consumes?.[a];if("string"==typeof r&&r.startsWith("EXPERIMENTAL_")){if(!h||!(r in h))throw new Error(`token ${r} is not provided!`);e[a]=h[r]}return e}),{}));const k=(0,u.generateProps)(e,{children:m,dival:a,bota:y,saveDomRef:r,scrollParent:n,missedDi:o}),O=(0,i.useRef)();O.current=(0,l.useContainer)({subtree:e,blockComponent:t,bota:y,parentsGarbage:f,hostProviders:v,pageMakerProps:{forwardDomRef:k.forwardDomRef},indexNumber:s});const T=(0,i.useMemo)((()=>{const a=({properties:a,reactiveProps:r,children:n})=>{(0,i.useEffect)((()=>{let e=[];return O.current.has(c.BOXY_BLOCK_MOUNT)&&(e=O.current.get(c.BOXY_BLOCK_MOUNT).map((e=>e())).filter((e=>!!e))),()=>e.forEach((e=>e()))}),[]);const o={...a,...r,...w,onBotaUpdate:e=>{r.onBotaUpdate(e),b(e),_.current&&_.current!==e&&S(E+1)}};return i.default.createElement(d.SkeletonRenderer,{container:O.current,subtree:e,mainComponentProps:o,Com:t},n)};return a.displayName="MifContainerMemo(NodeRenderer)",a}),[e.id,t,E]);return i.default.createElement(T,{properties:e.properties,reactiveProps:{...g,...k}},k.children)},t.NodeRenderer.displayName="NodeRenderer"},55947:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=s(a(44121)),u=i(a(60111)),l=a(89938),d=a(6810),p=a(79609),h=a(15617),f=a(23041),m=a(51092),g=a(89765),v=a(85125),y=(0,u.default)("page-maker"),b=(0,u.default)("page-maker");function _(e){(0,v.useDebugTempref)(e);const t=(0,c.useRef)(0);t.current++,b.info("Render count",t.current,e);const{tree:a,dival:r,saveDomRef:n,isConcurrentFeaturesEnabled:o,domRegistry:s}=e,[i]=(0,c.useState)(new WeakMap),u=(0,c.useRef)(!0),l=(0,f.useBlockTreeMap)(a,{blocksMap:e.map,use:e.use,miss:e.miss});(0,c.useEffect)((()=>{{const e=window.__tempref59452;e&&(e.pageMaker=e.pageMaker||{}),e?.pageMaker&&(e.pageMaker.refs=i)}}),[]),(0,c.useEffect)((()=>{y.debug({event:"reistry",domRegistry:s}),u.current=!1}),[a]);const{displayTree:d}=(0,m.renderTree)(a,{dival:r,saveDomRef:(e,t,a)=>{s.set(e,t),i.set(a,t),n&&n(e,t)},missedDi:e.missedDi||(e=>{}),isConcurrentFeaturesEnabled:o,blocksTreeMap:l});return d}_.displayName="PureMaker";const E=e=>{const t="__requestAnimationFrame"in e,{tree:a,providers:r,isHydration:n,onBlockRenderError:o,__requestAnimationFrame:s,__cancelRequestAnimationFrame:i,...u}=e,[f]=(0,c.useState)(new Map),m=new Set;a&&(0,l.traverseTree)(a,(({id:e})=>m.add(e)));const v={hostProviders:[...r??[],(0,c.useMemo)((()=>(0,h.provide)({provide:p.BOXY_INTERNAL_TREE_IDS_TOKEN,useValue:m})),[a]),(0,c.useMemo)((()=>(0,h.provide)({provide:p.BOXY_INTERNAL_DOM_REGISTRY_TOKEN,useValue:f})),[f]),(0,c.useMemo)((()=>(0,h.provide)({provide:p.BOXY_INTERNAL_CUSTOM_SCROLL_TO_TOKEN,useValue:e.scrollTo||null})),[e.scrollTo]),(0,c.useMemo)((()=>(0,h.provide)({provide:p.BOXY_INTERNAL_INITIAL_STICKY_OFFSET_TOKEN,useValue:e.initialStickyOffset||null})),[e.initialStickyOffset]),(0,c.useMemo)((()=>(0,h.provide)({provide:p.BOXY_INTERNAL_SCROLL_PARENT_TOKEN,useValue:e.scrollParent||null})),[e.scrollParent]),d.nodeIdProvider,d.blockTypeProvider,d.schemaVersionProvider,d.blockProjectProvider,d.propertiesProvider],isHydration:!!n,onBlockRenderError:o,raf:t?s:window.requestAnimationFrame,cancelRaf:i??window.cancelAnimationFrame};return c.default.createElement(g.MakerContext.Provider,{value:v},c.default.createElement(_,{...u,tree:a,domRegistry:f}))};E.displayName="MakerContextHoc",t.default=E},51092:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTree=function(e,t){const{onBlockRenderError:a}=(0,c.useContext)(p.MakerContext);let r,n=0;const{blocksTreeMap:o}=t;return f.debug({event:"renderTree",tree:e,options:t}),r=e?(0,l.traverseTree)(e,((e,r,{depth:s})=>{n++;const i=o.get(e);if(!i)throw new Error(`Block with id ${e.id} not found in the blocksMap`);const{component:u,provides:l,parentsGarbage:p}=i,f={subtree:e,component:u,dival:t.dival,saveDomRef:t.saveDomRef,scrollParent:t.scrollParent,missedDi:t.missedDi,indexNumber:n,nanoProvides:l,parentsGarbage:p,children:r,key:e.id};let m;m=u.__lazyrenderer?({subtree:e,onError:t,render:a,...r})=>{const n=u;return c.default.createElement(n,{takeMifAndRenderIt:e=>c.default.createElement(h.NodeRenderer,{...r,...f,component:e})})}:({subtree:e,onError:t,render:a,...r})=>c.default.createElement(h.NodeRenderer,{...r,...f});const g=c.default.createElement(d.ErrorBoundary,{...e.properties,key:e.id,subtree:e,onError:a,__unstable_block_type:e.type,__debug:{isLazy:u.__lazyrenderer,botaDiKeys:u.bota?.diKeys,botaKeys:Object.keys(u.bota||{})},render:m});return t.isConcurrentFeaturesEnabled&&1===s?c.default.createElement(c.Suspense,{fallback:null},g):g})):null,f.debug({event:"renderTreeResult",result:r,counter:n}),{displayTree:r,counter:n}};const c=s(a(44121)),u=i(a(60111)),l=a(89938),d=a(11383),p=a(89765),h=a(79171),f=(0,u.default)("page-maker:render")},23722:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonRenderer=void 0;const i=s(a(44121)),c=a(79609),u=a(89765);t.SkeletonRenderer=({container:e,subtree:t,mainComponentProps:a,Com:r,children:n})=>{const{id:o,type:s}=t,{isHydration:l,raf:d,cancelRaf:p}=(0,i.useContext)(u.MakerContext),h=!l&&d&&e.has(c.BOXY_BLOCK_SKELETON_COMPONENT)?{type:"skeleton",SkeletonComponent:e.get(c.BOXY_BLOCK_SKELETON_COMPONENT)}:{type:"no-skeleton"},[f,m]=(0,i.useState)(h),g=(0,i.useMemo)((()=>{if("skeleton"!==f.type)try{const t=e.get(c.BOXY_BLOCK_MAIN_COMPONENT_PROPS);return e.has(c.BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS)?{...e.get(c.BOXY_BLOCK_MAIN_COMPONENT_LEGACY_PROPS),...t}:t}catch(e){throw new Error(`dippy failed to resolve block deps for main component props '${s??o}'`,{cause:e})}return{}}),[e,f.type]);(0,i.useEffect)((()=>{let t;if("skeleton"===f.type&&(t=d?.((()=>{m({type:"skeleton-main",SkeletonComponent:e.get(c.BOXY_BLOCK_SKELETON_COMPONENT)})}))),window?.__tempref59452){window.__tempref59452.pageMaker=window.__tempref59452.pageMaker??{};const t=window.__tempref59452.pageMaker.blocks=window.__tempref59452.pageMaker.blocks||{};t[o]=t[o]||{},t[o].hasSkeleton=e.has(c.BOXY_BLOCK_SKELETON_COMPONENT),t[o].renderPhase=f.type}return()=>{t&&p?.(t)}}),[f,e]);const v=(e.get({token:c.BOXY_INTERNAL_LEGACY_REACTIVE_PROPS,optional:!0})??[]).map((e=>e()));if("skeleton"===f.type)return i.default.createElement(f.SkeletonComponent,null);const y={...g,...a,...Object.assign({},...v),dival:{...g.dival,...a.dival}},b=i.default.createElement(r,{...y},n);return"skeleton-main"===f.type?i.default.createElement(f.SkeletonComponent,null,b):b},t.SkeletonRenderer.displayName="SkeletonRenderer"},98920:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useContainer=void 0;const n=a(44121),o=r(a(60111)),s=a(79609),i=a(40848);t.useContainer=({subtree:e,blockComponent:t,bota:a,parentsGarbage:r,hostProviders:c,pageMakerProps:u,indexNumber:l})=>{const d=[t,a,e.id,l],p=(0,n.useMemo)((()=>[]),d);(0,n.useEffect)((()=>{const e=p.map((e=>e()));return()=>{e.forEach((e=>e?.()))}}),d);const h={provide:s.BOXY_BLOCK_ON_MOUNT,useValue:e=>{p.push(e)}},f=(0,o.default)(`page-maker:init-container:${e.type??e.id}`),{mifContainer:m,providers:g}=(0,n.useMemo)((()=>{const{content:t,...n}=e,o=[{provide:s.BOXY_SAFE_SUBTREE,useValue:n},{provide:s.BOXY_FORWARD_DOM_REF,useValue:u.forwardDomRef}];o.push(h);const d=a?.props??{},p=d?.dival;p&&!p.isToken&&(void 0!==p.eventea&&(1!==Object.keys(p).length&&f.error("dival.eventea is not the only key in bota.props.dival",p),d.workaroundEventea=p.eventea),delete d.dival),o.push({provide:s.BOXY_BLOCK_MAIN_COMPONENT_PROPS,useFactory:e=>{const t=e;return void 0!==t?.workaroundEventea&&(t.dival={eventea:t.workaroundEventea}),{...e,dival:t.dival}},deps:d}),o.push({provide:s.BOXY_INTERNAL_INDEX_NUMBER_TOKEN,useValue:l});const m=[...r,...c,...o];return f.debug("allProviders",m),{mifContainer:(0,i.getContainer)(a,m),providers:m}}),d);return(0,n.useDebugValue)(`Got ${g.length} providers`),m}},96072:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").map(((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1))).join("")}},87474:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.kebabize=t.camelize=t.FIRST_ID=void 0,t.traverseTree=s,t.mapTree=i,t.asTree=function e(a,r=0){if("string"==typeof a)return e({id:a});if(Array.isArray(a)&&"string"==typeof a[0]){const t=a.map((t=>e({id:t})));return e(t)}const o=a;let s=r;return Array.isArray(o)?e({type:"fragment",content:o}):i(a,(e=>{let a=e.id;if(!a){const e=s>0?`-${String(s)}`:"";a=`${t.FIRST_ID}${e}`,s++}return{id:a,type:(0,n.default)(e.type??"as-tree-generated-type"),version:e.version??"AS_TREE_PLACEHOLDER",content:e.content,render:e.render,properties:e.properties,projectTitle:e.projectTitle}}))};const n=r(a(96072));t.camelize=n.default;const o=r(a(45309));function s(e,t,a){const r=a?.pattern??"post-order";return function e(a,n=0,o=0,s=0,i){const c=a.content?.length??0;let u=a.content??null;const l={depth:n,layerPosition:s,neighborsCount:o,parentNode:i};switch(r){case"pre-order":{const r=t(a,u,l);if(Array.isArray(a.content)){const t=a.content.map(((t,a)=>e(t,n+1,c-1,a,r)));r&&"object"==typeof r&&(r.content=t)}return r}case"post-order":return Array.isArray(a.content)&&(u=a.content.map(((t,r)=>e(t,n+1,c-1,r,a)))),t(a,u,l);default:throw new Error(`wrong pattern value: "${r}"`)}}(e)}function i(e,t){return s(e,((e,a)=>({...t(e),content:a})))}t.kebabize=o.default,t.FIRST_ID="generated-id"},45309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},85370:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{userAgent:e}=navigator;let t,a=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(a[1]))return!1;if("Chrome"===a[1]&&(t=e.match(/\bOPR|Edge\/(\d+)/),null!==t))return parseInt(t[1],10)>=60;a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],t=e.match(/version\/(\d+)/i),null!==t&&a.splice(1,1,t[1]);const r=parseInt(a[1],10);return"Edge"===a[0]&&r>=79||"Chrome"===a[0]&&r>=73||"Firefox"===a[0]&&r>=67||"Safari"===a[0]&&r>=13}},95842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(1094);t.default=function(){window.cobrowsing&&(window.cobrowsing.closeAllStreams(),window.cobrowsing=null);const e=document.getElementById(r.COBROWSING_ID);e&&document.body.removeChild(e),Array.from(document.querySelectorAll('script[src*="//cobrowsing"]')).forEach((e=>e.remove()))}},52343:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(61214);t.default=function({env:e,proxyHost:t,port:a=3e3}){try{if(localStorage){const e=localStorage.getItem("cobrowsingDynamicStand");if(e)return e.includes("localhost")?e:`${e}/static/customer`}}catch(e){}if(t)return`${t}/${e===r.Env.PROD?"cdn":"static/customer"}`;switch(e){case r.Env.LOCAL:return`http://localhost:${a}`;case r.Env.PROD:return"https://cobrowsing.tbank.ru/cdn";case r.Env.QA:return"https://cobrowsing-qa.tcsbank.ru/static/customer";default:return`${e}/static/customer`}}},70396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return`https://cobrowsing-admin.tcsbank.ru/player/${e}/${t}/${a}`}},73306:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{cobrowsing:t}=window;return t?t.getRecordedTime(e):Promise.resolve(null)}},14771:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=r(e),s=0;s<a.length;s++)"default"!==a[s]&&n(t,e,a[s]);return o(t,e),t}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessageTypes=t.send=t.isDataStreaming=t.ReceiveMessageTypes=t.Modern=t.Env=t.initialize=t.getRecordedTime=t.getPlayerUrl=t.close=void 0;try{Promise.resolve().then((()=>s(a(20459)))).then((e=>{window.cobrowsingPackageVersion=e.version})).catch((()=>{}))}catch(e){}var c=a(95842);Object.defineProperty(t,"close",{enumerable:!0,get:function(){return i(c).default}});var u=a(70396);Object.defineProperty(t,"getPlayerUrl",{enumerable:!0,get:function(){return i(u).default}});var l=a(73306);Object.defineProperty(t,"getRecordedTime",{enumerable:!0,get:function(){return i(l).default}});var d=a(1094);Object.defineProperty(t,"initialize",{enumerable:!0,get:function(){return i(d).default}});var p=a(61214);Object.defineProperty(t,"Env",{enumerable:!0,get:function(){return p.Env}}),Object.defineProperty(t,"Modern",{enumerable:!0,get:function(){return p.Modern}}),Object.defineProperty(t,"ReceiveMessageTypes",{enumerable:!0,get:function(){return p.ReceiveMessageTypes}});var h=a(31034);Object.defineProperty(t,"isDataStreaming",{enumerable:!0,get:function(){return h.isDataStreaming}});var f=a(97269);Object.defineProperty(t,"send",{enumerable:!0,get:function(){return i(f).default}});var m=a(6241);Object.defineProperty(t,"SendMessageTypes",{enumerable:!0,get:function(){return m.SendMessageTypes}})},61214:function(e,t){"use strict";var a,r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiveMessageTypes=t.Modern=t.Env=void 0,function(e){e.LOCAL="local",e.PROD="prod",e.QA="qa"}(a||(t.Env=a={})),function(e){e.auto="auto",e.modern="modern",e.legacy="legacy"}(r||(t.Modern=r={})),function(e){e.GOOD_CONNECTION="GOOD_CONNECTION",e.BAD_CONNECTION="BAD_CONNECTION",e.CONNECTION_LOST="CONNECTION_LOST",e.SESSION_CLOSE="SESSION_CLOSE",e.SESSION_REQUEST="SESSION_REQUEST",e.NO_CONNECTION="NO_CONNECTION",e.MARK_AREA="MARK_AREA",e.SESSION_CODE="SESSION_CODE",e.SESSION_REJECTED="SESSION_REJECTED"}(n||(t.ReceiveMessageTypes=n={}))},1094:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.COBROWSING_ID=void 0;const n=r(a(85370)),o=r(a(52343)),s=a(97269),i=a(61214);t.COBROWSING_ID="cobrowsingScript";const c=()=>{};function u(e){try{return JSON.parse(e.data)}catch(t){return e.data}}const l=/^https?:\/\/([a-zA-Z0-9-]+)(\.[a-zA-Z0-9-]+)*(:\d+)?(\/.*)?/;t.default=function({env:e,wuid:a,appId:r,disableStream:d,modern:p,minDomUpdateTimeout:h,ngZone:f,onlyOnLoad:m,proxyHost:g,automask:v=!1,uid:y},b=c,_=c,E=c){if(g){if(!function(e){return l.test(e)}(g))return void console.error(new Error("Invalid proxyHost format. Host should be a valid host with optional path (e.g. https://example.com/cobrowsing). Cobrowsing will not be initialized."));window.cobrowsingProxyHost=g}const S=function({env:e=i.Env.QA,appId:t="test",modern:a=i.Modern.auto,proxyHost:r}){const s=(0,o.default)({env:e,proxyHost:r});return a===i.Modern.auto?`${s}/main.${(0,n.default)()?"modern.":""}bundle.js?appId=${t}`:a===i.Modern.legacy?`${s}/main.bundle.js?appId=${t}`:`${s}/main.modern.bundle.js?appId=${t}`}({env:e,appId:r,modern:p,proxyHost:g});let w=document.getElementById(t.COBROWSING_ID);w&&(window.cobrowsing&&(window.cobrowsing.closeAllStreams(),window.cobrowsing=null),document.body.removeChild(w)),window.addEventListener("message",(function e(t){if("cobrowsingReady"===u(t).message){const t=!1;window.cobrowsing.initialize(a,d,h,f,t,v,null!=y?y:a),window.cobrowsing.subscribe(b,_,E),window.removeEventListener("message",e)}}),!1),window.addEventListener("message",(function(e){"cobrowsingConnectionReady"===u(e).message&&(0,s.flushBuffer)()}),!1);const k=()=>{w=document.createElement("script"),w.setAttribute("id",t.COBROWSING_ID),w.src=`${S}&t=${(new Date).getTime()}`,document.body.appendChild(w),window.removeEventListener("load",k)};m&&"complete"!==document.readyState?window.addEventListener("load",k):k()}},31034:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDataStreaming=void 0,t.isDataStreaming=()=>{const{cobrowsing:e}=window;return e?e.isDataStreaming():"notstreaming"}},6241:function(e,t){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.SendMessageTypes=void 0,function(e){e.SESSION_CONFIRMATION="SESSION_CONFIRMATION",e.SESSION_REFUSE="SESSION_REFUSE",e.SESSION_CLOSE="SESSION_CLOSE",e.START_RECORD="START_RECORD",e.STOP_RECORD="STOP_RECORD",e.CUSTOM_DATA="CUSTOM_DATA",e.STOP_LIGHT_RECORD="STOP_LIGHT_RECORD",e.SESSION_REQUEST="SESSION_REQUEST"}(a||(t.SendMessageTypes=a={}))},97269:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flushBuffer=function(){const e=a.slice();a=[];for(let t=e.shift();t;t=e.shift())r(t.message,t.data,t.settings)};let a=[];function r(e,t,r){const{cobrowsing:n}=window;"object"==typeof r&&r.saveStartTime&&!r.startTime&&(r.startTime=Date.now()),n&&n.isSocketReady&&n.isSocketReady()?n.send(e,t,r):!n||n.isSocketReady?a.push({message:e,data:t,settings:r}):n.send(e,t,r)}t.default=r},80211:function(e,t,a){"use strict";a.d(t,{e:function(){return c},w:function(){return i}});var r=a(59999),n=a(32431),o=a(16842),s=a(67584);const i=(0,r.V3)("isDiChildContainer");class c extends n.W{constructor(e,t){super(void 0,t),this.root=e,this.register({provide:o.Z,useValue:this,scope:s.s.REQUEST}),this.register({provide:i,useValue:!0})}getRecord(e){return super.getRecord(e)||this.root.getRecord(e)}getValue(e){return this.recordValues.has(e)?this.recordValues.get(e):e.scope!==s.s.SINGLETON&&e.factory?n.L:this.root.getValue(e)}hydrateDeps(e){return e.scope===s.s.REQUEST?super.hydrateDeps(e):super.hydrateDeps.call(this.root,e)}hydrate(e,t,a){return e.scope===s.s.REQUEST?super.hydrate(e,t,a):super.hydrate.call(this.root,e,t,a)}}},32431:function(e,t,a){"use strict";a.d(t,{W:function(){return d},L:function(){return i}});var r=a(67584);const n=(e,t)=>{const a=new Error(e);return Object.assign(a,{...t,stack:t.stack?`${a.stack}\n---- caused by: ----\n${t.stack}`:a.stack})};var o=a(16842),s=a(59999);const i="__NOT_YET__MARKER",c="__CIRCULAR__MARKER";function u(e){return e.isModernToken?e.name:Symbol.for(e.toString())}function l(e,t,a,r,n,o){return{factory:e,resolvedDeps:t,scope:a,multi:r?[]:void 0,stack:n,staticValue:o}}class d{constructor(e,t){this.records=new Map,this.recordValues=new Map,e&&e.forEach((e=>this.register(e))),this.fallback=t,this.register({provide:o.Z,useValue:this,scope:r.s.SINGLETON})}get(e){let t,a=!1,o=!1;"string"==typeof e?t=e:"token"in e?(t=e.token,a=e.optional,o=t.options?.multi||!1):t=e,t=u(t);const i=this.getRecord(t);return!i&&this.fallback?.getRecord(t)?this.fallback.get(e):!i&&a?o?[]:null:(function(e,t){if(void 0===e){const e=(0,s.HY)(t);throw n(`Token not found "${e}"`,{type:r.D.NOT_FOUND})}}(i,t),this.hydrate(i,t,a))}getOfDeps(e){const t={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=this.get(e[a]));return t}getRecord(e){return this.records.get(e)}has(e){return!!this.getRecord(u(e))}borrowToken(e,t){const a=u(t);if(!this.getRecord(a)){const t=e.getRecord(a);if(t){if(t.multi)for(const e of t.multi)this.recordValues.set(e,i);this.records.set(a,t),this.recordValues.set(t,i)}}}getValue(e){return this.recordValues.get(e)}register(e){return function(e){if("string"==typeof e.provide)return;const t=e.provide.options;if(!e.provide.isModernToken&&t&&t.multi&&!e.multi)throw n(`Token ${e.provide.toString()} require multi providers`,{type:r.D.REQUIRE_MULTI,stack:e.__stack})}(e),this.processProvider(e)}processProvider(e){const t=u(e.provide),a=function(e){let t,a,n=(e.provide.isModernToken&&e.provide.options.scope)??r.s.REQUEST,o=!1;return"useFactory"in e?(t=t=>e.useFactory(t),"deps"in e&&(a=e.deps),e.scope?n=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(n=e.provide.options.scope)):"useClass"in e?(t=t=>new e.useClass(t),"deps"in e&&(a=e.deps),e.scope?n=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(n=e.provide.options.scope)):(t=()=>e.useValue,o=!0,e.scope?n=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(n=e.provide.options.scope)),l(t,a,n,!1,e.__stack,o)}(e),o=function(e){return"useValue"in e?e.useValue:i}(e);if(e.provide.isModernToken&&e.provide.options?.multi||e.multi){let o=this.getRecord(t);if(o){if(void 0===o.multi)throw n(`Mixed multi-provider for ${(0,s.HY)(t)}`,{type:r.D.MIXED_MULTI,stack:e.__stack})}else o=l(void 0,{},e.scope||e.provide.isModernToken&&e.provide.options.scope||r.s.REQUEST,!0,e.__stack),this.records.set(t,o),this.recordValues.set(o,i);o.multi.push(a)}else this.records.set(t,a);this.recordValues.set(a,o)}hydrateDeps(e){return this.getOfDeps(e.resolvedDeps)}hydrate(e,t,a){let o=this.getValue(e);if(function(e,t,a){if(a===c){const a=(0,s.HY)(t);throw n(`Circular dep for "${a}"`,{type:r.D.CIRCULAR_DEP,stack:e.stack})}}(e,t,o),o!==i)return o;if(e.multi){this.recordValues.set(e,c);try{o=e.multi.map((e=>this.hydrate(e,t,!1)))}catch(t){throw this.recordValues.set(e,i),t}}else{this.recordValues.set(e,c);try{o=e.factory(this.hydrateDeps(e))}catch(n){if(this.recordValues.set(e,i),a&&n.type===r.D.NOT_FOUND)return null;!function(e,t){const a=(0,s.HY)(e);throw t.__extendedWithStack?t.message+=` < ${a}`:(t.__extendedWithStack=!0,t.message=`${t.message} at "${a}"`),Object.hasOwnProperty.call(t,"stack")&&"string"==typeof t.stack&&(t.stack=t.stack.replace(/^.+\n/,`${t.name}: ${t.message}\n`)),t}(t,Object.assign(n,{stack:!e.stack||/---- caused by: ----/g.test(n.stack)?n.stack:`${n.stack}\n---- caused by: ----\n${e.stack||""}`}))}}return this.recordValues.set(e,o),o}}},67584:function(e,t,a){"use strict";a.d(t,{D:function(){return n},s:function(){return r}});const r={REQUEST:"request",SINGLETON:"singleton"},n={NOT_FOUND:"NotFound",CIRCULAR_DEP:"CircularDep",REQUIRE_MULTI:"RequireMulti",MIXED_MULTI:"MixedMulti",WRONG_FORMAT:"WrongFormat"}},40186:function(e,t,a){"use strict";a.d(t,{H:function(){return n}});var r=a(80211);function n(e,t){const a=new r.e(e);return t&&t.forEach((e=>{a.register(e)})),a}},95738:function(e,t,a){"use strict";a.d(t,{f:function(){return n}});var r=a(32431);function n(e){return new r.W(e)}},59999:function(e,t,a){"use strict";function r(e){return e.toString().replace(/^Symbol\((.+)\)$/,"$1")}a.d(t,{HY:function(){return r},V3:function(){return o},jt:function(){return s}});class n{constructor(e,t={}){this.isToken=!0,this.isModernToken=!0,this.name=e?Symbol.for(e):Symbol("token"),this.options=t}toString(){return r(this.name)}}function o(e,t){return new n(e,t)}function s(e){return{token:e,optional:!0}}},15617:function(e,t,a){"use strict";a.r(t),a.d(t,{ChildContainer:function(){return n.e},Container:function(){return r.W},DI_TOKEN:function(){return f.Z},INVALID_MODULE_ERROR:function(){return u.I},IS_DI_CHILD_CONTAINER_TOKEN:function(){return n.w},MODULE_PARAMETERS:function(){return c.e},Module:function(){return c.Y},Scope:function(){return h.s},createChildContainer:function(){return d.H},createContainer:function(){return o.f},createToken:function(){return p.V3},declareModule:function(){return g.J},getModuleParameters:function(){return s.s},initContainer:function(){return l},isExtendedModule:function(){return i.W},optional:function(){return p.jt},provide:function(){return m.J},walkOfModules:function(){return u.l}});var r=a(32431),n=a(80211),o=a(95738),s=a(54499),i=a(56245),c=a(80283),u=a(50561);const l=({modules:e=[],initialProviders:t=[],providers:a=[]}={})=>{const r=(0,o.f)(),n=new Set,l=e=>{e.forEach((e=>{r.register(e)}))};return l(t),(0,u.l)(e).forEach((e=>{const t=(0,s.s)(e);n.add((0,i.W)(e)?e.mainModule:e),l(t.providers)})),l(a),n.forEach((e=>{new e((e=>{const{deps:t}=e[c.e];if(t)return r.getOfDeps(t)})(e))})),r};var d=a(40186),p=a(59999),h=a(67584),f=a(16842),m=a(97570),g=a(66598)},66598:function(e,t,a){"use strict";a.d(t,{J:function(){return n}});const r="_module_parameters_";function n({name:e,providers:t=[],imports:a=[],extend:n={}}){class o{}const s={};for(const e in n){const t=n[e];s[e]=(...e)=>({mainModule:o,providers:t(...e)})}return Object.assign(o,{[r]:{name:e,id:`${e}-${Math.random()}`,providers:t,imports:a}},s),o}},54499:function(e,t,a){"use strict";a.d(t,{s:function(){return o}});var r=a(80283),n=a(56245);const o=e=>{let t;if((0,n.W)(e)){t={...e.mainModule[r.e]},t.providers=t.providers.concat(e.providers||[]);const a=t.imports||[];t.imports=a.concat(e.imports||[])}else t=e[r.e];return t}},56245:function(e,t,a){"use strict";a.d(t,{W:function(){return r}});const r=e=>!!e.mainModule},80283:function(e,t,a){"use strict";a.d(t,{Y:function(){return n},e:function(){return r}});const r="_module_parameters_";function n({providers:e,imports:t,deps:a={}}){return n=>Object.assign(n,{[r]:{providers:e,deps:a,imports:t,name:n.name,id:`${n.name}-${Math.random()}`}})}},50561:function(e,t,a){"use strict";a.d(t,{I:function(){return s},l:function(){return i}});var r=a(80283);const n=e=>!1!==Boolean(e)&&(r.e in e||"mainModule"in e&&n(e.mainModule));var o=a(54499);const s="An invalid module was passed in the list of modules",i=e=>{const t=[],a=new Set,r=new Set,i=e=>{if(!n(e))throw new Error(s);const c=(0,o.s)(e);a.has(c.id)||(a.add(c.id),r.add(c.name),c.imports&&c.imports.forEach((e=>{i(e)})),t.push(e))};return e.forEach((e=>{i(e)})),t}},97570:function(e,t,a){"use strict";function r(e){return e}a.d(t,{J:function(){return r}})},16842:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});const r=(0,a(59999).V3)("di")},37210:function(e,t,a){"use strict";a.d(t,{o:function(){return r}});class r extends Error{constructor({message:e="Http Error",httpStatus:t,...a}){super(e),this.name=r.errorName,this.httpStatus=t,Object.assign(this,a)}}r.errorName="HttpError"},44418:function(e,t,a){"use strict";a.d(t,{XD:function(){return i},h9:function(){return c},x7:function(){return s}});var r=a(37210);class n extends r.o{constructor({message:e="Not Found",...t}={}){super({message:e,httpStatus:404}),this.name=n.errorName,Object.assign(this,t)}}n.errorName="NotFoundError";class o extends r.o{constructor({message:e="Redirect Found",nextUrl:t,httpStatus:a=307,...r}){super({message:e,httpStatus:a}),this.name=o.errorName,this.nextUrl=t,this.httpStatus=a,Object.assign(this,r)}}o.errorName="RedirectFoundError";const s=e=>{throw new n(e)},i=e=>e.name===n.errorName,c=e=>e.name===o.errorName},60111:function(e,t,a){"use strict";a.r(t),a.d(t,{BrowserReporter:function(){return m},LEVELS:function(){return u},LEVEL_NAMES:function(){return l},RemoteReporter:function(){return P},createLoggerFactory:function(){return f},default:function(){return b},formatJson:function(){return A},logger:function(){return b}});var r=a(94905),n=a.n(r),o=a(49103),s=a.n(o),i=a(5103),c=a.n(i);const u={trace:50,debug:40,info:30,warn:20,error:10,fatal:0,silent:-1/0},l={50:"trace",40:"debug",30:"info",20:"warn",10:"error",0:"fatal"},d=e=>new RegExp(`^${e.replace(/\*/g,".*?")}$`);class p{constructor(e={name:""}){if(this.name=n()(e.name),this.key=e.key||this.name,p.instances[this.key])return p.instances[this.key];this.beforeReporters=e.beforeReporters||[],this.reporters=e.reporters||[],this.filters=e.filters||[],this.extensions=e.extensions||[],this.defaults=e.defaults||{},e.level&&this.setLevel(u[e.level]),e.enabled&&this.setLevel(u.trace),this.checkEnabled(),p.instances[this.key]=this,s()(((e,t)=>{this[t]=(...t)=>this.log(e,t)}),u)}static save(){var e;null===(e=p.onChange)||void 0===e||e.call(p,{level:p.level,enabledName:this.enabledName,enabledLevel:this.enabledLevel})}static load(e){p.level=e.level,p.enabledName=e.enabledName,p.enabledLevel=e.enabledLevel}static setLevel(e){var t;p.level=null!==(t=u[e])&&void 0!==t?t:p.level,p.save()}static setOnChange(e){p.onChange=e}static enable(e,t){const[a,r]=t?[u[e],t]:[u.trace,e];p.enabledName.push(r),p.enabledLevel.push(a),p.save();const n=d(r);s()((e=>{const{name:t}=e;n.test(t)&&e.setLevel(a)}),p.instances)}static disable(e,t){const[a,r]=t?[u[e],t]:[u.silent,e],n=p.enabledName.indexOf(r);n>-1?(p.enabledName.splice(n,1),p.enabledLevel.splice(n,1)):(p.enabledName.push(r),p.enabledLevel.push(a)),p.save();const o=d(r);s()((e=>{const{name:t}=e;o.test(t)&&e.setLevel(a)}),p.instances)}static clear(){p.level=u.silent,p.enabledName=[],p.enabledLevel=[],p.save(),s()((e=>{e.setLevel(void 0)}),p.instances)}static setGlobalReporters(e){const t=c()(e);s()((e=>{e.reporters=t}),p.instances)}child(e){const t="string"==typeof e?{name:e}:e,a=t.key||t.name,r=this.name?`${this.name}.${t.name}`:t.name,n=this.key?`${this.key}.${a}`:a;return new p({beforeReporters:this.beforeReporters,reporters:this.reporters,filters:this.filters,extensions:this.extensions,defaults:this.defaults,...t,name:r,key:n})}addBeforeReporter(e){this.reporters=this.reporters.concat(e)}setBeforeReporters(e){this.reporters=c()(e)}addReporter(e){this.reporters=this.reporters.concat(e)}setReporters(e){this.reporters=c()(e)}addFilter(e){this.filters=this.filters.concat(e)}setFilters(e){this.filters=c()(e)}addExtension(e){this.extensions=this.extensions.concat(e)}setExtensions(e){this.extensions=c()(e)}setLevel(e){this.level=e}checkEnabled(){for(let e=p.enabledName.length-1;e>=0;e--){const t=p.enabledName[e];if(d(t).test(this.name))return void this.setLevel(p.enabledLevel[e])}}createLogObj(e,t){return{date:new Date,...this.defaults,name:this.name,type:l[e],level:e,args:t}}log(e,t){var a;let r;r||(r=this.createLogObj(e,t));for(const e of this.filters)if(!1===e.filter(r))return!1;for(const e of this.extensions)r=e.extend(r);const n=e>(null!==(a=this.level)&&void 0!==a?a:p.level);for(const e of this.reporters)n?e.emitLevels&&e.log(r):e.log(r);return!0}}p.level=u.silent,p.instances={},p.enabledName=[],p.enabledLevel=[];const h=["addBeforeReporter","setBeforeReporters","addReporter","setReporters","addFilter","setFilters","addExtension","setExtensions",...Object.keys(u)],f=e=>{const t=new p(e);return Object.assign((e=>t.child(e)),h.reduce(((e,a)=>(t[a]&&(e[a]=t[a].bind(t)),e)),{}),{setLevel:p.setLevel,setGlobalReporters:p.setGlobalReporters,enable:p.enable,disable:p.disable,clear:p.clear})};class m{constructor(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c00046",10:"#c0392b",20:"#f39c12",30:"#00BCD4"}}log(e){const t=e.level<20?console.error:20===e.level?console.warn:console.log,a=`\n      background: ${this.levelColorMap[e.level]||this.defaultColor};\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    `,r=`%c${[e.name,e.type].filter(Boolean).join(":")}`;"string"==typeof e.args[0]?t.call(console,`${r}%c ${e.args[0]}`,a,"",...e.args.slice(1)):t.call(console,r,a,...e.args)}}const g="_t_logger";let v,y;u.error;try{v=window.localStorage,y=JSON.parse(v.getItem(g))}catch(e){}y||(y=(()=>{try{return(e=>{if(!e)return;const t=e.split(",");return{level:u.silent,enabledLevel:Array(t.length).fill(u.trace),enabledName:t}})(window.localStorage.getItem("debug"))}catch(e){}})()),p.setOnChange((e=>{try{v.setItem(g,JSON.stringify(e))}catch(e){}})),y&&p.load(y);const b=f({name:"",reporters:[new m]});window.logger=b;var _=a(64805),E=a.n(_),S=a(67826),w=a.n(S),k=a(4216),O=a.n(k),T=a(34770),C=a.n(T),R=a(42282),M=a.n(R);const N=(e,t,a)=>{try{return JSON.stringify(e,t,a)}catch(r){return((e,t,a)=>{const r=new Set,n=t||(e=>e);return JSON.stringify(e,((e,t)=>t&&"object"==typeof t?r.has(t)?"[~Circular~]":(r.add(t),n(t)):n(t)),a)})(e,t,a)}},x=e=>(O()(e)&&(e=new Error(e)),Object.defineProperties(e,{message:{configurable:!0,enumerable:!0,writable:!0},stack:{configurable:!0,enumerable:!0},cause:{configurable:!0,enumerable:!0,writable:!0}}),"cause"in e&&"object"==typeof e.cause&&Object.defineProperties(e.cause,{message:{configurable:!0,enumerable:!0,writable:!0},stack:{configurable:!0,enumerable:!0}}),{...e,body:N(e.body),code:"string"==typeof e.code?e.code:N(e.code)}),A=e=>{let t,a,r=null;const{args:n}=e;n[0]instanceof Error?(a=x(n[0]),t=O()(n[1])?n[1]:n[0].message):C()(n[0])&&!M()(n[0])?(r=n[0],a=r.error&&x(r.error),n[0].message?t=n[0].message:O()(n[1])&&(t=n[1])):t=n[0];const o=n.slice(t===n[1]?2:1).map((e=>e instanceof Error?{error:x(e)}:e));return{...e,args:o.length?o:void 0,...r,error:a,message:t}};class P{constructor({requestCount:e,makeRequest:t,emitLevels:a}){this.reqCount=0,this.queue=[],this.requestCount=e||1,this.makeRequest=t,this.emitLevels=a||{fatal:!0}}checkQueue(){this.queue.length&&this.reqCount<this.requestCount&&this.sendRequest()}sendRequest(){const e=this.queue.shift();this.reqCount++,this.makeRequest(A(e)).catch(E()).then((()=>{this.reqCount--,this.checkQueue()}))}remote(e){this.queue.push(e),this.checkQueue()}log(e){const{type:t,remote:a}=e;null==a?this.emitLevels[t]&&this.remote(e):(!0===a||w()(["emitLevels",t],!0,a))&&this.remote({...e,remote:void 0})}}},56868:function(e){const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,a=e=>e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?r:null;class r extends Array{constructor(e){super(e),this.fill(0)}}class n{constructor(e){if(0===e)return[];const t=a(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}e.exports=class{constructor(e={}){const{max:t=0,ttl:r,ttlResolution:o=1,updateAgeOnGet:s,allowStale:i,maxAge:c,stale:u}=e;this.max=t;const l=t?a(t):Array;this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new l(t),this.prev=new l(t),this.head=0,this.tail=0,this.free=new n(t),this.initialFill=1,this.size=0,this.allowStale=!!i||!!u,this.updateAgeOnGet=!!s,this.ttlResolution=o,this.ttl=r||c||0,this.ttl&&this.initializeTTLTracking()}initializeTTLTracking(){this.ttls=new r(this.max),this.starts=new r(this.max),this.setItemTTL=(e,a)=>{this.starts[e]=0!==a?t.now():0,this.ttls[e]=a},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0};let e=0;const a=()=>{const a=t.now();if(this.ttlResolution>0){e=a;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return a};this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||a())-this.starts[t]>this.ttls[t]}updateItemAge(e){}setItemTTL(e,t){}isStale(e){return!1}set(e,t,{ttl:a=this.ttl}={}){let r=0===this.size?void 0:this.keyMap.get(e);return void 0===r?(r=this.newIndex(),this.keyList[r]=e,this.valList[r]=t,this.keyMap.set(e,r),this.next[this.tail]=r,this.prev[r]=this.tail,this.tail=r,this.size++):(t!==this.valList[r]&&(this.valList[r]=t),this.moveToTail(r)),0===a||0!==this.ttl||this.ttls||this.initializeTTLTracking(),this.setItemTTL(r,a),this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,a=this.keyList[t];return e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(a),this.size--,t}has(e){const t=this.keyMap.get(e);return void 0!==t&&!this.isStale(t)}peek(e,{allowStale:t=this.allowStale}={}){const a=this.keyMap.get(e);if(void 0!==a&&(t||!this.isStale(a)))return this.valList[a]}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet}={}){const r=this.keyMap.get(e);if(void 0!==r){const n=this.valList[r];return this.isStale(r)?(this.delete(e),t?n:void 0):(this.moveToTail(r),a&&this.updateItemAge(r),n)}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}delete(e){let t=!1;if(0!==this.size){const a=this.keyMap.get(e);void 0!==a&&(t=!0,1===this.size?this.clear():(this.keyMap.delete(e),this.keyList[a]=null,this.valList[a]=null,a===this.tail?this.tail=this.prev[a]:a===this.head?this.head=this.next[a]:(this.next[this.prev[a]]=this.next[a],this.prev[this.next[a]]=this.prev[a]),this.size--,this.free.push(a)))}return t}clear(){this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.size=0}dump(){const e=[];for(const a of this.indexes()){const r=this.keyList[a],n=this.valList[a];if(void 0===n||void 0===r)continue;const o={value:n};if(this.ttls&&this.starts){o.ttl=this.ttls[a];const e=t.now()-this.starts[a];o.start=Math.floor(Date.now()-e)}this.sizes&&(o.size=this.sizes[a]),e.unshift([r,o])}return e}load(e){this.clear();for(const[a,r]of e){if(r.start){const e=Date.now()-r.start;r.start=t.now()-e}this.set(a,r.value,r)}}*indexes(){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(yield e,e!==this.head);)e=this.prev[e]}isValidIndex(e){return void 0!==e&&this.keyMap.get(this.keyList[e])===e}}},96980:function(e,t,a){"use strict";a.d(t,{L:function(){return r}});const r=a(44121).useLayoutEffect},78385:function(e,t,a){"use strict";a.d(t,{s:function(){return s}});var r=a(44121),n=a(5881),o=a.n(n);const s=e=>{const t=(0,r.useRef)(e);return o()(t.current,e)||(t.current=e),t.current}},12519:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},72407:function(e,t,a){"use strict";a.d(t,{t1:function(){return v},$d:function(){return m},Me:function(){return y},TF:function(){return _},QO:function(){return E},C5:function(){return S},o2:function(){return w}});var r=a(63472),n=a.n(r),o=a(38507),s=a.n(o),i=a(8958),c=a.n(i),u=a(67826),l=a.n(u),d=a(65165),p=a.n(d),h=a(57801);const f=a.n(h)()(p()),m="CORE",g=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE"],v=g.reduce(((e,t)=>(e[t]=t,e)),Object.create(null)),y=()=>{return{...(e=v,f(e)),[v.ANONYMOUS]:!0};var e},b=s()(m,{}),_=c()([m,v.AUTHENTICATED],n()),E=l()([m,v.REGISTERED],!0),S=l()([m,v.CLIENT],!0),w=e=>{const t=b(e);return!!t[v.REGISTERED]&&!t[v.CLIENT]};g.length},70872:function(e,t,a){"use strict";a.d(t,{Xn:function(){return o},_q:function(){return n},qs:function(){return s}});var r=a(44121);const n=(0,r.createContext)(null),o=(0,r.createContext)(null),s=(0,r.createContext)(null)},81935:function(e,t,a){"use strict";a.d(t,{w:function(){return o}});var r=a(44121),n=a(70872);const o=()=>(0,r.useContext)(n.qs)},60488:function(e,t,a){"use strict";var r=a(53175),n=a(15779),o=a(40367),s=a(54794),i=a(67826),c=a(72446),u=a(8958);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=l(r),p=l(n),h=l(o),f=l(s),m=l(i),g=l(c);const v=["click","scroll","keypress"],y=12e4,b=l(u).default(["sessionWillExpireIn"],(e=>e-(new Date).getTime()<=24e4)),_=f.default(m.default(["accessLevel"],"ANONYMOUS")),E=(h.default(b,_),p.default(_));t.FO=_,t.ZP=class{constructor({sessionManager:e}){this.startPollingAuthorizedSessionStatus=()=>{if(this.alreadyPollingSession())return;const e=({millisLeft:e})=>{const a=e<y?e:y;return this.schedule(t,a)},t=()=>this.sessionManager.updateSessionStatus(this.sessionManager.getSessionId()).then(g.default(E(e))).catch(this.unSchedule);this.scheduleHandle&&this.unSchedule(),this.schedule(t,y)},this.schedule=(e,t)=>{this.scheduleHandle=setTimeout(e,t)},this.unSchedule=()=>{clearTimeout(this.scheduleHandle),this.scheduleHandle=void 0},this.sessionManager=e,this.scheduleHandle=null}startProlongateSessionOnUserActivity(){this.startListenForUserActivity((()=>{this.sessionManager.prolongateSession(this.sessionManager.getSessionId())}))}alreadyListeningForUserActivity(){return!!this.throttledUserActivitySubscriber}alreadyPollingSession(){return!!this.scheduleHandle}startListenForUserActivity(e){this.alreadyListeningForUserActivity()||(this.throttledUserActivitySubscriber=d.default(6e4,(()=>setTimeout(e,5e3))),v.forEach((e=>{window.addEventListener(e,this.throttledUserActivitySubscriber,!0)})))}}},98799:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a=0;a<t.length;a++)if(e(t[a],a,t))return!0;return!1}))},68989:function(e,t,a){"use strict";var r=a(95775),n=a(42282),o=a(11712),s=a(6573);e.exports=r(2,(function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),n(e))return e.concat(t);if(o(e)){for(var a=s(0,e.length,e),r=0;r<t.length;r++)a.push(t[r]);return a}return e+t}))},24034:function(e,t,a){"use strict";var r=a(95775),n=a(58960);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var a=[],r=0;r<e.length;r++)n(e[r],t)<0&&a.push(e[r]);return a}))},15434:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a=0;a<t.length;a++)e(t[a],a,t)}))},62491:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a=[],r=0;r<t.length;r++)e(t[r],r,t)&&a.push(t[r]);return a}))},44831:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a=0;a<t.length;a++)if(e(t[a],a,t))return t[a]}))},30353:function(e,t,a){"use strict";var r=a(11712);e.exports=function e(t){void 0===t&&(t=[]);for(var a=[],n=0;n<t.length;n++){var o=t[n];if(r(o))for(var s=e(o),i=0;i<s.length;i++)a.push(s[i]);else a.push(o)}return a}},18542:function(e,t,a){"use strict";var r=a(95775),n=a(58960);e.exports=r(2,(function(e,t){return void 0===t&&(t=[]),-1!==n(e,t)}))},71715:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a={},r=0;r<t.length;r++)a[e(t[r],r,t)]=t[r];return a}))},58960:function(e,t,a){"use strict";var r=a(95775),n=a(4216);e.exports=r(2,(function(e,t){return void 0===t&&(t=[]),n(t)?t.indexOf(e):Array.prototype.indexOf.call(t,e)}))},37093:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t=[]);for(var a=t.length,r=new Array(a),n=0;n<a;n++)r[n]=e(t[n],n,t);return r}))},60694:function(e,t,a){"use strict";var r=a(95775);e.exports=r(3,(function(e,t,a){void 0===a&&(a=[]);for(var r=a.length,n=0;n<r;n++)t=e(t,a[n],n,a);return t}))},6573:function(e,t,a){"use strict";var r=a(95775),n=a(4216);e.exports=r(3,(function(e,t,a){return void 0===a&&(a=[]),n(a)?a.slice(e,t):Array.prototype.slice.call(a,e,t)}))},5103:function(e,t,a){"use strict";var r=a(42282),n=a(11712);e.exports=function(e){return r(e)?e:n(e)?Array.prototype.slice.call(e):[e]}},7605:function(e){"use strict";e.exports=function(e){void 0===e&&(e=[]);for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t}},8621:function(e,t,a){"use strict";var r=a(42282);e.exports=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t[0])?Object.assign.apply(Object,[[]].concat(t)):Object.assign.apply(Object,[{}].concat(t))}},68643:function(e,t,a){"use strict";var r=a(18902),n=a(57801),o=a(37093),s=a(33689),i=a(41974);e.exports=function e(t){switch(r(t)){case"Object":if(i(t)||s(t))break;return n(e,t);case"Array":return o(e,t);case"Date":return new Date(t.valueOf());case"RegExp":return a=t,new RegExp(a.source,(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":"")+(a.unicode?"u":""))}var a;return t}},36805:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return null==t||t!=t?e:t}))},65165:function(e){"use strict";e.exports=function(){return!1}},84056:function(e){"use strict";e.exports=function(){return!0}},84762:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];for(var n=0;n<e.length;n++)if(!e[n].apply(e,a))return!1;return!0}))},77367:function(e){"use strict";e.exports=function(e){return function(){return e}}},22422:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return"function"==typeof t?t.apply(void 0,e):t}))},40367:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return function(){return e.apply(void 0,arguments)&&t.apply(void 0,arguments)}}))},54794:function(e){"use strict";e.exports=function(e){return function(){return!e.apply(void 0,arguments)}}},63119:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(){for(var e=t.length-1,a=t[e].apply(t,arguments),r=e-1;r>=0;r--)a=t[r](a);return a}}},78705:function(e){"use strict";e.exports=function(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];for(var n=0;n<e.length;n++)if(e[n][0].apply(this,a))return e[n][1].apply(this,a)}}},58111:function(e,t,a){"use strict";var r=a(95775);e.exports=function(e){return r(e.length,e)}},95775:function(e){"use strict";e.exports=function(e,t){return function a(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=e?t.apply(this,n):function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.apply(this,n.concat(t))}}}},27714:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){var a;function r(){var r=this,n=arguments;clearTimeout(a),a=setTimeout((function(){return t.apply(r,n)}),e)}return r.cancel=function(){return clearTimeout(a)},r}))},17848:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return function(){return e.apply(void 0,arguments)||t.apply(void 0,arguments)}}))},79436:function(e){"use strict";e.exports=function(e){return e}},24970:function(e,t,a){"use strict";var r=a(95775);e.exports=r(3,(function(e,t,a){return function(){return e.apply(void 0,arguments)?t.apply(void 0,arguments):a.apply(void 0,arguments)}}))},2012:function(e,t,a){"use strict";var r=a(72351),n=a(95775);e.exports=n(2,(function(e,t){return r((function(){return function(e){var t=new Map;return t.set=function(){var a;t.size>=e&&t.clear();for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Map.prototype.set).call.apply(a,[t].concat(n))},t}(e)}),(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return JSON.stringify(t)}),t)}))},98873:function(e,t,a){"use strict";var r=a(52158);e.exports=function(e,t){void 0===t&&(t=r);var a,n=[],o=!1,s=function(e,a){return t(e,n[a])};return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return o&&r.length===n.length&&r.every(s)||(a=e.apply(void 0,r),o=!0,n=r),a}}},72351:function(e,t,a){"use strict";var r=a(95775);e.exports=r(3,(function(e,t,a){var r=e();return function(){var e=t.apply(void 0,arguments);if(r.has(e))return r.get(e);var n=a.apply(void 0,arguments);return r.set(e,n),n}}))},64805:function(e){"use strict";e.exports=function(){}},8152:function(e){"use strict";e.exports=function(){}},46226:function(e){"use strict";e.exports=function(e){var t,a=!1;return function(){return a||(t=e.apply(void 0,arguments),a=!0),t}}},53175:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){var a,r;return function(){for(var n=this,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];var c=Date.now(),u=a+e-c;a&&u>0?(clearTimeout(r),r=setTimeout((function(){a=c,t.apply(n,s)}),u)):(a=c,t.apply(this,s))}}))},15779:function(e,t,a){"use strict";var r=a(95775);e.exports=r(3,(function(e,t,a){return e(a)?t(a):a}))},42282:function(e){"use strict";e.exports=function(e){return!!e&&Array.isArray(e)}},11712:function(e,t,a){"use strict";var r=a(42282),n=a(4216),o=a(77125);e.exports=function(e){switch(!0){case r(e):return!0;case!e:case"object"!=typeof e:case n(e):return!1;case 1===e.nodeType:return!!e.length;case 0===e.length:return!0;case e.length>0:return o("0",e)&&o(String(e.length-1),e)}return!1}},92877:function(e,t,a){"use strict";var r=a(13641),n=a(42282),o=a(4216),s=a(34770);e.exports=function(e){switch(!0){case r(e):return!0;case o(e):return""===e;case n(e):return 0===e.length;case s(e):return 0===Object.keys(e).length}return!1}},52158:function(e,t,a){"use strict";var r=a(58111),n=a(42282),o=function(e,t){if(e===t)return!0;if(typeof e!=typeof t||e!==Object(e)||!e||!t)return!1;if(n(e)&&n(t))return function(e,t){var a=e.length;if(a!==t.length)return!1;for(var r=0;r<a;r++)if(!o(e[r],t[r]))return!1;return!0}(e,t);var a=Object.prototype.toString.call(e);return"[object Object]"===a&&Object.prototype.toString.call(t)===a?function(e,t){var a=Object.keys(e),r=a.length;if(r!==Object.keys(t).length)return!1;for(var n=0;n<r;n++){var s=a[n];if(!Object.prototype.hasOwnProperty.call(t,s)||!o(e[s],t[s]))return!1}return!0}(e,t):"function"==typeof e?e===t:function(e,t){return e.toString()===t.toString()}(e,t)};e.exports=r(o)},70430:function(e){"use strict";e.exports=function(e){return"function"==typeof e}},13641:function(e){"use strict";e.exports=function(e){return null==e}},20596:function(e){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},34770:function(e){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},39609:function(e,t,a){"use strict";var r=a(33689),n=a(41974),o=a(34770);e.exports=function(e){if(!o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype&&(!r(e)&&!n(e))}},92366:function(e,t,a){"use strict";var r=a(34770),n=a(70430);e.exports=function(e){return(r(e)||n(e))&&n(e.then)}},41974:function(e,t,a){"use strict";var r,n=a(77125);try{r=a(36899).isValidElementType}catch(e){}r||(r=function(e){return"string"==typeof e||"function"==typeof e||!!e&&n("$$typeof",e)}),e.exports=r},33689:function(e,t,a){"use strict";var r,n=a(77125);try{r=a(36899).isElement}catch(e){}r||(r=function(e){return!!e&&n("$$typeof",e)}),e.exports=r},5881:function(e,t,a){"use strict";var r=a(34770),n=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;var a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(var o=0;o<a.length;o++){var s=a[o];if(!n.call(t,s)||e[s]!==t[s])return!1}return!0}},4216:function(e){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},63472:function(e){"use strict";e.exports=function(e){return!e}},6073:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){for(var a in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,a)&&!e(t[a],a,t))return!1;return!0}))},96105:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){for(var a in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a],a,t))return!0;return!1}))},49103:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){for(var a in void 0===t&&(t={}),t)Object.prototype.hasOwnProperty.call(t,a)&&e(t[a],a,t)}))},57471:function(e,t,a){"use strict";var r=a(95775),n=a(55500);e.exports=r(2,(function(e,t){void 0===t&&(t={});for(var a=n(t),r={},o=0;o<a.length;o++){var s=a[o];e(t[s],s,t)&&(r[s]=t[s])}return r}))},147:function(e){"use strict";e.exports=function(e){void 0===e&&(e=[]);for(var t={},a=0;a<e.length;a++)t[e[a][0]]=e[a][1];return t}},77125:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}))},55500:function(e,t,a){"use strict";var r=a(34770);e.exports=function(e){return r(e)?Object.keys(e):[]}},57801:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===t&&(t={});var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=e(t[r],r,t));return a}))},99454:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object.assign.apply(Object,[{}].concat(t))}))},28288:function(e,t,a){"use strict";var r=a(95775),n=a(39609),o=a(55500),s=a(8621);e.exports=r(2,(function e(){for(var t=s((arguments.length<=0?void 0:arguments[0])||{}),a=1;a<arguments.length;a++){var r=a<0||arguments.length<=a?void 0:arguments[a];if(r)for(var i=o(r),c=0;c<i.length;c++){var u=i[c],l=r[u],d=t[u];n(d)&&n(l)?t[u]=e(d,l):t[u]=l}}return t}))},56274:function(e,t,a){"use strict";var r=a(95775),n=a(55500),o=a(8621);e.exports=r(3,(function(e){for(var t=o(arguments.length<=1?void 0:arguments[1]),a=1;a<(arguments.length<=1?0:arguments.length-1);a++)for(var r=a+1<1||arguments.length<=a+1?void 0:arguments[a+1],s=n(r),i=0;i<s.length;i++){var c=s[i];Object.prototype.hasOwnProperty.call(t,c)?t[c]=e(t[c],r[c],c,t,r):t[c]=r[c]}return t}))},23629:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){var a;return(a={})[e]=t,a}))},52141:function(e,t,a){"use strict";var r=a(95775),n=a(55500);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var a=Object.create(null),r=0;r<e.length;r++)a[e[r]]=!0;for(var o={},s=n(t),i=0;i<s.length;i++){var c=s[i];a[c]||(o[c]=t[c])}return o}))},60028:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var a=t,r=0;r<e.length;r++){if(null==a)return;a=a[e[r]]}return a}))},8958:function(e,t,a){"use strict";var r=a(95775),n=a(60028);e.exports=r(3,(function(e,t,a){return void 0===e&&(e=[]),void 0===a&&(a={}),t(n(e,a),e,a)}))},67826:function(e,t,a){"use strict";var r=a(95775),n=a(60028);e.exports=r(3,(function(e,t,a){return void 0===e&&(e=[]),void 0===a&&(a={}),n(e,a)===t}))},33057:function(e,t,a){"use strict";var r=a(95775),n=a(60028);e.exports=r(3,(function(e,t,a){void 0===e&&(e=[]),void 0===a&&(a={});var r=n(e,a);return null!=r?r:t}))},48714:function(e,t,a){"use strict";var r=a(95775),n=a(34770),o=a(20596),s=a(77125),i=a(8621);e.exports=r(3,(function(e,t,a){void 0===e&&(e=[]),void 0===a&&(a={});for(var r,c=e.length-1,u=i(a),l=e[c],d=u,p=0;p<c;p++)r=d[e[p]],r=n(r)?i(r):o(e[p+1])?[]:{},d[e[p]]=r,d=r;return s(l,d)&&d[l]===t?a:(d[l]=t,u)}))},60411:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var a={},r=0;r<e.length;r++){var n=e[r];n in t&&(a[n]=t[n])}return a}))},28296:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return null!=t?t[e]:void 0}))},81510:function(e,t,a){"use strict";var r=a(95775),n=a(28296);e.exports=r(3,(function(e,t,a){return n(e,a)===t}))},38507:function(e,t,a){"use strict";var r=a(95775),n=a(28296);e.exports=r(3,(function(e,t,a){var r=n(e,a);return null!=r?r:t}))},53170:function(e,t,a){"use strict";var r=a(55500);e.exports=function(e){for(var t=r(e),a=t.length,n=new Array(a),o=0;o<a;o++)n[o]=e[t[o]];return n}},72446:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return Promise.resolve().then((function(){return e(t)})).then((function(){return t}))}))},54878:function(e,t,a){"use strict";var r=a(81542),n=a(44317);e.exports=function(e){return r(e).map((function(e,t){return 0===t?e.toLowerCase():n(e.toLowerCase())})).join("")}},21461:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(-e.length)===e}))},18826:function(e){"use strict";var t=/[&<>"']/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=function(e){return a[e]};e.exports=function(e){return void 0===e&&(e=""),e.replace(t,r)}},83958:function(e,t,a){"use strict";var r=a(81542);e.exports=function(e){return r(e).map((function(e){return e.toLowerCase()})).join("-")}},87300:function(e,t,a){"use strict";var r=a(95775),n=a(4216);e.exports=r(2,(function(e,t){if(void 0===e&&(e=0),!n(t))return"";for(var a="",r=0;r<e;r++)a+=t;return a}))},63609:function(e,t,a){"use strict";var r=a(95775);e.exports=r(3,(function(e,t,a){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===a&&(a=""),a.replace(e,t)}))},56257:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.split(e)}))},67744:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(0,e.length)===e}))},14033:function(e,t,a){"use strict";var r=a(95775);e.exports=r(2,(function(e,t){return void 0===e&&(e=/()/),void 0===t&&(t=""),e.test(t)}))},94905:function(e){"use strict";e.exports=function(e){return void 0===e&&(e=""),e.toLowerCase()}},44317:function(e){"use strict";e.exports=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}},81542:function(e){"use strict";var t=/([a-z])([A-Z])/g,a=/[^a-zA-Z]+/g;e.exports=function(e){return e.replace(t,(function(e,t,a){return t+" "+a})).split(a)}},18902:function(e){"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}},10950:function(e,t){"use strict";t.A=void 0,t.A=function(){return new Promise((function(e){var t=window.tracking;t&&t.fullfill?t.trackingReady?t.trackingReady().then(e):e(t):window.addEventListener("tracking-created",(function(t){t instanceof CustomEvent&&e(t.detail||window.tracking)}))}))}},18422:function(e,t){"use strict";t.x4=t.OR=void 0,t.OR=function(e,t){var a=t.event,r=t.config,n=void 0===r?{}:r,o=t.payload,s=a,i=void 0===o?{}:o;"pushTrack"===n.type&&(s=n.type,i.pageAction?i._event=a:i.pageAction=a),e.event.call({isSendContext:!0,fromEventea:!0},s,i)},t.x4=function(e,t){var a=t.payload,r=void 0===a?{}:a;e.extend(r)}},72478:function(e,t,a){"use strict";var r=a(80476),n=a(49593),o=(0,r.__importDefault)(a(88511)),s=function(){function e(){var e=this;this.utils={},this.proxy=!0,this.addUtil=this.createProxiedMethod((function(e){return e.addUtil})),this.updateLocation=this.createProxiedMethod((function(e){return e.updateLocation})),this.addPixel=this.createProxiedMethod((function(e){return e.addPixel})),this.addEventsHandler=this.createProxiedMethod((function(e){return e.addEventsHandler})),this.use=this.createProxiedMethod((function(e){return e.use})),this._clearAllListeners=this.createProxiedMethod((function(e){return e._clearAllListeners})),this._event=this.createProxiedMethod((function(e){return e.event})),this._stateAcc={},this._listeners=Object.create(null),this.ready=new Promise((function(t){e._readyResolve=t})),this.trackingReady=new Promise((function(t){e._trackingResolve=t}))}return Object.defineProperty(e.prototype,"_version",{get:function(){return this.tracking?this.tracking._version:"proxy-5.71.9"},enumerable:!1,configurable:!0}),e.prototype.setTracking=function(e){var t=this;this.tracking=e;var a=Object.keys(e.state).length>0;this._trackingResolve(e),e.ready.then(this._readyResolve),e.extend(this._stateAcc),a&&this._listeners.change&&this._listeners.change.forEach((function(a){a(e.state,t._stateAcc)})),this._listeners=Object.create(null)},e.prototype.addPixels=function(e){return this.tracking?this.tracking.addPixels(e):this.trackingReady.then((function(t){return t.addPixels(e)}))},e.prototype.resolve=function(e){var t=this;return Promise.resolve(e).then((function(e){return t.setTracking(e),e}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.tracking?this.tracking.state:this._stateAcc},enumerable:!1,configurable:!0}),e.prototype.callUtil=function(e){for(var t,a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];return this.tracking?(t=this.tracking).callUtil.apply(t,(0,r.__spreadArray)([e],a,!1)):this.trackingReady.then((function(t){return t.callUtil.apply(t,(0,r.__spreadArray)([e],a,!1))}))},e.prototype.fullfill=function(e){return this.tracking?this.tracking.fullfill(e):this.trackingReady.then((function(t){return t.fullfill(e)}))},e.prototype.extend=function(e){if(this.tracking)return this.tracking.extend(e);var t=Object.keys(e).reduce((function(t,a){var r=a.split(".");return(0,n.assoc)(t,r,e[a])}),this._stateAcc);return this.update(t)},e.prototype.extendDeep=function(e){if(this.tracking)return this.tracking.extendDeep(e);var t=Object.keys(e).reduce((function(t,a){var r=a.split(".");return(0,n.update)(t,r,(function(e,t){return(0,o.default)(e)&&(0,o.default)(t)?(0,n.deepMerge)(e,t):t}),e[a])}),this._stateAcc);return this.update(t)},e.prototype.update=function(e){return this.tracking?this.tracking.update(e):(this._stateAcc!==e&&(this._stateAcc=e),this)},e.prototype.remove=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];if(this.tracking)return(e=this.tracking).remove.apply(e,t);var o=n.dissoc.apply(void 0,(0,r.__spreadArray)([this._stateAcc],t.map((function(e){return e.split(".")})),!1));return this.update(o)},e.prototype.on=function(e,t){this.tracking?this.tracking.on(e,t):("change"===e&&(this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)),this.trackingReady.then((function(a){a.on(e,t)})))},e.prototype.event=function(e,t){return"u"!=="object"[0]?this._event(e,t):this},e.prototype.off=function(e,t){this.tracking?this.tracking.off(e,t):("change"===e&&this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))),this.trackingReady.then((function(a){a.off(e,t)})))},e.prototype.emit=function(e){for(var t,a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];this.tracking?(t=this.tracking).emit.apply(t,(0,r.__spreadArray)([e],a,!1)):this.trackingReady.then((function(t){t.emit.apply(t,(0,r.__spreadArray)([e],a,!1))}))},e.prototype.waitFor=function(e){return this.trackingReady.then((function(t){return t.waitFor(e)}))},e.prototype.createProxiedMethod=function(e){var t=this;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.tracking?e(t.tracking).apply(t.tracking,a):t.trackingReady.then((function(t){e(t).apply(t,a)})),t}},e}();t.Z=s},88511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object(e)===e&&Object.getPrototypeOf(e)===Object.prototype}},1860:function(e,t,a){"use strict";a.d(t,{X:function(){return m}});var r=a(63119),n=a.n(r),o=a(38507),s=a.n(o),i=a(56257),c=a.n(i),u=a(82318),l=a(3566),d=a(82571),p=a(14771),h=a(21858);let f=null;const m=(0,u.P)({name:"startCobrowsingAction",fn:function(e,t,a){if(f)return f;const{onMessage:r,disableStream:o}=t||{};return f=new Promise((t=>{window.addEventListener("message",(function a(r){let n=r?.data;try{n=JSON.parse(r.data)}catch(e){return}"cobrowsingReady"===n.message&&(e.dispatch((0,h.os)()),window.removeEventListener("message",a),f=null,t())}),!1);const i=(({envManager:e,wuid:t})=>{var a;return{wuid:t,env:e.get("COBROWSING_SCRIPT_ENV")||(a=e.get("COBROWSING_SCRIPT_URL"),n()(s()(1,"prod"),c()("-"),s()(0,""),c()("."),s()(2,""),c()("/"))(a))||e.get("COBROWSING_LOCAL")&&"local",appId:e.get("COBROWSING_APP_ID"),proxyHost:e.get("COBROWSING_PROXY_HOST")}})(a);void 0!==o&&(i.disableStream=o),(0,p.initialize)(i,r)})),f},deps:{wuid:l.$,envManager:d.vC},conditions:{onlyBrowser:!0}})},31437:function(e,t,a){"use strict";a.d(t,{WM:function(){return w}});var r=a(82318),n=a(29772),o=a(14771),s=a(63119),i=a.n(s),c=a(68989),u=a.n(c),l=a(92877),d=a.n(l),p=a(6573),h=a.n(p),f=a(72407),m=a(10776),g=a(3566),v=a(21858);const y=32,b="a-",_="n-",E=()=>(0,o.send)(o.SendMessageTypes.STOP_RECORD),S=(e,t)=>{if(E(),window.removeEventListener("beforeunload",E),!d()(e))return(0,o.send)(o.SendMessageTypes.START_RECORD,e),(0,o.send)(o.SendMessageTypes.CUSTOM_DATA,{name:"appId",value:t}),window.addEventListener("beforeunload",E),e},w=(0,r.P)({name:"startFullstoryAction",fn:(e,t,{cookieManager:a,appInfo:r,wuid:n})=>{const o=(({context:e,sessionId:t,wuid:a})=>{if(!t||!a)return"";const{authPrefix:r=b,anonPrefix:n=_,maxUidLen:o=y}=(e=>e.getStore(v.d$).getState())(e),s=(e=>(0,f.QO)(e.getStore("roles").getState()))(e);return i()(h()(0,o),u()(s?r:n),u()(t.slice(0,12)))(a)})({context:e,sessionId:a.get("psid"),wuid:n});return S(o,"pfpsme")},deps:{cookieManager:m.T,appInfo:n.Qo,wuid:g.$},conditions:{onlyBrowser:!0}});(0,r.P)({name:"resumeFullstoryAction",fn:(e,t,{appInfo:a})=>S(t,"pfpsme"),deps:{appInfo:n.Qo},conditions:{onlyBrowser:!0}})},21858:function(e,t,a){"use strict";a.d(t,{d$:function(){return o},dm:function(){return d},os:function(){return c},xZ:function(){return l}});var r=a(42353),n=a(58426);const o="cobrowsing",s={authorized:!1,anonymous:!1},i={isCobrowsingReady:!1,cobrowsingEnabled:s,fullstoryEnabled:s},c=(0,r.y)("COBROWSING_READY"),u=(0,r.y)("COBROWSING_CONFIG_UPDATED"),l=(0,r.y)("COBROWSING_STATE_CHANGED"),d=(0,n.L)(o,i).on(c,(function(e){return{...e,isCobrowsingReady:!0}})).on(u,(function(e,t){return{...e,...t,loaded:!0}})).on(l,(function(e,t){return{...e,cobrowsingState:t}}))},27169:function(e,t,a){"use strict";var r;a.d(t,{S:function(){return r}}),function(e){e.Hide="hide",e.Disconnect="disconnect",e.Error="error",e.Show="show",e.Connect="connect",e.NoConnection="no_connection",e.Connected="connected",e.Deny="deny",e.DisconnectError="disconnect_error",e.DisconnectNoConnection="disconnect_no_connection"}(r||(r={}))},24367:function(e,t,a){"use strict";a.d(t,{Bv:function(){return n},X9:function(){return m},Yw:function(){return u},eW:function(){return o},g3:function(){return d},j5:function(){return c},lb:function(){return f},nM:function(){return i},q2:function(){return l},qJ:function(){return h},qq:function(){return p},rF:function(){return s}});var r=a(59999);const n=(0,r.V3)("EVENTEA_TOKEN"),o=(0,r.V3)("EVENTEA_PROJECT_HANDLERS",{multi:!0}),s=(0,r.V3)("EVENTEA_ROUTING"),i=(0,r.V3)("EVENTEA_ERROR_HANDLERS"),c=(0,r.V3)("EVENTEA_DEFAULT_LOG_HANDLER"),u=(0,r.V3)("EVENTEA_STATIST_HANDLER"),l=(0,r.V3)("EVENTEA_DEFAULT_TRACKING_HANDLER"),d=(0,r.V3)("EVENTEA_TWT_DATA_HANDLER"),p=(0,r.V3)("EVENTEA_DEFAULT_EVENT_HANDLER",{multi:!0}),h=(0,r.V3)("EVENTEA_DEFAULT_DATA_HANDLER",{multi:!0}),f=(0,r.V3)("EVENTEA_CLIENT_LOADER_TIMEOUT"),m=(0,r.V3)("EVENTEA_PRELOAD_PROJECTS_SELECTOR")},21789:function(e,t,a){"use strict";a.d(t,{E:function(){return n},Kf:function(){return s},MS:function(){return c},nN:function(){return i},se:function(){return o}});var r=a(59999);const n=(0,r.V3)("STATIST_API_CLIENT"),o=(0,r.V3)("STATIST_EVENT_API_CLIENT"),s=(0,r.V3)("STATIST_METRIC_API_CLIENT"),i=(0,r.V3)("TRACK_AND_UPDATE_SSO_ID_FLAG"),c=(0,r.V3)("STATIST_ENRICH")},82318:function(e,t,a){"use strict";a.d(t,{P:function(){return n}});var r=a(59576);function n(e){const t=Object.assign(e.fn,{[r.d]:e});return e.conditions||(e.conditions={}),t}},20745:function(e,t,a){"use strict";a.d(t,{H:function(){return n},J:function(){return o}});var r=a(59576);function n(e){const t=(t,a,r)=>{const n=new AbortController;return e.fn.apply({executeAction:t.executeAction,dispatch:t.dispatch,getState:t.getState,actionType:"standalone",abortController:n,abortSignal:n.signal,deps:r},a)};return Object.defineProperty(t,"name",{value:e.name,writable:!0,enumerable:!0,configurable:!0}),Object.assign(t,{...e,name:e.name,tramvaiActionVersion:2,[r.d]:{...e,conditions:e.conditions??{}}})}function o(e){return"tramvaiActionVersion"in e&&2===e.tramvaiActionVersion}},71341:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=a(68989),n=a.n(r),o=a(56274),s=a.n(o),i=a(52141),c=a.n(i);const u=(e,t)=>Array.isArray(e)&&Array.isArray(t)?n()(e,t):"object"==typeof e&&"object"==typeof t?s()(u,e,t):t,l=s()(u),d=e=>{if(!e||!e.length)return{};const t=e.map((e=>l(d(e.presets),c()(["presets"],e))));return 1===t.length?t[0]:l(...t)};function p(e){let t={};return e.presets&&(t=d(e.presets)),l(t,e)}},24592:function(e,t,a){"use strict";a.d(t,{SG:function(){return c},Te:function(){return i},ZY:function(){return o},cY:function(){return s},dZ:function(){return u},t3:function(){return n},ty:function(){return l}});var r=a(59999);const n=(0,r.V3)("analytics"),o=(0,r.V3)("analyticsConfig"),s=(0,r.V3)("analyticsTagManagerContainer"),i=(0,r.V3)("analyticsTTM"),c=(0,r.V3)("analyticsTwtBundle"),u=(0,r.V3)("analyticsEventeaReady"),l=(0,r.V3)("ANALYTICS_MODE")},60245:function(e,t,a){"use strict";a.d(t,{HU:function(){return i},Hs:function(){return n},IB:function(){return c},MU:function(){return l},jp:function(){return u},tK:function(){return s},zU:function(){return o}});var r=a(59999);const n=(0,r.V3)("boxyService"),o=(0,r.V3)("boxyRenderer"),s=(0,r.V3)("boxyMetrics"),i=(0,r.V3)("getDivalToken"),c=(0,r.V3)("boxy default bundle"),u=(0,r.V3)("boxyPubsub"),l=(0,r.V3)("BOXY_RENDER_THROW_90_PERCENT")},37695:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(93630);const n=()=>(0,r.v)({store:"featureToggle",optional:!0},(({featureToggle:e})=>e??{}))},80734:function(e,t,a){"use strict";a.d(t,{X:function(){return r}});const r=(e,t)=>t[e]},59993:function(e,t,a){"use strict";a.d(t,{E:function(){return r}});const r=(0,a(59999).V3)("moduleRegionPopupShow")},3566:function(e,t,a){"use strict";a.d(t,{$:function(){return r}});const r=(0,a(59999).V3)("webUserId")},43158:function(e,t,a){"use strict";a.d(t,{n:function(){return r}});const r=(0,a(44121).createContext)(null)},44488:function(e,t,a){"use strict";a.d(t,{x:function(){return u}});var r=a(44121),n=a(57801),o=a.n(n),s=a(43158);const i=()=>{const e=(0,r.useContext)(s.n);if(!e)throw new Error("DI container not found");return e},c=e=>"token"in e&&(1===Object.keys(e).length||"boolean"==typeof e.optional||"boolean"==typeof e.multi);function u(e){const t=i();return(0,r.useMemo)((()=>"[object Object]"!==e.toString()||c(e)?t.get(e):o()((e=>t.get(e)),e)),[e,t])}},59770:function(e,t,a){"use strict";a.d(t,{W:function(){return o}});const r={"<":"\\u003C","\u2028":"\\u2028","\u2029":"\\u2029"},n=new RegExp(`[${Object.keys(r).join("")}]`,"g");function o(e=""){return e.replace(n,(e=>r[e]))}},90794:function(e,t,a){"use strict";a.d(t,{N:function(){return o},h:function(){return n}});var r=a(44121);const n=(0,r.createContext)(null),o=(0,r.createContext)(null)},27049:function(e,t,a){"use strict";a.d(t,{o:function(){return c}});var r=a(42282),n=a.n(r),o=a(44121),s=a(78385),i=a(16615);function c(e){const t=(0,i.x)(),a=(0,s.s)(e);return(0,o.useMemo)((()=>n()(a)?a.map((e=>t.executeAction.bind(t,e))):t.executeAction.bind(t,a)),[a,t])}},16615:function(e,t,a){"use strict";a.d(t,{x:function(){return o}});var r=a(44121),n=a(90794);const o=()=>{const e=(0,r.useContext)(n.h);if(!e)throw new Error('CONSUMER_CONTEXT not found, have you added "@tramvai/module-common"?\nAlso, you can check "@tramva/state" library duplicates in project lock file.');return e}},93630:function(e,t,a){"use strict";a.d(t,{v:function(){return y}});var r=a(5881),n=a.n(r),o=a(44121),s=a(78385),i=a(96980),c=a(25692),u=a.n(c),l=a(5103),d=a.n(l),p=a(70957),h=a(16615);class f{constructor(e){this.handleStateChange=()=>{this.onStateChange&&this.onStateChange()},this.stores=e,this.unsubscribe=void 0}isSubscribed(){return Boolean(this.unsubscribe)}setOnStateChange(e){this.onStateChange=e}trySubscribe(){this.unsubscribe||(this.unsubscribe=this.stores.filter(Boolean).map((e=>(e.on("change",this.handleStateChange),()=>{e.removeListener("change",this.handleStateChange)}))))}tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe.forEach((e=>e())),this.unsubscribe=void 0),this.onStateChange=void 0}}var m=a(75633),g=a(90794);const v=(0,m.R)();function y(e,t,a=n()){u()(t,"You must pass a selector to useSelectors");const r=(0,h.x)(),c=(0,o.useContext)(g.N),l=(0,o.useRef)(!1),m=(0,s.s)(e),y=(0,o.useMemo)((()=>new f(d()(m).map(r.getStore))),[m,r]),b=(0,o.useRef)(void 0),_=(0,o.useCallback)((e=>(y.setOnStateChange((()=>{l.current||(l.current=!0,v((()=>{e(),l.current=!1})))})),y.trySubscribe(),()=>y.tryUnsubscribe())),[y]);let E;try{E=(0,p.useSyncExternalStoreWithSelector)(_,r.getState,c?()=>c:r.getState,t,a)}catch(e){let t=`An error occurred while selecting the store state: ${e.message}.`;throw b.current&&(t+=`\nThe error may be correlated with this previous error:\n${b.current.stack}\n\nOriginal stack trace:`),new Error(t)}return(0,i.L)((()=>{b.current=void 0})),E}},75633:function(e,t,a){"use strict";a.d(t,{R:function(){return n}});const r=window;function n(){return"requestAnimationFrame"in r?requestAnimationFrame:"setImmediate"in r?r.setImmediate:setTimeout}},42353:function(e,t,a){"use strict";a.d(t,{b:function(){return s},y:function(){return o}});var r=a(79436),n=a.n(r);function o(e,t=n()){const a=e,r=(...e)=>({type:a,payload:t(...e),store:r.store});return r.getType=()=>a,r.toString=()=>a,r}const s=e=>"function"==typeof e&&"getType"in e},58426:function(e,t,a){"use strict";a.d(t,{L:function(){return o}});var r=a(42353),n=a(24069);function o(e,t){const{name:a,initialState:o}="object"==typeof e?e:{name:e,initialState:t},s={};class i extends n.Z{constructor(){super(),this.state=o}static createEvents(e){const t=Object.keys(e),a={};return t.forEach((t=>{const n=e[t],o=(0,r.y)(`${this.storeName}_${t}`);a[t]=o,i.on(o,n)})),a}static on(e,t){if(Array.isArray(e))return e.forEach((e=>i.on(e,t))),i;(0,r.b)(e)&&!e.store&&(e.store=i);const a=e.toString();return i.handlers[a]="handle",s[a]=t,i}getState(){return this.state}setState(e){this.state=e,this.emit("change")}dehydrate(){return this.state}rehydrate(e){this.state=e}handle(e,t){const a=s[t];a&&(this.state=a(this.state,e),this.emit("change"))}}return i.storeName=a,i.events=void 0,i.handlers={},"object"==typeof e&&e.events&&(i.events=i.createEvents(e.events)),i}},24069:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});class r{constructor(){this.listeners=new Set}emit(e){this.listeners.forEach((e=>{e()}))}addListener(e,t){this.listeners.add(t)}on(e,t){this.addListener(e,t)}removeListener(e,t){this.listeners.delete(t)}off(e,t){this.removeListener(e,t)}}},49076:function(e,t,a){"use strict";a.d(t,{l:function(){return r}});const r=(0,a(59999).V3)("context")},82571:function(e,t,a){"use strict";a.d(t,{sQ:function(){return s},vC:function(){return o}});var r=a(59999),n=a(67584);const o=(0,r.V3)("environmentManager",{scope:n.s.SINGLETON}),s=(n.s.REQUEST,(0,r.V3)("envUsed",{multi:!0}));n.s.SINGLETON},82342:function(e,t,a){"use strict";a.d(t,{DV:function(){return s},Fp:function(){return n},J0:function(){return o},yV:function(){return i}});var r=a(59999);const n=(0,r.V3)("logger"),o=(0,r.V3)("loggerHook",{multi:!0}),s=(0,r.V3)("remoteReporter"),i=(0,r.V3)("tramvai logger shared context")},37621:function(e,t,a){"use strict";a.d(t,{E6:function(){return l},PU:function(){return u},Ym:function(){return i},jm:function(){return s},kR:function(){return c},qb:function(){return o}});var r=a(59999),n=a(67584);const o=(0,r.V3)("dispatcher"),s=(0,r.V3)("dispatcherContext"),i=(0,r.V3)("combineReducers",{multi:!0,scope:n.s.SINGLETON}),c=(0,r.V3)("store"),u=(0,r.V3)("storeMiddleware",{multi:!0}),l=(0,r.V3)("initialAppState")},10776:function(e,t,a){"use strict";a.d(t,{T:function(){return r}});const r=(0,a(59999).V3)("cookieManager")},29772:function(e,t,a){"use strict";a.d(t,{I7:function(){return o},Qo:function(){return i},mJ:function(){return s},om:function(){return n}});var r=a(59999);const n=(0,r.V3)("bundleList"),o=(0,r.V3)("actionsList"),s=(0,r.V3)("modulesList"),i=(0,r.V3)("appInfo")},9056:function(e,t,a){"use strict";a.d(t,{FB:function(){return n},FF:function(){return o},J2:function(){return l},Z0:function(){return s},bV:function(){return i},pW:function(){return d},s:function(){return u},zn:function(){return c}});var r=a(59999);const n=(0,r.V3)("HTTP_CLIENT_FACTORY"),o=(0,r.V3)("DEFAULT_HTTP_CLIENT_FACTORY_OPTIONS"),s=(0,r.V3)("DEFAULT_HTTP_CLIENT_INTERCEPTORS",{multi:!0}),i=(0,r.V3)("HTTP_CLIENT"),c=(0,r.V3)("HTTP_CLIENT_AGENT"),u=(0,r.V3)("apiClientPassHeaders",{multi:!0}),l=(0,r.V3)("papi service"),d=(0,r.V3)("disable circuit breaker")},83045:function(e,t,a){"use strict";a.d(t,{mb:function(){return o},rw:function(){return n}});var r=a(59999);const n=(0,r.V3)("mgm_boxy"),o=(0,r.V3)("mgm_default_product_code")},56873:function(e,t,a){"use strict";a.d(t,{$d:function(){return d},Dk:function(){return o},Dv:function(){return h},Ix:function(){return m},S3:function(){return l},TL:function(){return u},Y9:function(){return i},_Q:function(){return c},aP:function(){return f},fw:function(){return p},l1:function(){return n},sU:function(){return s}});var r=a(59999);const n=(0,r.V3)("router router"),o=(0,r.V3)("router routes",{multi:!0}),s=(0,r.V3)("router guard",{multi:!0}),i=(0,r.V3)("router pageService"),c=(0,r.V3)("router pageRegistry"),u=(0,r.V3)("router routeResolve"),l=(0,r.V3)("router routeTransform",{multi:!0}),d=(0,r.V3)("router spaRunMode"),p=(0,r.V3)("link prefetch manager"),h=(0,r.V3)("link prefetch handler",{multi:!0}),f=(0,r.V3)("router mode"),m=(0,r.V3)("router plugin",{multi:!0})},59576:function(e,t,a){"use strict";a.d(t,{d:function(){return r}});const r="__action_parameters__"},21139:function(e,t,a){"use strict";a.d(t,{k:function(){return r}});const r=e=>{const{dataQaType:t,dataQaData:a}=e;return{"data-qa-type":t,"data-qa-data":"object"==typeof a?JSON.stringify(a):a}}},82592:function(e,t,a){"use strict";a.d(t,{R:function(){return n},a:function(){return r}});const r=e=>`${e}px`,n=e=>"number"==typeof e?`${e}px`:e},8729:function(e){"use strict";const{AbortController:t,AbortSignal}="undefined"!=typeof self?self:window;e.exports=t,e.exports.AbortSignal=AbortSignal,e.exports.default=t},49593:function(e,t,a){"use strict";a.r(t),a.d(t,{assoc:function(){return d},deepMerge:function(){return E},dissoc:function(){return m},get:function(){return c},merge:function(){return b},update:function(){return y}});var r=Array.prototype.slice;function n(e){return"object"==typeof e}function o(e){if(Array.isArray(e))return e.slice();var t={};for(var a in e)t[a]=e[a];return t}function s(e,t,a){return n(e)&&null!==e&&t in e?e[t]:a}function i(e,t,a){var r=t[0],n=t.slice(1);return s(e,r)&&n.length?i(e[r],n,a):s(e,r,a)}function c(e,t,a){return Array.isArray(t)?i(e,t,a):s(e,t,a)}function u(e,t,a){if(e[t]===a)return e;var r=o(e);return r[t]=a,r}function l(e,t,a){if(i(e,t)===a)return e;var r=t[0],n=t.slice(1),s=o(e);return n.length?s[r]=l(r in s?s[r]:{},n,a):s[r]=a,s}function d(e){for(var t,a,r=arguments,n=arguments.length,o=e,s=1;s<n;s+=2)t=r[s],a=r[s+1],o=Array.isArray(t)?l(o,t,a):u(o,t,a);return o}function p(e,t){if(!(t in e))return e;var a=o(e);return delete a[t],a}function h(e,t){var a=t[0],r=t.slice(1);return r.length?a in e&&h(e[a],r):a in e}function f(e,t){if(!h(e,t))return e;var a=t[0],r=t.slice(1),n=o(e);return 0!==r.length?(n[a]=f(e[a],r),0===Object.keys(n[a]).length&&delete n[a]):delete n[a],n}function m(e){for(var t,a=arguments,r=arguments.length,n=0,o=e;++n<r;)t=a[n],o=Array.isArray(t)?f(o,t):p(o,t);return o}function g(e,t,a){var n=s(e,t);return u(e,t,a.apply(n,[n].concat(r.call(arguments,3))))}function v(e,t,a){var n=i(e,t);return l(e,t,a.apply(n,[n].concat(r.call(arguments,3))))}function y(e,t){return Array.isArray(t)?v.apply(this,arguments):g.apply(this,arguments)}function b(){for(var e,t=arguments,a=arguments.length,r=0,n=arguments[0];++r<a;)for(var o in e=t[r])n=u(n,o,e[o]);return n}function _(e,t){for(var a,r,s=Object.keys(t),i=s.length,c=-1,l=e;++c<i;)l=n(a=t[r=s[c]])&&null!==a?u(l,r,r in l?_(l[r],a):o(a)):u(l,r,a);return l}function E(){for(var e=arguments,t=arguments.length,a=0,r=arguments[0];++a<t;)r=_(r,e[a]);return r}},56250:function(e,t,a){"use strict";var r=a(44121),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,s=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(e){return!0}}var l=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=o({inst:{value:a,getSnapshot:t}}),n=r[0].inst,l=r[1];return i((function(){n.value=a,n.getSnapshot=t,u(n)&&l({inst:n})}),[e,a,t]),s((function(){return u(n)&&l({inst:n}),e((function(){u(n)&&l({inst:n})}))}),[e]),c(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},32544:function(e,t,a){"use strict";var r=a(44121),n=a(64788),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,i=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,r,n){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u((function(){function e(e){if(!c){if(c=!0,s=e,e=r(e),void 0!==n&&p.hasValue){var t=p.value;if(n(t,e))return i=t}return i=e}if(t=i,o(s,e))return t;var a=r(e);return void 0!==n&&n(t,a)?(s=e,t):(s=e,i=a)}var s,i,c=!1,u=void 0===a?null:a;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,a,r,n]);var h=s(e,d[0],d[1]);return c((function(){p.hasValue=!0,p.value=h}),[h]),l(h),h}},64788:function(e,t,a){"use strict";e.exports=a(56250)},70957:function(e,t,a){"use strict";e.exports=a(32544)},75952:function(e){"use strict";const t=/at\s{1}(?:.*\.)?plugin\s{1}.*\n\s*(.*)/,a=/(\w*(\.\w*)*)\..*/;function r(e){const r=e.match(t);return r?r[1].split(/[/\\]/).slice(-1)[0].match(a)[1]:"anonymous"}e.exports=function(e){if(e.name.length>0)return e.name;const t=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(e){return Error.stackTraceLimit=t,r(e.stack)}},e.exports.extractPluginName=r},88754:function(e){"use strict";e.exports=function(e){return"@"===e[0]&&(e=e.slice(1).replace("/","-")),e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}},76182:function(e,t,a){"use strict";const r=a(75952),n=a(88754);let o=0;function s(e,t={}){let a=!1;if(void 0!==e.default&&(e=e.default),"function"!=typeof e)throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof e}'`);if("string"==typeof t&&(t={fastify:t}),"object"!=typeof t||Array.isArray(t)||null===t)throw new TypeError("The options object should be an object");if(void 0!==t.fastify&&"string"!=typeof t.fastify)throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof t.fastify}'`);t.name||(a=!0,t.name=r(e)+"-auto-"+o++),e[Symbol.for("skip-override")]=!0!==t.encapsulate,e[Symbol.for("fastify.display-name")]=t.name,e[Symbol.for("plugin-meta")]=t,e.default||(e.default=e);const s=n(t.name);return a||e[s]||(e[s]=e),e}e.exports=s,e.exports.default=s,e.exports.fastifyPlugin=s},87346:function(e,t,a){"use strict";var r=a(36899),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return r.isMemo(e)?s:i[e.$$typeof]||n}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,a,r){if("string"!=typeof a){if(f){var n=h(a);n&&n!==f&&e(t,n,r)}var s=l(a);d&&(s=s.concat(d(a)));for(var i=c(t),m=c(a),g=0;g<s.length;++g){var v=s[g];if(!(o[v]||r&&r[v]||m&&m[v]||i&&i[v])){var y=p(a,v);try{u(t,v,y)}catch(e){}}}}return t}},25692:function(e){"use strict";e.exports=function(e,t,a,r,n,o,s,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,r,n,o,s,i],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},95365:function(e,t,a){var r=a(18879),n=a(73330),o=a(5559),s=a(89712);function i(e,t,a){if(arguments.length<2&&(a=e,e=null,t=null),this.capacity=a,"number"!=typeof this.capacity||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var r=o.getPointerArray(a);this.forward=new r(a),this.backward=new r(a),this.K="function"==typeof e?new e(a):new Array(a),this.V="function"==typeof t?new t(a):new Array(a),this.size=0,this.head=0,this.tail=0,this.items={}}i.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},i.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var a=this.backward[e],r=this.forward[e];return this.tail===e?this.tail=a:this.backward[r]=a,this.forward[a]=r,this.backward[t]=e,this.head=e,this.forward[e]=t,this},i.prototype.set=function(e,t){var a=this.items[e];if(void 0!==a)return this.splayOnTop(a),void(this.V[a]=t);this.size<this.capacity?a=this.size++:(a=this.tail,this.tail=this.backward[a],delete this.items[this.K[a]]),this.items[e]=a,this.K[a]=e,this.V[a]=t,this.forward[a]=this.head,this.backward[this.head]=a,this.head=a},i.prototype.setpop=function(e,t){var a=null,r=null,n=this.items[e];return void 0!==n?(this.splayOnTop(n),a=this.V[n],this.V[n]=t,{evicted:!1,key:e,value:a}):(this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],a=this.V[n],r=this.K[n],delete this.items[this.K[n]]),this.items[e]=n,this.K[n]=e,this.V[n]=t,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n,r?{evicted:!0,key:r,value:a}:null)},i.prototype.has=function(e){return e in this.items},i.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},i.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},i.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var a=0,r=this.size,n=this.head,o=this.K,s=this.V,i=this.forward;a<r;)e.call(t,s[n],o[n],this),n=i[n],a++},i.prototype.keys=function(){var e=0,t=this.size,a=this.head,n=this.K,o=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=n[a];return++e<t&&(a=o[a]),{done:!1,value:r}}))},i.prototype.values=function(){var e=0,t=this.size,a=this.head,n=this.V,o=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=n[a];return++e<t&&(a=o[a]),{done:!1,value:r}}))},i.prototype.entries=function(){var e=0,t=this.size,a=this.head,n=this.K,o=this.V,s=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=n[a],i=o[a];return++e<t&&(a=s[a]),{done:!1,value:[r,i]}}))},"undefined"!=typeof Symbol&&(i.prototype[Symbol.iterator]=i.prototype.entries),i.prototype.inspect=function(){for(var e,t=new Map,a=this.entries();!(e=a.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:i,enumerable:!1}),t},"undefined"!=typeof Symbol&&(i.prototype[Symbol.for("nodejs.util.inspect.custom")]=i.prototype.inspect),i.from=function(e,t,a,r){if(arguments.length<2){if("number"!=typeof(r=s.guessLength(e)))throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2===arguments.length&&(r=t,t=null,a=null);var o=new i(t,a,r);return n(e,(function(e,t){o.set(t,e)})),o},e.exports=i},89712:function(e,t,a){var r=a(73330),n=a(5559);function o(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||n.isTypedArray(e)},t.guessLength=o,t.toArray=function(e){var t=o(e),a="number"==typeof t?new Array(t):[],n=0;return r(e,(function(e){a[n++]=e})),a},t.toArrayWithIndices=function(e){var t=o(e),a="number"==typeof t?n.getPointerArray(t):Array,s="number"==typeof t?new Array(t):[],i="number"==typeof t?new a(t):[],c=0;return r(e,(function(e){s[c]=e,i[c]=c++})),[s,i]}},5559:function(e,t){var a=Math.pow(2,8)-1,r=Math.pow(2,16)-1,n=Math.pow(2,32)-1,o=Math.pow(2,7)-1,s=Math.pow(2,15)-1,i=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;if(t<=a)return Uint8Array;if(t<=r)return Uint16Array;if(t<=n)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(e){var t=e-1;return t<=o?Int8Array:t<=s?Int16Array:t<=i?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,a){var r,n,o,s,i,u=null,l=0;for(s=0,i=e.length;s<i;s++)o=a?a(e[s]):e[s],n=t.getNumberType(o),(r=c[n.name])>l&&(l=r,u=n);return u},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,a,r=0;for(e=0,a=arguments.length;e<a;e++)r+=arguments[e].length;var n=new arguments[0].constructor(r);for(e=0,t=0;e<a;e++)n.set(arguments[e],t),t+=arguments[e].length;return n},t.indices=function(e){for(var a=new(t.getPointerArray(e))(e),r=0;r<e;r++)a[r]=r;return a}},73330:function(e,t,a){var r=a(12713),n=r.ARRAY_BUFFER_SUPPORT,o=r.SYMBOL_SUPPORT;e.exports=function(e,t){var a,r,s,i,c;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(s=0,i=e.length;s<i;s++)t(e[s],s);else if("function"!=typeof e.forEach)if(o&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(r in e)e.hasOwnProperty(r)&&t(e[r],r);else for(a=e,s=0;!0!==(c=a.next()).done;)t(c.value,s),s++;else e.forEach(t)}},18879:function(e){function t(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,a=e.length,r=0;return new t((function(){return r>=a?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){return new t((function(){return{done:!0}}))},t.fromSequence=function(e){var a=0,r=e.length;return new t((function(){return a>=r?{done:!0}:{done:!1,value:e[a++]}}))},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},12713:function(e,t){t.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,t.SYMBOL_SUPPORT="undefined"!=typeof Symbol},58483:function(e,t){"use strict";var a="function"==typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,i=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,u=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.concurrent_mode"):60111,p=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,f=a?Symbol.for("react.suspense_list"):60120,m=a?Symbol.for("react.memo"):60115,g=a?Symbol.for("react.lazy"):60116,v=a?Symbol.for("react.block"):60121,y=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.responder"):60118,_=a?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case i:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case c:return e;default:return t}}case n:return t}}}function S(e){return E(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=n,t.Profiler=i,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||E(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===n},t.isProfiler=function(e){return E(e)===i},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===i||e===s||e===h||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===v)},t.typeOf=E},36899:function(e,t,a){"use strict";e.exports=a(58483)},34915:function(e,t,a){"use strict";var r={};a.r(r),a.d(r,{getCurrentName:function(){return bb},getCurrentRegionCapital:function(){return Eb},getDeliveryCityPrepositional:function(){return yb},getDeliveryRegion:function(){return vb},getFormattedCities:function(){return wb},getRegionsCapitals:function(){return _b},getSearchedRegions:function(){return kb},getSearchedRegionsWithCapitals:function(){return Ob}});var n=a(66598);const o=(0,n.J)({name:"TinkoffDynamicEnvTemplatesModule",imports:[],providers:[]});var s=a(80283);const i=(0,n.J)({name:"PreconnectResourcesModule",providers:[],extend:{forRoot:()=>[]}});var c=a(97570),u=a(59999);const l=new RegExp(["chrome(-extension)?://","moz-extension://","safari(-web)?-extension://","webkit-masked-url"].join("|"),"i"),d=(0,u.V3)("_tramvai_error_interceptor_filter"),p=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:d,useValue:e=>{const t=e.message||"",a=e.stack||"";return"Uncaught ReferenceError: processRandomSelector is not defined"===t||"ResizeObserver loop limit exceeded"===t||"ResizeObserver loop completed with undelivered notifications."===t||l.test(t)||l.test(a)}})]})(class{});var h=a(29772),f=a(67584),m=a(60111),g=a(4216),v=a.n(g);const y=e=>{if(!e)return"value should not be empty";let t;try{t=e.startsWith("/")?new URL(e,"http://localhost:3000"):new URL(e)}catch(e){return"URL is not valid"}return"http:"!==t.protocol&&"https:"!==t.protocol&&`Invalid protocol ${t.protocol}`},b=e=>t=>t?!!t.endsWith(e)||`value should ends with ${e}`:"value should not be empty",_=e=>t=>e.reduce(((e,a)=>{const r=a(t);return v()(r)?v()(e)?`${e}; ${r}`:r:v()(e)?e:e&&r}),!0),E=(e,t,a)=>{try{return JSON.stringify(e,t,a)}catch(r){return((e,t,a)=>{const r=new Set,n=t||(e=>e);return JSON.stringify(e,((e,t)=>t&&"object"==typeof t?r.has(t)?"[~Circular~]":(r.add(t),n(t)):n(t)),a)})(e,t,a)}},S=window.fetch.bind(window),w=(e,t)=>t instanceof Error?{message:t.message,stack:t.stack,...t}:t;var k=a(82342),O=a(82571),T=a(3566);const C={filter(e){const{remote:t,error:a}=e;return null==t||!a||"ERR_HTTP_ERROR"!==a.code||!/NetworkError when attempting to fetch resource/.test(a.message)}},R=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:k.J0,multi:!0,useFactory:e=>{const t=(({appInfo:e,envManager:t,wuid:a})=>{const{appName:r}=e,n=t.get("APP_VERSION"),o=t.get("APP_RELEASE"),s=t.get("FRONT_LOG_SYSTEM");return{extend:e=>({...e,component:`tramvai-${r}-${e.name||"unknown"}`,wuid:a,release:o,system:s,appVersion:n,appName:r,appType:"tramvai",from:"browser",userAgent:window.navigator.userAgent,href:window.location.href})}})(e);return e=>{e.addFilter(C),e.addExtension(t)}},deps:{appInfo:h.Qo,envManager:O.vC,wuid:{token:T.$,optional:!0}}}),(0,c.J)({provide:k.DV,useFactory:({envManager:e})=>{const t=e.get("FRONT_LOG_API");return new m.RemoteReporter({requestCount:1/0,emitLevels:{error:!0,fatal:!0},makeRequest:e=>(({logApi:e,payload:t})=>S(`${e}collect`,{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:E(t,w)}).catch((e=>e)))({logApi:t,payload:e})})},scope:f.s.SINGLETON,deps:{envManager:O.vC}}),(0,c.J)({provide:O.sQ,useValue:[{key:"FRONT_LOG_API",dehydrate:!0,validator:y},{key:"FRONT_LOG_SYSTEM",dehydrate:!0,value:"client_logs"}],multi:!0})]})(class{}),M=(0,s.Y)({imports:[],providers:[]})(class{}),N={multi:!0},x=(0,u.V3)("commandLineRunner"),A=(0,u.V3)("commandLines"),P={init:(0,u.V3)("init",{multi:!0,scope:f.s.SINGLETON}),listen:(0,u.V3)("listen",{multi:!0,scope:f.s.SINGLETON}),customerStart:(0,u.V3)("customer_start",N),resolveUserDeps:(0,u.V3)("resolve_user_deps",N),resolvePageDeps:(0,u.V3)("resolve_page_deps",N),generatePage:(0,u.V3)("generate_page",N),clear:(0,u.V3)("clear",N),spaTransition:(0,u.V3)("spa_transition",N),afterSpaTransition:(0,u.V3)("after_spa_transition",N),close:(0,u.V3)("close",{multi:!0,scope:f.s.SINGLETON})},I=(0,u.V3)("tramvai commandLineRunner plugin",{multi:!0,scope:f.s.SINGLETON});var L=a(37621);let q;const D=new Uint8Array(16);function j(){if(!q){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");q=crypto.getRandomValues.bind(crypto)}return q(D)}const F=[];for(let e=0;e<256;++e)F.push((e+256).toString(16).slice(1));function U(e,t=0){return(F[e[t+0]]+F[e[t+1]]+F[e[t+2]]+F[e[t+3]]+"-"+F[e[t+4]]+F[e[t+5]]+"-"+F[e[t+6]]+F[e[t+7]]+"-"+F[e[t+8]]+F[e[t+9]]+"-"+F[e[t+10]]+F[e[t+11]]+F[e[t+12]]+F[e[t+13]]+F[e[t+14]]+F[e[t+15]]).toLowerCase()}const V={};function B(e,t,a,r,n=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(n<0||n+16>r.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`)}else r=new Uint8Array(16),n=0;return t??(t=Date.now()),a??(a=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9]),r[n++]=t/1099511627776&255,r[n++]=t/4294967296&255,r[n++]=t/16777216&255,r[n++]=t/65536&255,r[n++]=t/256&255,r[n++]=255&t,r[n++]=112|a>>>28&15,r[n++]=a>>>20&255,r[n++]=128|a>>>14&63,r[n++]=a>>>6&255,r[n++]=a<<2&255|3&e[10],r[n++]=e[11],r[n++]=e[12],r[n++]=e[13],r[n++]=e[14],r[n++]=e[15],r}const H={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Y=function(e,t,a){if(H.randomUUID&&!t&&!e)return H.randomUUID();const r=(e=e||{}).random??e.rng?.()??j();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((a=a||0)<0||a+16>t.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[a+e]=r[e];return t}return U(r)};var $,J,K=function(){return K=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},K.apply(this,arguments)},z=function(e){return null!==e&&"object"==typeof e},G=function(e){switch(!0){case function(e){return null==e}(e):return!0;case function(e){return"string"==typeof e||e instanceof String}(e):return""===e;case function(e){return!!e&&Array.isArray(e)}(e):return 0===e.length;case z(e):return 0===Object.keys(e).length}return!1};!function(e){e[e.Essential=1]="Essential",e[e.Functionality=2]="Functionality",e[e.Statistics=4]="Statistics",e[e.Marketing=8]="Marketing"}($||($={})),function(e){e[e.PersonalDataProcessing=16]="PersonalDataProcessing"}(J||(J={}));var X=/^\d+(0|s|t)\d+$/,W=["internal_source"],Q=0xfffffffffffff,Z={Essential:$.Essential,Functionality:$.Functionality,Statistics:$.Statistics,Marketing:$.Marketing,PersonalDataProcessing:J.PersonalDataProcessing};function ee(e,t){for(var a={},r=0,n=e;r<n.length;r++){var o=n[r];o in t&&(a[o]=t[o])}return a}var te=function(){function e(e){this.clear=this.getSafeVersionOfMethod("clear",void 0),this.key=this.getSafeVersionOfMethod("key",null),this.setItem=this.getSafeVersionOfMethod("setItem",void 0),this.getItem=this.getSafeVersionOfMethod("getItem",null),this.removeItem=this.getSafeVersionOfMethod("removeItem",void 0),this.storageType=e}return Object.defineProperty(e.prototype,"length",{get:function(){try{return this.storage.length}catch(e){}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){if(!this.storageImpl){var e={local:localStorage,session:sessionStorage};this.storageImpl=e[this.storageType]}return this.storageImpl},enumerable:!1,configurable:!0}),e.prototype.getSafeVersionOfMethod=function(e,t){var a=this;return function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return(r=a.storage)[e].apply(r,n)}catch(e){}return t}},e}();new te("local");var ae,re=new te("session"),ne=5184e3,oe=$.Marketing|$.Statistics,se={utmSource:{name:"utm_source",category:oe,expires:ne,subdomains:!0},utmContent:{name:"utm_content",category:oe,expires:ne,subdomains:!0},utmCampaign:{name:"utm_campaign",category:oe,expires:ne,subdomains:!0},utmMedium:{name:"utm_medium",category:oe,expires:ne,subdomains:!0},utmTerm:{name:"utm_term",category:oe,expires:ne,subdomains:!0},utmDateSet:{name:"utm_date_set",category:oe,expires:ne,subdomains:!0},sid:{name:"sid",category:oe,expires:ne,subdomains:!0},wm:{name:"wm",category:oe,expires:ne,subdomains:!0},visitorNewOrReturn:{name:"s_nr",category:oe,expires:31536e3,subdomains:!0}},ie={ctxSource:{name:"ctx_source",category:oe,expires:ne,subdomains:!0},ctxPosition:{name:"ctx_position",category:oe,expires:ne,subdomains:!0},ctxBlock:{name:"ctx_block",category:oe,expires:ne,subdomains:!0}},ce=function(e){void 0===e&&(e={});for(var t=function(e){return z(e)?Object.keys(e):[]}(e),a=t.length,r=new Array(a),n=0;n<a;n++)r[n]=[t[n],e[t[n]]];return r},ue=function(e){void 0===e&&(e=[]);for(var t={},a=0;a<e.length;a++)t[e[a][0]]=e[a][1];return t};function le(e,t){var a=ce(t).map((function(t){var a=t[0],r=t[1];return"string"!=typeof r?[a,r]:[a,de(r,a in e?e[a]:e.default)]}));return ue(a)}function de(e,t){var a=e;return a.length>255&&(a=function(e,t){return e.slice(0,251)}(a)),encodeURIComponent(a).length>t&&(a=function(e,t){for(var a=0,r=e.length+1;a+1<r;){var n=Math.floor((a+r)/2);encodeURIComponent(e.slice(0,n)).length>t?r=n:a=n}return e.slice(0,a)}(a,t-4)),a===e?e:"".concat(a).concat(".cut")}var pe,he=((ae={})[se.utmSource.name]=255,ae.session_utm_source=255,ae[se.utmTerm.name]=600,ae[se.utmContent.name]=600,ae[se.utmCampaign.name]=255,ae[se.utmMedium.name]=255,ae[se.sid.name]=140,ae[se.wm.name]=100,ae),fe=K(K({},he),{default:72});!function(e){e.source="source",e.position="position",e.block="block"}(pe||(pe={}));var me="session_utm_source",ge=[se.utmSource,se.utmContent,se.utmCampaign,se.utmMedium,se.utmTerm,se.sid,se.wm],ve=[ie.ctxPosition,ie.ctxBlock,ie.ctxSource];var ye="undefined"!=typeof globalThis?globalThis:window,be=ye.document,_e=ye.window,Ee=ye.navigator,Se=ye.XMLHttpRequest;function we(e,t){var a={},r=function(t,a){e.set(t.name,a,t.expires,t.subdomains)};return t.on("update",(function(){for(var e=0,n=Object.keys(a);e<n.length;e++){var o=n[e],s=a[o],i=s.cookie,c=s.value;t.isAllowed(i.category)&&(r(i,c),delete a[o])}})),{get:function(t){return e.get(t)},getAll:function(){return e.getAll()},set:function(e,n){var o=t.isAllowed(e.category);return o?r(e,n):a[e.name]={cookie:e,value:n},o},remove:function(t,r){delete a[t],e.remove(t,r)}}}function ke(e){void 0===e&&(e={});var t,a=e.defaults,r=void 0===a?Q:a,n=e.alwaysEnabled,o=void 0===n?$.Essential:n,s=r,i=(t=t||Object.create(null),{on:function(e,a){(t[e]||(t[e]=[])).push(a)},off:function(e,a){t[e]&&t[e].splice(t[e].indexOf(a)>>>0,1)},emit:function(e){var a=[].slice.call(arguments,1);(t[e]||[]).map((function(e){e.apply(void 0,a)})),(t["*"]||[]).map((function(t){t.apply(void 0,[e].concat(a))}))}});return Object.assign(i,{once:function(e,t){var a=function(){i.off(e,a),t()};i.on(e,a)},isAllowed:function(e){return(this.getAllowedMask()&e)===e},resetAllTo:function(e){s=e,i.emit("update")},update:function(e,t){void 0===t&&(t="keep"),"enable"===t?s|=Q:"disable"===t&&(s=0);for(var a=0,r=Object.keys(e);a<r.length;a++){var n=r[a],o=Number(n);e[o]?s|=o:s&=~o}i.emit("update")},getAllowedMask:function(){return(null!=s?s:r)|o},categories:Z})}var Oe,Te=(Oe=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var a=t,r=0;r<e.length;r++){if(null==a)return;a=a[e[r]]}return a},function e(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return a.length>=2?Oe.apply(this,a):function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,a.concat(r))}}),Ce="undefined"!=typeof globalThis?globalThis:window,Re=Ce.document,Me=Ce.window;Ce.navigator,Ce.XMLHttpRequest;var Ne,xe,Ae,Pe=function(e,t){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},Pe(e,t)},Ie=function(){return Ie=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ie.apply(this,arguments)};(Ae=Ne||(Ne={}))[Ae.Essential=1]="Essential",Ae[Ae.Functionality=2]="Functionality",Ae[Ae.Statistics=4]="Statistics",Ae[Ae.Marketing=8]="Marketing",function(e){e[e.PersonalDataProcessing=16]="PersonalDataProcessing"}(xe||(xe={})),Ne.Essential,Ne.Functionality,Ne.Statistics,Ne.Marketing,xe.PersonalDataProcessing,Ne.Marketing,Ne.Statistics;var Le,qe=((Le={}).utm_source=255,Le.session_utm_source=255,Le.utm_term=600,Le.utm_content=600,Le.utm_campaign=255,Le.utm_medium=255,Le.sid=140,Le.wm=100,Le),De=Ie(Ie({},qe),{default:72}),je=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,Fe=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,Ue=function(){function e(e,t){this.limits=e,this.logger=t,this.isCookieAvailable=null,this.hasSamesiteNoneSupport=null,this.localState=Object.create(null)}return e.prototype.get=function(e){return this.checkCookieAvailability()?this.getCookie(e):this.getLocalState(e)},e.prototype.getAll=function(){return this.checkCookieAvailability()?this.getAllCookies():this.getAllLocalState()},e.prototype.set=function(e,t,a,r){this.checkCookieAvailability()&&this.setCookie(e,t,a,r),this.setLocalState(e,t)},e.prototype.remove=function(e,t){this.checkCookieAvailability()?this.removeCookie(e,t):this.removeLocalState(e)},e.prototype.checkCookieAvailability=function(){if(null!=this.isCookieAvailable)return this.isCookieAvailable;if(null==Re.cookie)return this.isCookieAvailable=!1,this.isCookieAvailable;var e="test_cookie_sqJPwCiceI";Re.cookie="".concat(e,"=true");var t=this.getCookie(e);return this.isCookieAvailable="true"===t,Re.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.isCookieAvailable},e.prototype.checkSamesiteNoneSupport=function(){if(null!=this.hasSamesiteNoneSupport)return this.hasSamesiteNoneSupport;if(!this.checkCookieAvailability())return this.hasSamesiteNoneSupport=!1,this.hasSamesiteNoneSupport;var e="test_cookie_yIKsyPp4Fh";Re.cookie="".concat(e,"=true; samesite=none; secure");var t=this.getCookie(e);return this.hasSamesiteNoneSupport="true"===t,Re.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.hasSamesiteNoneSupport},e.prototype.getCookie=function(e){var t=this.getRawCookie(e);return t?decodeURIComponent(t):null},e.prototype.getAllCookies=function(){return function(e){void 0===e&&(e={});for(var t=function(e){return null!==(t=e)&&"object"==typeof t?Object.keys(e):[];var t}(e),a=t.length,r=new Array(a),n=0;n<a;n++)r[n]=[t[n],e[t[n]]];return r}(this.getAllRawCookies()).reduce((function(e,t){var a=t[0],r=t[1];return e[a]=decodeURIComponent(r),e}),{})},e.prototype.setCookie=function(e,t,a,r){var n;void 0===a&&(a="session"),void 0===r&&(r=!1);try{!function(e,t,a){var r=encodeURIComponent(a),n=e[t]||e.default;if(r.length>n)throw new Error("ECookieTooLarge: cookie ".concat(t," exceeds maximum length of ").concat(n," bytes"))}(this.limits,e,String(t))}catch(e){return void(null===(n=this.logger)||void 0===n||n.error(e))}var o=[];if(o.push("".concat(e,"=").concat(encodeURIComponent(t)),"path=/","domain=".concat(r?function(e){return t=e,je.test(t)||Fe.test(t)?e:e.indexOf("localhost")>=0?"localhost":".".concat(e.split(".").slice(-2).join("."));var t}(Me.location.hostname):Me.location.hostname)),"session"!==a){var s=0===a?new Date(0):new Date(Date.now()+1e3*a);o.push("expires=".concat(s.toUTCString()))}this.checkSamesiteNoneSupport()&&o.push("samesite=none","secure"),Re.cookie=o.join("; ")},e.prototype.removeCookie=function(e,t){null!==this.getCookie(e)&&this.setCookie(e,"",0,t)},e.prototype.getLocalState=function(e){return this.localState[e]||null},e.prototype.getAllLocalState=function(){return this.localState},e.prototype.setLocalState=function(e,t){return this.localState[e]=t.toString(),t},e.prototype.removeLocalState=function(e){e in this.localState&&delete this.localState[e]},e.prototype.getRawCookie=function(e){return Re.cookie.split("; ").reduce((function(t,a){var r=a.split("="),n=r[0],o=r[1];return n===e?o:t}),"")||null},e.prototype.getAllRawCookies=function(){return Re.cookie.split("; ").reduce((function(e,t){var a=t.split("="),r=a[0],n=a[1];return r?(e[r]=n,e):e}),{})},e}(),Ve=(new Ue(De),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}Pe(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(t,e),t.prototype.get=function(t){try{return e.prototype.get.call(this,t)}catch(a){return e.prototype.getRawCookie.call(this,t)}},t.prototype.getAll=function(){try{return e.prototype.getAll.call(this)}catch(t){return e.prototype.getAllRawCookies.call(this)}},t}(Ue));function Be(e){var t=Re.createElement("a");return t.href=e,function(e){void 0===e&&(e=Re.location);var t={get query(){return function(e,t,a){void 0===t&&(t="&"),void 0===a&&(a="=");for(var r={},n=0,o=e.split(t);n<o.length;n++){var s=o[n],i=String(s).split(a),c=i[0],u=i.slice(1);if(c){var l=u.join(a);try{l=decodeURIComponent(l)}catch(e){}r[decodeURIComponent(c)]=l}}return r}(e.search.slice(1))},get pathname(){return"/"!==e.pathname.charAt(0)?"/".concat(e.pathname):e.pathname}};return["hash","host","hostname","href","port","protocol","search","origin"].forEach((function(a){Object.defineProperty(t,a,{get:function(){return e[a]},set:function(t){"origin"!==a&&(e[a]=t)},enumerable:!0})})),t}(t)}function He(){return Re.referrer?Be(Re.referrer):void 0}new Ve(De);var Ye=["tinkoff.ru","tinkoffinsurance.ru","dolyame.ru","tbank.ru"],$e=a(54878),Je=a.n($e),Ke=a(28288),ze=a.n(Ke),Ge=function(e,t){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},Ge(e,t)};function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}Ge(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var We=function(){return We=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},We.apply(this,arguments)};function Qe(e,t,a,r){return new(a||(a=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}c((r=r.apply(e,t||[])).next())}))}function Ze(e,t){var a,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function et(e,t,a){if(a||2===arguments.length)for(var r,n=0,o=t.length;n<o;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||t)}var tt=function(){var e=0;return function(){return{clientEventTimestamp:Date.now(),clientUploadTimestamp:Date.now(),sequence:++e,uuid:Y()}}},at=15768e4,rt={sessionId:{name:"vIdUid",category:$.Essential,expires:at,subdomains:!0},wuid:{name:"__P__wuid",category:$.Essential,expires:at,subdomains:!0},webviewWuid:{name:"deviceId",category:$.Essential,expires:at,subdomains:!0},deviceId:{name:"stDeIdU",category:$.Essential,expires:at,subdomains:!0},lastEventTime:{name:"stLaEvTi",category:$.Essential,expires:at,subdomains:!0},sessionStartTime:{name:"stSeStTi",category:$.Essential,expires:at,subdomains:!0}},nt=function(){function e(){}return e.prototype.isConnected=function(){if(void 0!==this.nativeSDK)return!0;var e=_e.statistNativeSdk;if("object"!=typeof e)return!1;var t=e.version;return"string"==typeof t&&"1"===t.split(".")[0]&&(this.nativeSDK=e,!0)},e.prototype.getSessionId=function(){return this.isConnected()?this.nativeSDK.getSessionId():null},e.prototype.notifyEventHappened=function(){if(this.isConnected())return this.nativeSDK.notifyEventHappened()},e}(),ot=function(){return _e.statistQueue=_e.statistQueue||[],_e.statistQueue};function st(){var e,t;if(function(){try{return window.self!==window.top}catch(e){return!0}}()){var a=_e.location.href;t=null!==(e=Be(a).query.parent_url)&&void 0!==e?e:a}else t=_e.location.href;return function(e){return e.hostname+e.pathname}(Be(t))}var it=function(){function e(){this.listeners=Object.create(null)}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t})))},e.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var r=this.listeners[e];if(r)for(var n=0,o=r;n<o.length;n++)o[n].apply(void 0,t)},e}(),ct=we(new Ue(fe),ke()),ut=/^[0-9a-f]{16}$/,lt=/^[0-9a-f]{32}$/,dt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,pt=function(e){var t,a,r;if((r="cookies"===e.from?e.isWebview?null!==(a=null===(t=ct.get(rt.webviewWuid.name))||void 0===t?void 0:t.toLowerCase())&&void 0!==a?a:null:ct.get(rt.wuid.name):new URLSearchParams(_e.location.search).get("wuid"))&&function(e){return ut.test(e)||lt.test(e)||dt.test(e)}(r))return r},ht=function(e){return"function"==typeof e?e():e},ft={test:atob("aHR0cHM6Ly9hcGktc3RhdGlzdC5kZXYtdGNzZ3JvdXAuaW8="),prod:"https://api-statist.tinkoff.ru"},mt="0.4.137",gt="__statist_saved_messages",vt=function(e){try{return _e.localStorage.getItem(e)}catch(e){return null}},yt=function(){var e=vt(gt);if(null===e)return[];try{return JSON.parse(e)}catch(e){return[]}},bt=function(){return function(e){try{return _e.localStorage.removeItem(e),!0}catch(e){return!1}}(gt)},_t=function(){function e(e,t){var a,r,n=this;this.timer=null,this.eventEmitter=new it,this.destroy=function(){be.removeEventListener("visibilitychange",n.handleVisibilityChange),_e.removeEventListener("pagehide",n.handlePageHide)},this.handleVisibilityChange=function(){"hidden"===be.visibilityState?n.sendByBeacon():n.processSavedMessages()},this.handlePageHide=function(){n.sendByBeacon()},this.pushEventsUrl="".concat(e,"/gateway/v1/events"),this.batchSize=t.batchSize,this.pushInterval=t.pushInterval,this.pushTimeout=null!==(a=t.pushTimeout)&&void 0!==a?a:t.pushInterval,this.savedMessagesSize=t.savedMessagesSize,this.eventsJsonSizeLimit=t.eventsJsonSizeLimit,this.gzipDisabled=!("true"===vt("_statist_enable_gzip")),this.apiKey=null!==(r=t.apiKey)&&void 0!==r?r:"","visibilityState"in be&&be.addEventListener("visibilitychange",this.handleVisibilityChange,!1),_e.addEventListener("pagehide",this.handlePageHide,!1),this.events=this.excludeOutdatedMessages(yt()),this.sequence=this.getMaxSequence(this.events),this.events.length>0&&(bt(),this.startPush())}return e.prototype.handleApiError=function(e){var t,a,r=this;if(e.status<200||e.status>=500)return this.saveMessages(e.events),void this.startPush();if(e.response)try{var n=JSON.parse(e.response);if(n.message&&(null===(t=n.details)||void 0===t?void 0:t.errors))return void n.details.errors.forEach((function(t){t&&r.eventEmitter.emit("error",Object.assign(new Error(n.message),{status:e.status,response:t}))}))}catch(e){}this.eventEmitter.emit("error",Object.assign(new Error(null!==(a=e.response)&&void 0!==a?a:e.message),{status:e.status}))},e.prototype.saveMessages=function(e){if(0===e.length)return!0;var t=et(et([],yt(),!0),e,!0);if(t.length>this.savedMessagesSize){var a=t.length-this.savedMessagesSize;t.splice(0,a)}return function(e){try{return function(e,t){try{return _e.localStorage.setItem(e,t),!0}catch(e){return!1}}(gt,JSON.stringify(e))}catch(e){return!1}}(t)},e.prototype.excludeOutdatedMessages=function(e){var t=Date.now();return e.filter((function(e){var a=e.eventParameters.clientEventTimestamp;return t-a<5184e6}))},e.prototype.processSavedMessages=function(){this.events=et(et([],yt(),!0),this.events,!0),this.events.length>0&&(bt(),this.sequence=this.getMaxSequence(this.events),this.startPush())},e.prototype.getEventsJsonSize=function(){var e=JSON.stringify(this.events);return new Blob([e]).size},e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.off=function(e,t){this.eventEmitter.off(e,t)},e.prototype.startPush=function(){var e=this;if(0!==this.events.length){var t=function(t){return(e.isReady()?e.pushEvents(t):Promise.resolve()).then((function(){e.timer=null,e.startPush()}),(function(t){e.timer=null,e.handleApiError(t)}))};this.getEventsJsonSize()>=this.eventsJsonSizeLimit?t(this.events.length):this.timer||(this.timer=setTimeout((function(){return t(e.batchSize)}),this.pushInterval))}},e.prototype.pushEvents=function(e){return Qe(this,void 0,void 0,(function(){var t;return Ze(this,(function(a){return t=this.events.splice(0,e),[2,this.sendByXhr(t)]}))}))},e.prototype.updateTimestamp=function(e){for(var t=Date.now(),a=0,r=e;a<r.length;a++)r[a].eventParameters.clientUploadTimestamp=t},e.prototype.updateSequence=function(e){e.eventParameters.sequence=++this.sequence},e.prototype.getMaxSequence=function(e){var t=0;return e.forEach((function(e){var a=e.eventParameters.sequence;a>t&&(t=a)})),t},e.prototype.sendByXhr=function(e){var t=this;return Se?e.length?(this.updateTimestamp(e),new Promise((function(a,r){var n=new Se,o=function(){if(n.status>=200&&n.status<=204)a();else{var t=Object.assign(new Error(n.responseText),{status:n.status,response:n.responseText,events:e});r(t)}};n.onerror=o,n.onload=o,n.ontimeout=o,n.timeout=t.pushTimeout;var s=JSON.stringify(e);t.gzipDisabled?t.sendEventsJSON(s,n):t.sendEventsGZip(s,n)}))):Promise.resolve():Promise.reject()},e.prototype.sendEventsJSON=function(e,t){t.open("POST",this.pushEventsUrl,!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),this.apiKey&&t.setRequestHeader("X-Api-Key",this.apiKey),t.send(e)},e.prototype.sendEventsGZip=function(e,t){var a=this;(function(e){return Qe(void 0,void 0,void 0,(function(){return Ze(this,(function(t){return[2,Promise.resolve().then((function(){return new Blob([e],{type:"application/json"}).stream().pipeThrough(new _e.CompressionStream("gzip"))})).then((function(e){return new Response(e)})).then((function(e){return e.blob()}))]}))}))})(e).then((function(e){try{t.open("POST",a.pushEventsUrl,!0),t.setRequestHeader("Content-Type","application/gzip"),t.setRequestHeader("Content-Encoding","gzip"),a.apiKey&&t.setRequestHeader("X-Api-Key",a.apiKey),t.send(e)}catch(e){}})).catch((function(){a.sendEventsJSON(e,t)}))},e.prototype.sendByBeacon=function(){var e=this.events;this.events=[],e.length&&(Ee.onLine?(this.updateTimestamp(e),Ee.sendBeacon(this.pushEventsUrl,JSON.stringify(e))||this.saveMessages(e)):this.saveMessages(e))},e.prototype.forceSend=function(){this.sendByBeacon()},e.prototype.send=function(e){this.updateSequence(e),this.events.push(e),this.startPush()},e.prototype.isReady=function(){return!0},e}(),Et=function(e){console.error(e)},St=function(){function e(e,t,a,r){void 0===r&&(r=18e5),this.clientParameters=e,this.transport=t,this.eventParameters=a,this.sessionTimeout=r,this.nativeBridge=new nt,this.deviceId=function(){var e,t="true"===new URLSearchParams(_e.location.search).get("iswebview"),a=pt({from:"query"}),r=pt({from:"cookies"}),n=pt({from:"cookies",isWebview:t});return t&&n?(e=n,ct.set(rt.wuid,e)):a?(e=a,r&&!t||ct.set(rt.wuid,e)):e=r,e||(e=function(e){var t="";if("undefined"!=typeof crypto){var a=Math.ceil(16),r=new Uint8Array(a);crypto.getRandomValues(r),r.forEach((function(e){t+=e.toString(16).padStart(2,"0")}))}else for(var n=0;n<32;n++)t+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return t.substring(0,32)}(),ct.set(rt.wuid,e)),function(e){ct.get(rt.deviceId.name)!==e&&ct.set(rt.deviceId,e)}(e),e}(),this.screenWidth=_e.screen.width,this.screenHeight=_e.screen.height,this.codegenVersion="",this.eventEmitter=new it,this.eventEmitter.on("message",(function(e){var t;!function(e){var t=ot();t.history||(t.history=[]),t.history.length>=1e3||t.history.push(e)}(e),(t=ot(),t.listeners||(t.listeners=[]),t.listeners).forEach((function(t){try{t(e)}catch(e){Et(e)}}))}));var n,o,s=this.processStatistQueue.bind(this);n=s,(o=ot()).handlerApplied||(o.handlerApplied=!0,o.forEach((function(e){return n(e)})),o.length=0,o.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){return n(e)})),0})}return e.prototype.processStatistQueue=function(e){try{if(!e||!Array.isArray(e))return;var t=e;switch(t[0]){case"getMessagesHistory":return t[0],void(0,t[1])((a=ot(),a.history||(a.history=[]),a.history));case"onMessage":t[0],function(e){var t=ot();t.listeners||(t.listeners=[]),t.listeners.push(e)}(t[1])}}catch(e){Et(e)}var a},e.createTransport=function(e){var t=e.apiKey,a=e.transportOptions,r=e.environment,n=a||{},o=n.batchSize,s=void 0===o?100:o,i=n.pushInterval,c=void 0===i?5e3:i,u=n.pushTimeout,l=void 0===u?3e4:u,d=n.savedMessagesSize,p=void 0===d?1e3:d,h=n.eventsJsonSizeLimit,f=void 0===h?32e3:h,m=n.endpointUrl,g=void 0===m?ft[r||"prod"]:m,v=n.gzip,y=void 0===v||v,b=ye._statistTransports||(ye._statistTransports={});ye._statistTransport&&!b[ft.prod]&&(b[ft.prod]=ye._statistTransport),ye._statistDevTransport&&!b[ft.test]&&(b[ft.test]=ye._statistDevTransport);var _=b[g];if(_)return _;var E=new _t(g,{apiKey:t,batchSize:s,pushInterval:c,pushTimeout:l,preconnect:!1,savedMessagesSize:p,eventsJsonSizeLimit:f,gzip:y});return b[g]=E,g===ft.prod?ye._statistTransport=E:g===ft.test&&(ye._statistDevTransport=E),E},e.prototype.getSessionId=function(){var e=this.nativeBridge.getSessionId();if(null!==e)return e;var t=ct.get(rt.sessionId.name),a=Number(ct.get(rt.lastEventTime.name))||null;if(null!==t&&null!==a&&Date.now()-a<this.sessionTimeout)return t;var r=function(e,t,a){let r;if(e)r=B(e.random??e.rng?.()??j(),e.msecs,e.seq,t,a);else{const e=Date.now(),n=j();!function(e,t,a){e.msecs??(e.msecs=-1/0),e.seq??(e.seq=0),t>e.msecs?(e.seq=a[6]<<23|a[7]<<16|a[8]<<8|a[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++)}(V,e,n),r=B(n,V.msecs,V.seq,t,a)}return t??U(r)}();return ct.set(rt.sessionId,r),ct.remove(rt.lastEventTime.name,!0),ct.remove(rt.sessionStartTime.name,!0),r},e.prototype.getSessionStartTime=function(){return null===ct.get(rt.sessionStartTime.name)?Date.now():Number(ct.get(rt.sessionStartTime.name))},e.prototype.resolveClientParameters=function(e){return We(We({},null!=e?e:this.clientParameters),{sessionId:this.getSessionId(),deviceId:this.deviceId,sessionStartTime:this.getSessionStartTime(),screenWidth:this.screenWidth,screenHeight:this.screenHeight,sdkVersion:mt,codegenVersion:this.codegenVersion})},e.prototype.resolveFullClientParameters=function(e){var t=function(e){var t=e.referrer,a=e.location,r=e.internalDomains,n=1===Te(["performance","navigation","type"],Me)?a:t;if(n){var o=n.hostname;if(!function(e,t,a){return void 0===a&&(a=[]),e!==t&&[e,t].some((function(e){return a.every((function(t){return e!==t&&!e.endsWith(".".concat(t))}))}))}(a.hostname,o,r))return n.href.split("?")[0]}}({location:Be(_e.location.href),referrer:He(),internalDomains:Ye});return We(We(We(We({},this.resolveClientParameters(e)),this.getUtmMarkers()),t&&{referrer:t}),{pageUrl:st()})},e.prototype.transportSend=function(e){this.transport.send(e),ct.set(rt.lastEventTime,Date.now()),this.nativeBridge.notifyEventHappened(),null===ct.get(rt.sessionStartTime.name)&&ct.set(rt.sessionStartTime,e.clientParameters.sessionStartTime)},e.prototype.sendUserProperties=function(e,t,a,r){var n,o,s=((n={kind:"userProperties",project:e,eventParameters:ht(this.eventParameters),clientParameters:this.resolveClientParameters()})[a]=((o={})["$".concat(t)]=r,o),n);this.transportSend(s),this.eventEmitter.emit("message",{type:"userProperties",message:s})},e.prototype.send=function(e,t,a,r){var n={project:e,name:t,parameters:a,eventParameters:ht(this.eventParameters),clientParameters:this.resolveFullClientParameters(r)};this.transportSend(n),this.eventEmitter.emit("message",{type:"event",message:n})},e.prototype.updateClientParameters=function(e){for(var t in e)this.clientParameters[t]=e[t]},e.prototype.updateUserProperties=function(e,t,a){this.sendUserProperties(e,t,"userProperties",null!=a?a:{})},e.prototype.updateFeatureFlags=function(e,t){this.sendUserProperties(e,"set","featureFlags",null!=t?t:{})},e.prototype.updateABGroups=function(e,t){this.sendUserProperties(e,"set","ABGroups",null!=t?t:{})},e.prototype.on=function(e,t){"message"===e?this.eventEmitter.on(e,t):this.transport.on(e,t)},e.prototype.off=function(e,t){"message"===e?this.eventEmitter.off(e,t):this.transport.off(e,t)},e.prototype.forceSend=function(){var e,t;null===(t=(e=this.transport).forceSend)||void 0===t||t.call(e)},e.prototype.fork=function(e){var t=(void 0===e?{}:e).enrich,a=Object.create(this);if(t){var r=this.send.bind(this);a.send=function(e,a,n,o){var s=n,i=t?t({project:e,name:a,parameters:n,overrideClientParameters:o}):{};return i&&"object"==typeof i?s=Object.assign(i,n):Et("Statist: enrichment is corrupted - enrichment result must be object"),r(e,a,s,o)}}return a},e.prototype.getUtmMarkers=function(){return function(){var e=Be(_e.location.href),t=function(e){var t=e.referrer,a=e.locationHostname,r="";return t&&t.hostname!==a&&(r=t.hostname),r}({referrer:He(),locationHostname:e.hostname});return function(e){return["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].reduce((function(t,a){var r,n=e[a];return n&&(t[(r=a,Je()(r))]=n),t}),{})}(function(e){var t,a,r=e.cookies,n=e.location,o=e.referrer,s=e.parseUrl,i=e.internalDomains,c=ge.map((function(e){return e.name})),u=ve.map((function(e){return e.name})),l=n.query.parent_url,d=l?s(l):void 0,p=n.query.utm_source||!d?n.query:d.query,h=n.hash.replace("#",""),f=h?function(e,t,a){void 0===t&&(t="&"),void 0===a&&(a="=");for(var r={},n=0,o=e.split(t);n<o.length;n++){var s=o[n],i=String(s).split(a),c=i[0],u=i.slice(1);if(c){var l=u.join(a);try{l=decodeURIComponent(l)}catch(e){}r[decodeURIComponent(c)]=l}}return r}(h):{},m=ee(W,p),g=ee(c,p),v=ee(c,f),y=G(g)?v:g;function b(e,t){for(var a=0,n=e;a<n.length;a++){var o=n[a],s=t[o.name];s?r.set(o,s):r.remove(o.name,!0)}}function _(e){return ee(e,r.getAll())}function E(){return K({internal_source:""},m)}var S=!1,w=!1;return function(){var e,s,u,l,d;if(y.utm_source)return t=K(K({collectionMethod:"get",cookieDate:Date.now(),utm_source:"",session_utm_source:y.utm_source||""},E()),y),a=function(){var e=p[pe.position];if("string"!=typeof e)return{};var t,a={};return X.test(e)?(t=e.split(/\D/),a.ctx_position=t.length>1?t[1]:"",a.ctx_block=t[0]+e.replace(/\d/g,"")):(a.ctx_position=e,a.ctx_block=p[pe.block]),a.ctx_source=p[pe.source]||"",a}(),void(S=!0);if(s=_(c),u=Number(r.get("utm_date_set"))||null,l=re.getItem(me)||"",d=null,s.utm_source&&(d="cookie"),t=K(K({collectionMethod:d,cookieDate:u,utm_source:"",session_utm_source:l},E()),s),o&&function(e,t,a){return void 0===a&&(a=[]),e!==t&&[e,t].some((function(e){return a.every((function(t){return e!==t&&!e.endsWith(".".concat(t))}))}))}(n.hostname,o,i)){var h,f=null===(e=t.utm_source)||void 0===e?void 0:e.includes(".");if(!t.utm_source||f)return t=K({utm_source:h=o,session_utm_source:h,collectionMethod:"referrer",cookieDate:Date.now()},E()),a={},void(S=!0);t.session_utm_source||(t.session_utm_source=o,S=!0,w=!0)}}(),t=le(fe,t),a=le(fe,null!=a?a:{}),S&&function(e,t,a){void 0===a&&(a=!1),a||(r.set(se.utmDateSet,e.cookieDate||Date.now()),b(ge,e),b(ve,t||{})),e.session_utm_source&&re.setItem(me,e.session_utm_source)}(t,a,w),a&&(a=_(u)),K(K({},a),{utmMarkers:t})}({cookies:we(new Ve(fe),ke()),location:e,referrer:t,parseUrl:Be,internalDomains:Ye}).utmMarkers)}()},e.prototype._setCodegenVersion=function(e){this.codegenVersion=e},e}(),wt=function(e){return ye._statistClientInitOptions?ze()(e,ye._statistClientInitOptions):e},kt=function(e){function t(t){var a=wt(t);return e.call(this,a.clientParameters,St.createTransport(a),a.eventParameters||tt(),a.sessionTimeout)||this}return Xe(t,e),t.prototype.send=function(t,a,r,n){return e.prototype.send.call(this,t,a,r||{},n)},t}(St),Ot=(function(e){function t(t){var a=wt(t);return e.call(this,a.clientParameters,St.createTransport(t),a.eventParameters||tt(),a.sessionTimeout)||this}Xe(t,e),t.prototype.send=function(t,a,r,n){return e.prototype.send.call(this,t,a,r,n)}}(St),function(e){return new Promise((function(t,a){var r=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,n.crossOrigin="anonymous",r.appendChild(n),n.onload=function(){return t(n)},n.onerror=function(){return a(new Error("error when loading ".concat(e," script")))}}))}),Tt="_statistClientInitializer";!function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=this;this.resolveClient=function(){},this.clientPromise=new Promise((function(e){a.resolveClient=e})),this.updateUserProperties=this.createEnqueuedClientMethod("updateUserProperties"),this.updateABGroups=this.createEnqueuedClientMethod("updateABGroups"),this.updateFeatureFlags=this.createEnqueuedClientMethod("updateFeatureFlags"),this.on=this.createEnqueuedClientMethod("on"),this.off=this.createEnqueuedClientMethod("off"),this.forceSend=this.createEnqueuedClientMethod("forceSend");var r=function(t){var r=t.apply(void 0,e);a.client=r,a.resolveClient(r)},n=window[Tt];n?r(n):(this.interceptClientInitialization(r),Qe(void 0,void 0,void 0,(function(){var e,t,a;return Ze(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=mt.split(".")[0],t="https://statist-web-sdk.t-static.ru/v".concat(e,"/client.js"),!_e||function(e){return!!be.querySelector('script[src="'.concat(e,'"'))}(t)?[2]:[4,Ot(t)];case 1:return r.sent(),[3,3];case 2:return a=r.sent(),console.error(a instanceof Error?a.message:a),[3,3];case 3:return[2]}}))})))}e.prototype.interceptClientInitialization=function(e){var t=Object.getOwnPropertyDescriptor(window,Tt);Object.defineProperty(window,Tt,{configurable:!0,set:function(a){var r;null===(r=null==t?void 0:t.set)||void 0===r||r.call(t,a),e(a)}})},e.prototype.enqueueCall=function(e){return this.client?Promise.resolve(e(this.client)):this.clientPromise.then(e)},e.prototype.createEnqueuedClientMethod=function(e){var t=this;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];t.enqueueCall((function(t){var r;null===(r=t[e])||void 0===r||r.call.apply(r,et([t],a,!1))}))}},e.prototype.send=function(e,t,a,r){this.enqueueCall((function(n){return n.send(e,t,a,r)}))}}();var Ct=a(21789),Rt=a(42353),Mt=a(58426);const Nt=(0,Rt.y)("UPDATE_SESSION"),xt=(0,Mt.L)("session",{}).on(Nt,((e,t)=>t)),At=(0,s.Y)({providers:[(0,c.J)({provide:O.sQ,multi:!0,useValue:[{key:"APP_VERSION",optional:!0,dehydrate:!0},{key:"STATIST_CLIENT_URL",optional:!0,dehydrate:!0}]}),(0,c.J)({provide:Ct.E,useFactory:({appInfo:e,logger:t,envManager:a,enrich:r})=>{const n=((e,t)=>({clientParameters:{client:e.appName,clientVersion:t.get("APP_VERSION")??"1.0.0",ssoId:null},transportOptions:{endpointUrl:t.get("STATIST_CLIENT_URL")}}))(e,a),o=t({name:"statist:event",defaults:{remote:!0}});let s=new kt(n);return r&&(s=s.fork({enrich:r})),s.on("error",(e=>{0!==e.status&&o.error({event:"send-failed",error:e,status:e.status,response:e.response})})),s},deps:{appInfo:h.Qo,store:L.kR,logger:k.Fp,envManager:O.vC,enrich:(0,u.jt)(Ct.MS)}}),(0,c.J)({provide:Ct.se,useFactory:({statistClient:e})=>e,deps:{statistClient:Ct.E}}),(0,c.J)({provide:Ct.Kf,useFactory:({statistClient:e})=>e,deps:{statistClient:Ct.E}}),(0,c.J)({provide:Ct.nN,useValue:!0}),(0,c.J)({provide:P.init,useFactory:({store:e,statistClient:t,trackAndUpdateSsoIdFlag:a})=>()=>{if(!a)return;const r=e=>{t.updateClientParameters({ssoId:e.ssoId||null})};e.subscribe(xt,r),r(e.getState(xt))},deps:{store:L.kR,statistClient:Ct.E,trackAndUpdateSsoIdFlag:Ct.nN}})]})(class e{static forRoot({trackAndUpdateSsoId:t=!0,enrich:a}){const r=[];return r.push((0,c.J)({provide:Ct.nN,useValue:t})),a&&r.push((0,c.J)({provide:Ct.MS,useValue:a})),{mainModule:e,providers:r}}});var Pt=a(56873);const It=(0,s.Y)({imports:[At],providers:[(0,c.J)({provide:P.init,useFactory:({statistClient:e,pageService:t,logger:r})=>()=>{if(e){const n=r("tinkoff-performance");((e,t)=>e?a.e("tramvai-web-performance-rum").then(a.bind(a,68348)).then((({initClientPerformanceMonitoring:a})=>{a({statistClient:e,resolveUrlMask:()=>t.getCurrentRoute()?.path})})):Promise.resolve())(e,t).catch((e=>{n.error({event:"init-failed",message:"@tinkoff/web-performance-rum package initialization failed",error:e})}))}},multi:!0,deps:{statistClient:{token:Ct.Kf,optional:!0},pageService:Pt.Y9,logger:k.Fp}})]})(class{}),Lt=(0,n.J)({name:"TinkoffRetryModule",providers:[]}),qt=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:O.sQ,useValue:[{key:"SENTRY_SDK_URL",dehydrate:!0,optional:!0,value:"https://www.cdn-tinkoff.ru/frontend-libraries/npm/sentry/5.17.0/bundle.min.js",validator:y}],multi:!0})]})(class{}),Dt=(0,u.V3)("metaDefaultPack"),jt=(0,u.V3)("metaWalk"),Ft=(0,u.V3)("metaUpdater",{multi:!0}),Ut=(0,u.V3)("applyMeta"),Vt=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:Dt,useValue:{title:"Тинькофф — Кредитные и дебетовые карты, кредиты для бизнеса и физических лиц",ogTitle:"Кредитные и дебетовые карты с доставкой по всей России. Моментальные платежи и переводы с карты на карту.",ogDescription:"Онлайн оформление кредитных карт и кредитов за 5 минут. Доставка банковских карт домой и в офис. Лучший онлайн-банк и универсальный платежный сервис.",ogSiteName:"Тинькофф Банк",ogImage:"http://static2.tinkoff.ru/portal/share/tinkoffru.png",ogImageSecure:"https://static2.tinkoff.ru/portal/share/tinkoffru.png"}})]})(class{}),Bt=(0,u.V3)("serverModulePapiPublicUrl",{scope:f.s.SINGLETON}),Ht=(0,u.V3)("serverModulePapiPrivateUrl",{scope:f.s.SINGLETON}),Yt=(f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,(0,u.V3)("early hints enabled"));var $t=a(49103),Jt=a.n($t);const Kt=(0,Rt.y)("FEATURE_TOGGLE"),zt=(0,Mt.L)("featureToggle",{__values:{}}).on(Kt,((e,t)=>{const a={},r={};return Jt()((({status:e,value:t},n)=>{!1!==e&&(a[n]=e),null!==e&&e===t||(r[n]=t)}),t),{...a,__values:r}})),Gt=(0,n.J)({name:"FeatureToggleModule",providers:[(0,c.J)({provide:L.Ym,useValue:zt,multi:!0})]});var Xt=a(80734);const Wt=(0,s.Y)({imports:[Gt],providers:[(0,c.J)({provide:Yt,useFactory:({envManager:e,store:t})=>()=>{const a=t.getState().featureToggle??{};return((0,Xt.X)("early_hints_enabled",a)??!1)||"true"===e.get("EARLY_HINTS_ENABLED")},deps:{envManager:O.vC,store:L.kR}})]})(class{});var Qt=a(80476);const Zt=(0,u.V3)("fastify request"),ea=(0,u.V3)("fastify response"),ta=(0,u.V3)("tramvai server response stream"),aa=(0,u.V3)("tramvai server response task manager"),ra=(f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,(0,u.V3)("papi fastify init",{multi:!0}));var na=a(10776);const oa=(0,u.V3)("requestManager"),sa=/^[0-9a-f]{16}$/,ia=/^[0-9a-f]{32}$/,ca=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,ua=(e,t)=>{const a="cookies"===t.from?(r=e.cookie,t.isWebview?r.get("deviceId")?.toLowerCase():r.get("__P__wuid")):(e=>{const{wuid:t}=e.getParsedUrl().query;if("string"==typeof t)return t})(e.requestManager);var r;if(a&&(e=>sa.test(e)||ia.test(e)||ca.test(e))(a))return a},la=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:T.$,useFactory:e=>{const t="true"===e.requestManager.getParsedUrl().query.iswebview,a=ua(e,{from:"query"}),r=ua(e,{from:"cookies",isWebview:t}),n=ua(e,{from:"cookies"});return t&&r?r:a??n},deps:{cookie:na.T,requestManager:oa}})]})(class{});let da=class{};da=(0,Qt.__decorate)([(0,s.Y)({imports:[la],providers:[(0,c.J)({provide:P.customerStart,useFactory:({loggerSharedContext:e,request:t,wuid:a})=>function(){e.set("path",t.url),e.set("host",t.headers.host),e.set("x-original-host",t.headers["x-original-host"]),e.set("user-agent",t.headers["user-agent"]),e.set("x-request-id",t.headers["x-request-id"]),e.set("x-real-ip",t.headers["x-real-ip"]),e.set("wuid",a)},deps:{loggerSharedContext:k.yV,request:Zt,wuid:T.$}})]})],da);const pa=(0,s.Y)({imports:[p,R,da,M,It,Lt,qt,Vt,Wt,i.forRoot(["https://www.cdn-tinkoff.ru","https://cdn.tbank.ru","https://unic-cdn-prod.cdn-tinkoff.ru"])],providers:[]})(class{});var ha=a(95738),fa=a(50561),ma=a(54499),ga=a(56245);class va{constructor({name:e,modules:t=[],bundles:a={},actions:r=[],providers:n}){this.di=(0,ha.f)(),this.modulesToResolve=new Set,this.walkOfProviders(function(e,t,a,r){return[{provide:h.Qo,scope:f.s.SINGLETON,useValue:{appName:e}},{provide:h.om,scope:f.s.SINGLETON,useValue:t},{provide:h.I7,scope:f.s.SINGLETON,useValue:a,multi:!0},{provide:h.mJ,scope:f.s.SINGLETON,useValue:r}]}(e,a,r,t)),(0,fa.l)(t).forEach((e=>{const t=(0,ma.s)(e);this.modulesToResolve.add((0,ga.W)(e)?e.mainModule:e),this.walkOfProviders(t.providers)})),n&&this.walkOfProviders(n)}async initialization(e,t="init"){!window.__TRAMVAI_HTML_READY__&&window.__TRAMVAI_HTML_READY_PROMISE__&&await Promise.race([window.__TRAMVAI_HTML_READY_PROMISE__,new Promise((e=>{"complete"===document.readyState?e():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&e()}))}))]);const a=this.di.get({token:k.Fp,optional:!0}),r=a?.("tramvai-core"),n=this.di.get({token:x,optional:!0});if(!n)throw new Error("`COMMAND_LINE_RUNNER_TOKEN` is not defined, have you added `@tramvai/module-common` to your dependency list?");r?.warn({event:"tramvai-app-init",message:"Initializing. Run CommandLineRunner."});const o=await n.run(e,t);return r?.warn({event:"tramvai-app-init",message:"CommandLineRunner executed successfully. Resolving modules."}),this.resolveModules(),r?.warn({event:"tramvai-app-init",message:"Modules resolved successfully. Tramvai App initialized"}),o}walkOfProviders(e){e.forEach((e=>{this.di.register(e)}))}resolveModules(){this.modulesToResolve.forEach((e=>{new e(this.resolveModuleDeps(e))}))}resolveModuleDeps(e){const{deps:t}=e[s.e];if(t)return this.di.getOfDeps(t)}}var ya=a(16842);class ba{constructor(){this.parameters={}}get(e){return this.parameters[e]}getInt(e,t){const a=Number(e in this.parameters?this.parameters[e]:t);return Number.isFinite(a)?a:t}getAll(){return this.parameters}update(e){this.parameters=Object.assign(this.parameters,e)}clientUsed(){return this.getAll()}updateClientUsed(e){this.update(e)}}const _a=(0,Mt.L)("environment",{});let Ea=class{};Ea=(0,Qt.__decorate)([(0,s.Y)({providers:[{provide:O.vC,useFactory:({store:e})=>{const t=new ba;return t.update(e.getState(_a)),t},scope:f.s.SINGLETON,deps:{store:L.kR}},{provide:L.Ym,useValue:_a,multi:!0}]})],Ea);var Sa=a(49076),wa=a(27714),ka=a.n(wa);const Oa=(0,Rt.y)("setMedia"),Ta=(0,Mt.L)("media",{height:0,width:0,isTouch:!1,retina:!1,synchronized:!1,displayMode:"unknown"}).on(Oa,((e,t)=>({...e,...t}))),Ca=window.requestIdleCallback||function(e){return window.setTimeout(e,1)},Ra=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ma=window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown",Na=(0,u.V3)("userAgent"),xa=(0,Rt.y)("setUserAgent"),Aa=(0,Mt.L)("userAgent",null).on(xa,((e,t)=>t)),Pa=[(0,c.J)({provide:L.Ym,multi:!0,useValue:[Aa,Ta]}),(0,c.J)({provide:O.sQ,useValue:[{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]}),(0,c.J)({provide:P.clear,multi:!0,useFactory:({context:e,cookieManager:t})=>function(){const a=()=>{const a={width:window.innerWidth,height:window.innerHeight,isTouch:Ra,displayMode:Ma,retina:window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches};return t.set({name:"mediaInfo",value:JSON.stringify(a)}),Ca((()=>e.dispatch(Oa({...a,supposed:!1}))))},r=ka()(300,a);return window.addEventListener("orientationchange",r),window.addEventListener("resize",r),a()},deps:{context:Sa.l,cookieManager:na.T}}),(0,c.J)({provide:Na,useFactory:({store:e})=>e.getState(Aa),deps:{store:L.kR}})],Ia=(0,n.J)({name:"ClientHintsModule",providers:Pa});class La{constructor(e={}){this.defaults=e}get(e){const t=document.cookie.split(";");for(let a=0;a<t.length;a++){const r=t[a];if(!r)break;let n=r.indexOf("=");n=n<0?r.length:n;const o=r.slice(0,n).replace(/^\s+/,""),s=r.slice(n+1);let i;try{i=decodeURIComponent(o)}catch(e){console.warn("Decode cookie name error",e)}if(i===e||o===e)try{return decodeURIComponent(s)}catch(e){return console.warn("Decode cookie value error",e),s}}}set(e,t,a){if(!e)return;const{domain:r,path:n,expires:o,secure:s,httpOnly:i,sameSite:c}=function(e={},t={}){return{expires:e.expires||t.expires,domain:e.domain||t.domain,path:e.path??t.path??"/",secure:e.secure??t.secure,httpOnly:e.httpOnly??t.httpOnly,sameSite:e.sameSite??t.sameSite}}(a,this.defaults),u=function(e){return e?new Date("number"==typeof e?(new Date).getTime()+864e5*e:e):null}(o),l=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29"),d=("string"==typeof t?t:"").replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent),p=u&&u.getTime()>=0?`;expires=${u.toUTCString()}`:"",h=r?`;domain=${r}`:"",f=n?`;path=${n}`:"",m=s?";secure":"",g=i?";httponly":"",v=c?`;samesite=${c}`:"";document.cookie=`${l}=${d}${p}${h}${f}${m}${g}${v}`}erase(e,t={}){this.set(e,"",{expires:-1,domain:t.domain,path:t.path,secure:t.secure,httpOnly:!1})}all(){const e={},t=document.cookie.split(";");for(;t.length;){const a=t.pop();if(!a)break;let r=a.indexOf("=");r=r<0?a.length:r;const n=a.slice(0,r).replace(/^\s+/,""),o=a.slice(r+1);let s,i;try{s=decodeURIComponent(n)}catch(e){console.warn("Decode cookie name error",e)}try{i=decodeURIComponent(o)}catch(e){console.warn("Decode cookie value error",e)}e[s??n]=i??o}return e}}const qa=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,Da=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,ja=e=>{if(e)return new Date("number"==typeof e?+new Date+1e3*e:e)};class Fa{constructor(){this.cache=Object.create(null)}get(e){return this.cache[e]||void 0}set(e,t){this.cache[e]=t}erase(e){delete this.cache[e]}all(){return this.cache}}let Ua=class{};Ua=(0,Qt.__decorate)([(0,s.Y)({imports:[Ia],providers:[(0,c.J)({provide:na.T,useClass:class{constructor({cookieOptions:e={},userAgent:t}){const a="https:"===window.location.protocol,r={sameSite:t.sameSiteNoneCompatible&&a?"none":"lax",secure:a,...e};this.cookies=((e=!1)=>{const t="testcookiesenabled=",a=e?`${t}; SameSite=None; Secure`:t;return document.cookie=a,document.cookie.indexOf(t)>-1&&(document.cookie=`${a}; expires=Thu, 01 Jan 1970 00:00:01 GMT`,!0)})("none"===r.sameSite)?new La(r):new Fa,this.userAgent=t}get(e){return this.cookies.get(e)||void 0}set({name:e,value:t,...a}){this.cookies.set(e,t,(({userAgent:{sameSiteNoneCompatible:e},defaultHost:t,secureProtocol:a},{sameSite:r,noSubdomains:n,...o})=>{return{...o,..."none"!==r||e&&a?{sameSite:r}:{},...a&&"none"===r&&e?{secure:!0}:{},expires:ja(o.expires),domain:n?(s=o.domain||t,(e=>qa.test(e)||Da.test(e))(s)?s:(e=>e.replace(/:\d+$/,""))(s.indexOf("localhost")>=0?s:`.${s.split(".").slice(-2).join(".")}`)):o.domain};var s})({userAgent:this.userAgent,defaultHost:window.location.hostname,secureProtocol:"https:"===window.location.protocol},a))}all(){return this.cookies.all()}remove(e,t){return this.cookies.erase(e,t)}},scope:f.s.SINGLETON,deps:{cookieOptions:{token:"temporary cookieOptions",optional:!0},userAgent:Na}})]})],Ua);const Va=(0,m.createLoggerFactory)({name:"",key:"tramvai",reporters:[new m.BrowserReporter]});let Ba=class{};Ba=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:k.Fp,useFactory({loggerInitHooks:e}){if(e)for(const t of e)t(Va);return Va},deps:{loggerInitHooks:{token:k.J0,multi:!0,optional:!0}}}),(0,c.J)({provide:k.yV,scope:f.s.SINGLETON,useValue:new Map}),(0,c.J)({provide:k.J0,multi:!0,useFactory:({remoteReporter:e,loggerSharedContext:t})=>a=>{e&&a.addReporter(e),a.addExtension({extend:e=>({...Object.fromEntries(t),...e})})},deps:{remoteReporter:(0,u.jt)(k.DV),loggerSharedContext:k.yV}})]})],Ba);const Ha=(0,u.V3)("componentRegistry"),Ya=(0,u.V3)("bundleManager"),$a=(0,u.V3)("additional bundle",{multi:!0}),Ja=(0,u.V3)("pubsubFactory"),Ka=(0,u.V3)("pubsub"),za=(0,u.V3)("rootPubsub"),Ga=(0,u.V3)("common ExecutionContextManager"),Xa=(0,u.V3)("common rootExecutionContext"),Wa=(0,u.V3)("common commandLineExecutionContext");var Qa=a(79436),Za=a.n(Qa),er=a(71341),tr=a(87346),ar=a.n(tr),rr=a(44121),nr=a.n(rr),or=a(33926),sr=a(20986);function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ir(e,t)}var cr=a(36899);var ur=nr().createContext(),lr={},dr="PENDING",pr="REJECTED",hr=function(e){return e};function fr(e){var t=e.defaultResolveComponent,a=void 0===t?hr:t,r=e.render,n=e.onLoad;function o(e,t){void 0===t&&(t={});var o=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),s={};function i(e){return t.cacheKey?t.cacheKey(e):o.resolve?o.resolve(e):"static"}function c(e,r,n){var o=t.resolveComponent?t.resolveComponent(e,r):a(e);if(t.resolveComponent&&!(0,cr.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return ar()(n,o,{preload:!0}),o}var u,l,d=function(e){var t=i(e),a=s[t];return a&&a.status!==pr||((a=o.requireAsync(e)).status=dr,s[t]=a,a.then((function(){a.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:o.resolve(e),chunkName:o.chunkName(e),error:t?t.message:t}),a.status=pr}))),a},p=function(e){function a(a){var r;return(r=e.call(this,a)||this).state={result:null,error:null,loading:!0,cacheKey:i(a)},function(e,t){if(!e){var a=new Error("loadable: "+t);throw a.framesToPop=1,a.name="Invariant Violation",a}}(!a.__chunkExtractor||o.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),a.__chunkExtractor?(!1===t.ssr||(o.requireAsync(a).catch((function(){return null})),r.loadSync(),a.__chunkExtractor.addChunk(o.chunkName(a))),function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)):(!1!==t.ssr&&(o.isReady&&o.isReady(a)||o.chunkName&&lr[o.chunkName(a)])&&r.loadSync(),r)}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ir(e,t)}(a,e),a.getDerivedStateFromProps=function(e,t){var a=i(e);return(0,sr.Z)({},t,{cacheKey:a,loading:t.loading||t.cacheKey!==a})};var u=a.prototype;return u.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===pr&&this.setCache(),this.state.loading&&this.loadAsync()},u.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},u.componentWillUnmount=function(){this.mounted=!1},u.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},u.getCacheKey=function(){return i(this.props)},u.getCache=function(){return s[this.getCacheKey()]},u.setCache=function(e){void 0===e&&(e=void 0),s[this.getCacheKey()]=e},u.triggerOnLoad=function(){var e=this;n&&setTimeout((function(){n(e.state.result,e.props)}))},u.loadSync=function(){if(this.state.loading)try{var e=c(o.requireSync(this.props),this.props,f);this.state.result=e,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:o.resolve(this.props),chunkName:o.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},u.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var a=c(t,e.props,f);e.safeSetState({result:a,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},u.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,or.Z)(e,["__chunkExtractor","forwardedRef"]));return d(t)},u.render=function(){var e=this.props,a=e.forwardedRef,n=e.fallback,o=(e.__chunkExtractor,(0,or.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,i=s.error,c=s.loading,u=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===dr)throw this.loadAsync();if(i)throw i;var l=n||t.fallback||null;return c?l:r({fallback:l,result:u,options:t,props:(0,sr.Z)({},o,{ref:a})})},a}(nr().Component),h=(l=function(e){return nr().createElement(ur.Consumer,null,(function(t){return nr().createElement(u,Object.assign({__chunkExtractor:t},e))}))},(u=p).displayName&&(l.displayName=u.displayName+"WithChunkExtractor"),l),f=nr().forwardRef((function(e,t){return nr().createElement(h,Object.assign({forwardedRef:t},e))}));return f.displayName="Loadable",f.preload=function(e){f.load(e)},f.load=function(e){return d(e)},f}return{loadable:o,lazy:function(e,t){return o(e,(0,sr.Z)({},t,{suspense:!0}))}}}var mr=fr({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,a=e.props;return nr().createElement(t,a)}}),gr=mr.loadable,vr=mr.lazy,yr=fr({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,a=e.props;return a.children?a.children(t):null}}),br=yr.loadable,_r=yr.lazy,Er=gr;Er.lib=br;var Sr=vr;Sr.lib=_r;const wr=Er,kr=(e,t)=>{if("CSS_CHUNK_LOAD_FAILED"===e?.code){const a=e.request;if(document.querySelector(`link[href="${a}"]`)||document.querySelector(`link[data-href="${a}"]`))return t()}throw e},Or=(e,t={})=>{const a=e.importAsync;return e.importAsync=()=>a().catch((e=>kr(e,a))),t.suspense?Sr(e):wr(e,{fallback:t.loading})},Tr={},Cr={"@/pages/loans/pos-loans/[category]/index":Or({chunkName:()=>"@_pages_loans_pos-loans_[category]_index",requireSync(e){return a(this.resolve(e))},isReady(e){const t=this.resolve(e);return!!a.m[t]},importAsync:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("2c26cecbf5df2de9"),a.e("678fa105a34061a1"),a.e("@_pages_loans_pos-loans_[category]_index")]).then(a.bind(a,39096)),requireAsync(e){return this.resolve(e),this.importAsync(e).then((e=>e))},resolve:()=>39096}),"@/pages/sso/logout":Or({chunkName:()=>"@_pages_sso_logout",requireSync(e){return a(this.resolve(e))},isReady(e){const t=this.resolve(e);return!!a.m[t]},importAsync:()=>a.e("@_pages_sso_logout").then(a.bind(a,88381)),requireAsync(e){return this.resolve(e),this.importAsync(e).then((e=>e))},resolve:()=>88381}),"@/pages/sso-redirect":Or({chunkName:()=>"@_pages_sso-redirect",requireSync(e){return a(this.resolve(e))},isReady(e){const t=this.resolve(e);return!!a.m[t]},importAsync:()=>a.e("@_pages_sso-redirect").then(a.bind(a,27484)),requireAsync(e){return this.resolve(e),this.importAsync(e).then((e=>e))},resolve:()=>27484})},Rr={},Mr={},Nr={},xr=()=>Rr,Ar=()=>Mr,Pr=()=>Nr,Ir=e=>!!e&&0===e.indexOf("@/"),Lr=e=>`/${e.replace("@/routes/","").replace(/\[(.+?)\]/g,":$1").replace(/index$/g,"")}`,qr=e=>`${e}__layout`,Dr=e=>`${e}__errorBoundary`,jr=e=>{const t=e.replace(/__wildcard$/g,"");return`${Lr(t)}*`},Fr=e=>{const t=e,a=Lr(e),r=xr(),n=Ar(),o={name:t,path:a,config:{pageComponent:e}};return e in r&&(o.config.nestedLayoutComponent=qr(e)),e in n&&(o.config.errorBoundaryComponent=Dr(e)),o},Ur="__default";class Vr{constructor({bundleList:e,componentRegistry:t,logger:a}){this.bundles=e,this.componentRegistry=t;{const e=a("file-system-pages:bundle-manager"),t={...Tr,...Cr},r=xr(),n=Ar(),o=Pr(),s=(e,t)=>Object.keys(e).reduce(((a,r)=>(a[t(r)]=e[r],a)),{}),i=(0,er.Z)({name:Ur,components:{...s(r,qr),...s(n,Dr),...s(o,Za()),...t}});this.bundles[Ur]=()=>Promise.resolve({default:i});for(const e in i.components)this.componentRegistry.add(e,i.components[e],Ur);e.debug({event:"create default bundle with file-system pages",components:Object.keys(t)})}}get(e,t){return Ir(t)&&(e=Ur),this.loadBundle(e,t).then((e=>e.default))}has(e,t){return Ir(t)&&(e=Ur),!!this.bundles[e]}loadBundle(e,t){return this.has(e,t)?this.bundles[e]().catch((t=>kr(t,this.bundles[e]))):Promise.reject(new Error(`Bundle "${e}" not found`))}}var Br=a(33057),Hr=a.n(Br),Yr=a(30353),$r=a.n(Yr);const Jr="__default",Kr=(0,Rt.y)("setRequest"),zr=(0,Mt.L)("requestManager",{}).on(Kr,((e,t)=>t));var Gr=a(14033),Xr=a.n(Gr),Wr=a(15434),Qr=a.n(Wr);const Zr=Xr()(/^(?:[a-z]+:)?\/\//i),en=e=>e.pathname+e.search+e.hash,tn=e=>{const t=Object.create(null);e.searchParams.forEach(((e,a)=>{Object.prototype.hasOwnProperty.call(t,a)?Array.isArray(t[a])?t[a].push(e):t[a]=[t[a],e]:t[a]=e}));const a=e.toString(),r=en(e),n={href:r,origin:e.origin,protocol:e.protocol,username:e.username,password:e.password,port:e.port,pathname:e.pathname,path:r,search:e.search,hash:e.hash,query:t};return"localhost"!==e.host&&Object.assign(n,{href:e.href,host:e.host,hostname:e.hostname}),Object.defineProperty(n,"toString",{value:()=>a,enumerable:!1,configurable:!0,writable:!0}),n},an=(e,t=(()=>window.location.href)())=>new URL((e=>{if(e.length<2)return!1;for(let t=0;t<e.length;t++)switch(e[t]){case"?":return!0;case"/":break;default:return!1}return!0})(e)?e.replace(/^\/+/,"/"):e,t),rn=e=>tn(an(e)),nn=(e,t)=>{const a=an(e),r=an(t,a);return Zr(e)?r.href:en(r)},on=/^(\/[^?\s]*)(\?[^\s]*)?(#[^s]*)?$/,sn=(e,t)=>{Jt()(((t,a)=>{Array.isArray(t)?(e.delete(a),Qr()((t=>e.append(a,t)),t)):void 0===t?e.delete(a):e.set(a,t)}),t)},cn=(e,t)=>{const a=an(e.toString());return sn(a.searchParams,t),tn(a)},un=(e,t)=>{const{path:a,query:r,port:n,username:o,password:s}=t,i={hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search};if(a){const t=(e=>{const t=on.exec(e);if(t){const[e,a,r="",n=""]=t;return{pathname:a,search:r,hash:n}}})(a);t&&Object.assign(e,t)}o&&(e.username=o),s&&(e.password=s);for(const t in i){const a=i[t];void 0!==a&&(e[t]=a)}if(void 0!==n&&(e.port=n,"0"===e.port&&(e.port="http:"===e.protocol?"80":"443")),r){const a=new URLSearchParams(t.search);sn(a,r),e.search=a.toString()}return e},ln=[(0,c.J)({provide:oa,scope:f.s.REQUEST,useClass:class{constructor({request:e}){this.request=e||{},this.url=window.location.href}getBody(){return this.request.body}getUrl(){return this.url}getParsedUrl(){return this.parsedUrl||(this.parsedUrl=rn(this.url)),this.parsedUrl}getMethod(){return this.request.method}getHeader(e){return this.request.headers?.[e]}getHeaders(){return this.request.headers}getCookie(e){return this.request.cookies[e]}getCookies(){return this.request.cookies}getClientIp(){return this.getHeader("x-real-ip")||this.request?.socket?.remoteAddress||""}getHost(){return window.location.host}},deps:{request:Zt}}),(0,c.J)({provide:L.Ym,multi:!0,useValue:zr})];let dn=class{};dn=(0,Qt.__decorate)([(0,s.Y)({providers:[...ln,(0,c.J)({provide:Zt,useFactory:({store:e})=>{const t=e.getState(zr);return{...t,headers:{...t?.headers,"user-agent":navigator.userAgent,cookie:document.cookie}}},deps:{store:L.kR}})]})],dn);const pn=(0,u.V3)("responseManager");var hn=a(92877),fn=a.n(hn),mn=a(53170),gn=a.n(mn);const vn=[(0,c.J)({provide:pn,scope:f.s.REQUEST,useClass:class{constructor(){this.body="",this.headers={},this.cookies={},this.status=200}getBody(){return this.body}setBody(e){this.body=e}getHeader(e){return"set-cookie"===e?gn()(this.cookies):this.headers[e]}getHeaders(){return fn()(this.cookies)?this.headers:{...this.headers,"Set-Cookie":gn()(this.cookies)}}setHeader(e,t){this.headers[e]=t}getCookie(e){return this.cookies[e]}getCookies(){return this.cookies}setCookie(e,t){this.cookies[e]=t}setStatus(e){this.status=e}getStatus(){return this.status}}})];let yn=class{};yn=(0,Qt.__decorate)([(0,s.Y)({providers:[...vn,(0,c.J)({provide:ea,useValue:{}})]})],yn);var bn=a(63119),_n=a.n(bn);const En=(e,t)=>{e.on("change",t),t()};var Sn=a(24069);const wn=(e,t)=>"string"==typeof e?{payload:t,type:e,error:!1}:e;class kn extends Sn.Z{constructor(e,t,a,r){super(),this.applyDispatch=e=>{let t=this.dispatcher.handlers[e.type]||[];if(!t.length){if(!e.store)return e.payload;this.registerStore(e.store),t=this.dispatcher.handlers[e.type]||[]}return this.applyHandlers(e,t),e.payload},this.dispatcher=e,this.storeInstances={},this.storeUnsubscribeCallbacks={},this.context=t,this.dispatcherInterface={getContext:()=>this.context,getStore:this.getStore.bind(this)},this.rehydratedStoreState={},this.fullState={},a&&this.rehydrate(a),r?.length&&(this.applyDispatch=this.applyMiddlewares(r)),Object.keys(this.dispatcher.stores).forEach((e=>{this.getStore(e)}))}applyMiddlewares(e){let t=(...e)=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const a={getState:this.getState.bind(this),subscribe:this.subscribe.bind(this),dispatch:(...e)=>t(...e)};return t=_n()(...e.map((e=>e(a))))(this.applyDispatch),t}storeSubscribe(e,t){if(this.storeUnsubscribeCallbacks[e])return;const a=()=>{const a=t.getState();a!==this.fullState[e]&&(this.fullState={...this.fullState,[e]:a},this.emit("change"))};En(t,a),this.storeUnsubscribeCallbacks[e]=()=>{t.off("change",a)}}getStore(e){let t,a=!1;"object"==typeof e?(t=e.store,a=e.optional):t=e;const r=this.dispatcher.getStoreName(t);if(!this.storeInstances[r]){let e=this.dispatcher.stores[r];if(!e){if("function"!=typeof t){if(a)return null;throw new Error(`Store ${r} was not registered.`)}this.dispatcher.registerStore(t),e=t}const n=new e(this.dispatcherInterface);if(this.storeInstances[r]=n,this.rehydratedStoreState&&this.rehydratedStoreState[r]){const e=this.rehydratedStoreState[r];n.rehydrate&&n.rehydrate(e),this.rehydratedStoreState[r]=null}this.storeSubscribe(r,n),e.dependencies&&e.dependencies.forEach((e=>{const t=this.getStore(e);En(t,(()=>{n.emit("change")}))}))}return this.storeInstances[r]}dispatch(e,t){if(!e)throw new Error(`eventOrType parameter ${e} is invalid.`);const a=wn(e,t);return this.applyDispatch(a)}applyHandlers(e,t){const a={},r=e=>{if(a[e.name])return;const t=this.getStore(e.name);t&&("function"==typeof e.handler?a[e.name]=e.handler.bind(t):a[e.name]=t[e.handler].bind(t))},n=t.length;for(let e=0;e<n;e++)r(t[e]);return((e,t)=>{const a=Object.keys(t);for(let r=0;r<a.length;r++){const n=a[r],o=t[n];if(!o)throw new Error(`${n} does not have a handler for action ${e.type}`);o(e.payload,e.type)}})(e,a)}dehydrate(){const e={},t=Object.keys(this.storeInstances);for(let a=0;a<t.length;a++){const r=t[a],n=this.storeInstances[r].dehydrate();void 0!==n&&(e[r]=n)}return{stores:e}}rehydrate(e){if(e.stores){const t=Object.keys(e.stores);for(let a=0;a<t.length;a++){const r=t[a];this.rehydratedStoreState[r]=e.stores[r]}}}subscribe(...e){if("storeName"in e[0]){const t=e[0],a=e[1],r=this.getStore(t),n=()=>{const e=this.getState(t);a(e)};return r.on("change",n),()=>{r.off("change",n)}}const t=e[0],a=()=>{const e=this.getState();t(e)};return this.on("change",a),()=>{this.off("change",a)}}getState(e){return e?this.fullState[e.storeName]:this.fullState}setContext(e){this.context=e}hasStore(e){const t=this.dispatcher.getStoreName(e);return t in this.storeInstances&&this.dispatcher.hasStore({storeName:t})}registerStore(e){this.dispatcher.registerStore(e),this.getStore(e)}unregisterStore(e){const{storeName:t}=e;this.dispatcher.unregisterStore(e),this.storeUnsubscribeCallbacks[t](),delete this.storeUnsubscribeCallbacks[t],delete this.rehydratedStoreState[t],delete this.storeInstances[t]}}const On=(0,u.V3)("actionRegistry"),Tn=(0,u.V3)("actionExecution"),Cn=(0,u.V3)("actionExecutionHooks"),Rn=(0,u.V3)("actionPageRunner"),Mn=(0,u.V3)("actionConditionals",{multi:!0}),Nn=(0,u.V3)("limitActionGlobalTimeRun"),xn=(0,u.V3)("tramvai deferred actions map");class An{constructor({di:e,dispatcherContext:t,pubsub:a,store:r}){this.executeAction=(e,t)=>this.di.get(Tn).run(e,t),this.dispatch=(e,t)=>new Promise(((a,r)=>{try{a(this.store.dispatch(wn(e,t)))}catch(e){r(e)}})),this.dispatchWith=(e,t)=>"function"==typeof e?(...a)=>this.dispatch(e(...a),t):t=>this.dispatch(e,t),this.getStore=e=>this.dispatcher.getStore(e),this.dehydrate=()=>({dispatcher:this.dispatcher.dehydrate()}),this.getState=(...e)=>this.store.getState(e[0]),this.subscribe=(...e)=>this.store.subscribe(e[0],e[1]),this.hasStore=e=>this.dispatcher.hasStore(e),this.registerStore=e=>this.dispatcher.registerStore(e),this.unregisterStore=e=>this.dispatcher.unregisterStore(e),this.store=r,this.dispatcher=t,this.dispatcher.setContext(this),this.di=e,this.pubsub=a}}const Pn=(0,u.V3)("tramvai tapable hook factory"),In=(0,u.V3)("commandLineRunner timingInfo"),Ln=(0,u.V3)("commandLineRunner executionEnd",{multi:!0});class qn{constructor(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}tap(e,t){const a={name:e,fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}call(e){const t=Array.from(this.wrappers).reverse(),a=Array.from(this.plugins.values()),r={};let n,o=-1;const s=e=>{if(o++,o<t.length)return(0,t[o])(r,e,s);if(o===t.length)for(const t of a)n=t.fn(r,e,n);return n};return s(e)}wrap(e){this.wrappers.add(e)}}class Dn{constructor(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}tap(e,t){const a={name:e,fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}tapPromise(e,t){const a={name:e,options:{type:"promise"},fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}tapAsync(e,t){const a={name:e,options:{type:"async"},fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}callPromise(e){const t=Array.from(this.wrappers).reverse(),a=Array.from(this.plugins.values()),r={};let n,o=-1;const s=async e=>{if(o++,o<t.length)return(0,t[o])(r,e,s);if(o===t.length)for(const t of a)"options"in t?"promise"===t.options.type?n=await t.fn(r,e,n):"async"===t.options.type&&(n=await new Promise(((a,o)=>{t.fn(r,e,n,((e,t)=>{e?o(e):a(t)}))}))):n=t.fn(r,e,n);return n};return s(e)}wrap(e){this.wrappers.add(e)}}class jn{constructor(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}tap(e,t){const a={name:e,fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}tapPromise(e,t){const a={name:e,options:{type:"promise"},fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}tapAsync(e,t){const a={name:e,options:{type:"async"},fn:t};return this.plugins.add(a),()=>{this.plugins.delete(a)}}callPromise(e){const t=Array.from(this.wrappers).reverse(),a=Array.from(this.plugins.values()),r={};let n=-1;const o=async e=>{if(n++,n<t.length)return(0,t[n])(r,e,o);n===t.length&&await Promise.all(a.map((t=>{if("options"in t){if("promise"===t.options.type)return t.fn(r,e);if("async"===t.options.type)return new Promise(((a,n)=>{t.fn(r,e,void 0,((e,t)=>{e?n(e):a(t)}))}))}return t.fn(r,e)})))};return o(e)}wrap(e){this.wrappers.add(e)}}class Fn{createSync(e){return new qn(e)}createAsync(e){return new Dn(e)}createAsyncParallel(e){return new jn(e)}}var Un=a(7605),Vn=a.n(Un);const Bn=(0,u.V3)("hooks"),Hn=(0,n.J)({name:"TramvaiHookModule",providers:[(0,c.J)({provide:Pn,scope:f.s.SINGLETON,useClass:Fn}),(0,c.J)({provide:Bn,scope:f.s.SINGLETON,useClass:class{constructor(){this.hooks=Object.create(null)}registerHooks(e,t){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e]=Vn()(this.hooks[e].concat(t))}runHooks(e,t,a,r){const n=this.hooks[e];if(!n)return a;let o=a;for(let e=0;e<n.length;e++)o=n[e](t,o,r);return o}runAsyncHooks(e,t,a,r){const n=this.hooks[e];if(!n)return a;for(let e=0;e<n.length;e++){const o=n[e];setTimeout((()=>{o(t,a,r)}))}return a}runPromiseHooks(e,t,a){const r=this.hooks[e];return e=>{if(!r)return Promise.resolve(e);let n=0;return Promise.resolve(e).then((function e(o){const s=r[n++];return s?Promise.resolve(s(t,o,a)).then(e):o}))}}}})]}),Yn={init:[P.init,P.listen],close:[P.close],customer:[P.customerStart,P.resolveUserDeps,P.resolvePageDeps,P.generatePage,P.clear],spa:[P.resolveUserDeps,P.resolvePageDeps,P.spaTransition],afterSpa:[P.afterSpaTransition]},$n={server:Yn,client:Yn};var Jn=a(40186);class Kn extends Error{constructor({message:e="Execution Abort",contextName:t,...a}={}){super(e),this.name=Kn.errorName,this.contextName=t,Object.assign(this,a)}}Kn.errorName="ExecutionAbortError";class zn extends Error{constructor(e){super(e),this.isSilent=!0,this.name=zn.errorName}}zn.errorName="SilentError";const Gn=e=>!!e.isSilent;let Xn=class{};Xn=(0,Qt.__decorate)([(0,s.Y)({imports:[Hn],providers:[(0,c.J)({provide:x,scope:f.s.SINGLETON,useClass:class{constructor({rootDi:e,lines:t,logger:a,plugins:r,hookFactory:n,executionContextManager:o,executionEndHandlers:s}){this.executionContextByDi=new WeakMap,this.abortControllerByDi=new WeakMap,this.rootDi=e,this.lines=t,this.hookFactory=n,this.plugins=r,this.executionContextManager=o,this.executionEndHandlers=s,this.log=a("command:command-line-runner"),this.runLineHook=this.hookFactory.createAsync("runLine"),this.runCommandHook=this.hookFactory.createAsync("runCommand"),this.runCommandFnHook=this.hookFactory.createAsync("runCommandFn"),this.runLineHook.tapPromise("commandLineRunner",(async(e,{env:t,line:a,di:r,key:n})=>{const o=this.lines[t][a],s={};r.register({provide:In,useValue:s}),this.log.debug({event:"command-run",type:t,status:a});try{for(const e of o)await Promise.resolve(),await this.runCommandHook.callPromise({env:t,line:a,di:r,command:e})}finally{this.executionContextByDi.delete(r),this.abortControllerByDi.delete(r);for(const e of this.executionEndHandlers)e(r,t,a,s,n)}})),this.runCommandHook.tapPromise("commandLineRunner",(async(e,{env:t,line:a,di:r,command:n})=>{const o=r.get({token:n,optional:!0});if(!o)return;const s=r.get({token:Xa,optional:!0}),i=r.get(In),c=n.toString();return i[c]={start:performance.now()},this.executionContextManager.withContext(s,`command-line:${c}`,(async(e,t)=>{this.executionContextByDi.set(r,e),this.abortControllerByDi.set(r,t),Array.isArray(o)?await Promise.all(o.map((e=>this.runCommandFnHook.callPromise({fn:e,line:a,command:n,di:r})))):await this.runCommandFnHook.callPromise({fn:o,line:a,command:n,di:r})})).finally((()=>{i[c].end=performance.now()}))})),this.runCommandFnHook.tapPromise("commandLineRunner",(async(e,{fn:t,line:a,command:r,di:n})=>{try{await this.executeCommand(t,r,n)}catch(e){throw this.abortControllerByDi.get(n)?.abort(new Kn({message:"Execution context were aborted because of one of the commands failed",contextName:`command-line:${a}:${r.toString()}`})),e}})),this.plugins?.forEach((e=>{e.apply(this)}))}async run(e,t,a,r,n){const o=r??this.resolveDi(e,t,this.rootDi,a);return await this.runLineHook.callPromise({env:e,line:t,di:o,key:n}),o}resolveDi(e,t,a,r){let n=a;return"server"===e&&"customer"===t&&(n=(0,Jn.H)(n)),r&&r.forEach((e=>n.register(e))),n}resolveExecutionContextFromDi(e){return this.executionContextByDi.get(e)??null}async executeCommand(e,t,a){const r=t.toString();if(!(e instanceof Function)){const t=new TypeError(`Expected function in line processing "commandLineListTokens.${r}", received "${e}".\n      Check that all commandLineListTokens providers return functions`);return void this.log.error({event:"line-error",error:t,line:r})}const{name:n=""}=e;this.log.debug({event:"line-run",line:r,command:n});try{await e()}catch(e){throw this.log[Gn(e)?"debug":"error"]({event:"line-error",error:e,line:r,command:n}),e}}},deps:{logger:k.Fp,lines:A,hookFactory:Pn,plugins:(0,u.jt)(I),rootDi:ya.Z,executionContextManager:Ga,executionEndHandlers:{token:Ln,optional:!0}}}),(0,c.J)({provide:Wa,useFactory:({di:e,commandLineRunner:t})=>()=>t.resolveExecutionContextFromDi(e),deps:{di:ya.Z,commandLineRunner:x}}),(0,c.J)({provide:A,scope:f.s.SINGLETON,useValue:$n})]})],Xn);var Wn=a(64805),Qn=a.n(Wn);const Zn={logger:{debug:Qn(),info:Qn(),error:Qn()},resultTransform:e=>1===e.length?e[0]:e};class eo{constructor(e){this.subscribers=new Map;const t={...Zn,...e};this.logger=t.logger,this.resultTransform=t.resultTransform}subscribe(e,t){this.logger.debug("subscribe",e,t);let a=this.subscribers.get(e);return a?a.add(t):(a=new Set([t]),this.subscribers.set(e,a)),()=>a.delete(t)}publish(e,...t){this.logger.debug("publish",e,t);const a=this.subscribers.get(e);if(a&&a.size){const e=[];return a.forEach((a=>e.push(Promise.resolve(a(...t))))),Promise.all(e).then(this.resultTransform)}return Promise.resolve()}}let to=class{};to=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:Ja,scope:f.s.SINGLETON,useFactory:e=>()=>new eo({logger:e.logger("pubsub")}),deps:{logger:k.Fp}}),(0,c.J)({provide:Ka,scope:f.s.REQUEST,useFactory:({createPubsub:e})=>e(),deps:{createPubsub:Ja}}),(0,c.J)({provide:za,scope:f.s.SINGLETON,useFactory:({createPubsub:e})=>e(),deps:{createPubsub:Ja}})]})],to);let ao=class{};ao=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],ao);const ro=[(0,c.J)({provide:L.E6,scope:f.s.REQUEST,useFactory:()=>{let e;try{if(e=document.getElementById("__TRAMVAI_STATE__")?.textContent,!e)throw Error("__TRAMVAI_STATE__ element is empty or missing");return JSON.parse(e)}catch(t){throw t instanceof Error&&(t.event="initial-state-parse-error",t.initialState=e,t.readyState=document.readyState,t.bodyComplete=!!window.__TRAMVAI_HTML_READY__),t}}}),(0,c.J)({provide:P.listen,useFactory:({commandLineRunner:e})=>function(){return e.run("client","customer")},deps:{commandLineRunner:x},multi:!0})],no=(0,u.V3)("child-app isChildApp Di"),oo=(f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON,(0,Rt.y)("action state execution in server")),so=(0,Mt.L)("actionTramvai",{serverState:{}}).on(oo,((e,t)=>({...e,serverState:t})));var io=a(92366),co=a.n(io),uo=a(59576);class lo{constructor(){this.status="pending",this.resolve=()=>{},this.reject=()=>{},this.isResolved=()=>void 0!==this.resolveData,this.isRejected=()=>void 0!==this.rejectReason,this.reset=()=>{this.status="pending",this.resolveData=void 0,this.rejectReason=void 0,this.promise=this.initPromise()},this.initPromise=()=>new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.resolveData=t,this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.rejectReason=e,this.status="rejected",t(e))}})),this.promise=this.initPromise()}}var po=a(20745),ho=a(57801),fo=a.n(ho);class mo extends Error{constructor({message:e="Condition failed",conditionName:t,targetName:a,...r}){super(e),this.name=mo.errorName,this.conditionName=t,this.targetName=a,this.isSilent=!0,Object.assign(this,r)}}mo.errorName="ConditionFailError";const go="global",vo={};class yo{constructor(e,t,a,r,n){this.globalConditionals=e,this.payload=t,this.parameters=a,this.executionState=r,this.type=n,this.status=!0,this.forbiddenMarker=!1,this.key=null,n===go&&(this.status="success"!==r.status),this.conditions=a.conditions??vo}check(){return this.globalConditionals.forEach((e=>{this.key=e.key,e.fn(this)})),this.getStatus()}setState(e){this.executionState.state[this.key]=e}getState(){return this.executionState.state[this.key]}forbid(){this.executionState.status="forbidden",this.executionState.forbiddenBy=this.key,this.forbiddenMarker=!0}allow(){this.status=!0}getStatus(){return!this.forbiddenMarker&&this.status}}const bo={};var _o=a(24034),Eo=a.n(_o),So=a(5103),wo=a.n(So);const ko="@@global";class Oo extends Error{constructor({message:e="Page actions were aborted",...t}={}){super(e),this.name=Oo.errorName,Object.assign(this,t)}}Oo.errorName="PageActionsAbortError";const To={},Co={key:"pageServer",fn:e=>{e.conditions.pageServer&&e.type===go&&e.forbid()}},Ro=[(0,c.J)({provide:xn,useFactory:()=>(window.__TRAMVAI_DEFERRED_ACTIONS||(window.__TRAMVAI_DEFERRED_ACTIONS={}),{get:e=>window.__TRAMVAI_DEFERRED_ACTIONS[e],set(e,t){window.__TRAMVAI_DEFERRED_ACTIONS[e]=t},has:e=>e in window.__TRAMVAI_DEFERRED_ACTIONS,forEach(e){Object.keys(window.__TRAMVAI_DEFERRED_ACTIONS).forEach((t=>{e(window.__TRAMVAI_DEFERRED_ACTIONS[t],t)}))}})})];let Mo=class{};Mo=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:L.Ym,multi:!0,useValue:so}),(0,c.J)({provide:On,scope:f.s.SINGLETON,useClass:class{constructor({actionsList:e}){this.actions=new Map([[ko,$r()(e)]])}add(e,t){const a=wo()(t);this.actions.set(e,Vn()(this.actions.has(e)?[...this.actions.get(e),...a]:a))}get(e,t){return Vn()([...this.actions.get(e)||[],...t||[]])}getGlobal(){return this.actions.get(ko)}remove(e,t){if(!t)return void this.actions.delete(e);const a=wo()(t);this.actions.has(e)&&this.actions.set(e,Eo()(this.actions.get(e),a))}},deps:{actionsList:h.I7}}),(0,c.J)({provide:Tn,scope:f.s.REQUEST,useClass:class{constructor({store:e,context:t,deferredActionsMap:a,hooks:r,di:n,executionContextManager:o,actionConditionals:s,transformAction:i}){this.actionConditionals=$r()(s??[]),this.context=t,this.store=e,this.deferredActionsMap=a,this.di=n,this.hooks=r,this.executionContextManager=o,this.execution=new Map,this.transformAction=i||Za();const c=e.getState(so);c&&c.serverState&&fo()(((e,t)=>{this.execution.set(t,e)}),c.serverState)}async runInContext(e,t,...a){const r=a[0],n=!0===e?.values.pageActions?go:"local",o=this.getActionParameters(t);if(!o)throw new Error("Cannot resolve internal data for action. Make sure you are using the result of `declareAction` call as an action");const s=o.deferred;this.hooks.startExecution.call({action:t,deferred:s,context:e,start:Date.now()});const i=this.getExecutionState(o.name);if(!this.canExecuteAction(r,o,i,n)){const a=i.forbiddenBy??"unknown";return this.hooks.endExecution.call({action:t,deferred:s,context:e,forbidden:a,end:Date.now()}),"reject"===o.conditionsFailResult?Promise.reject(new mo({conditionName:a,targetName:o.name})):Promise.resolve()}if(s&&!this.deferredActionsMap.get(t.name)){const e=new lo;e.promise.catch((()=>{})),this.deferredActionsMap.set(t.name,e)}return i.status="pending",this.executionContextManager.withContext(e,{name:o.name,values:!0===e?.values.pageActions?{pageActions:!1}:void 0},((n,c)=>{const u=this.createActionContext(e,n,c,o);return u.abortSignal.addEventListener("abort",(()=>{this.hooks.endExecution.call({action:t,error:new Error("Action aborted"),deferred:s,context:e,end:Date.now()})})),Promise.resolve().then((()=>{if((0,po.J)(t)){const e=t.fn.apply(u,a),r=this.deferredActionsMap.get(t.name);return s?(r.isResolved()||r.isRejected()||!co()(e)||e.then(r.resolve).catch(r.reject),Promise.resolve()):e}return t(this.context,r,u.deps)})).then((a=>(i.status="success",this.hooks.endExecution.call({action:t,deferred:s,context:e,end:Date.now()}),a))).catch((a=>{throw i.status="failed",this.hooks.endExecution.call({action:t,deferred:s,context:e,error:a,end:Date.now()}),a}))}))}async run(e,...t){return this.runInContext(null,e,...t)}canExecute(e){const t=this.getActionParameters(e),a=this.getExecutionState(t.name);return this.canExecuteAction(void 0,t,a,go)}getActionParameters(e){let t;return(0,po.J)(e)?t=e:(this.transformAction(e),t=(e=>e[uo.d])(e)),t}getExecutionState(e){let t=this.execution.get(e);return t||(t={status:"pending",state:{}},this.execution.set(e,t)),t}canExecuteAction(e,t,a,r){return new yo(this.actionConditionals,e,t,a,r).check()}createActionContext(e,t,a,r){return{abortController:a,abortSignal:t?.abortSignal,executeAction:this.runInContext.bind(this,t),deps:r.deps?this.di.getOfDeps(r.deps):bo,actionType:e?.values.pageActions?"page":"standalone",dispatch:this.store.dispatch,getState:this.store.getState}}},deps:{actionConditionals:{token:Mn,optional:!0},context:Sa.l,store:L.kR,di:ya.Z,hooks:Cn,executionContextManager:Ga,transformAction:{token:"actionTransformAction",optional:!0},deferredActionsMap:xn}}),(0,c.J)({provide:Cn,useFactory:({hookFactory:e})=>({startExecution:e.createSync("startActionExecution"),endExecution:e.createSync("endActionExecution")}),deps:{hookFactory:Pn}}),(0,c.J)({provide:Rn,scope:f.s.REQUEST,useClass:class{constructor(e){this.deps=e,this.log=e.logger("action:action-page-runner"),this.isChildAppRunner=e.isChildAppRunner??!1}runActions(e,t=(()=>!1)){return this.deps.executionContextManager.withContext(this.deps.commandLineExecutionContext(),{name:"pageActions",values:{pageActions:!0}},(async(a,r)=>{const n=this.deps.router.registerHook("beforeNavigate",(function(){return n(),r.abort(new Oo({message:"Page actions were aborted because of route changing"})),Promise.resolve()}));await Promise.all(e.map((e=>Promise.resolve().then((()=>this.deps.actionExecution.runInContext(a,e,To))).catch((a=>{const r=(0,po.J)(e)?e:e[uo.d],n="object"==typeof a?.reason&&(o=a?.reason,o.name===Oo.errorName);var o;if(this.log[Gn(a)||n?"info":"error"]({error:a,event:"action-execution-error",message:`An error occurred during "${r?.name??"unknown"}" action execution`}),t(a))throw a}))))).finally((()=>{n()}))}))}},deps:{actionExecution:Tn,executionContextManager:Ga,commandLineExecutionContext:Wa,store:L.kR,limitTime:Nn,logger:k.Fp,deferredMap:xn,responseTaskManager:(0,u.jt)(aa),serverResponseStream:(0,u.jt)(ta),router:Pt.l1,isChildAppRunner:(0,u.jt)(no)}}),(0,c.J)({provide:Nn,useValue:500}),(0,c.J)({provide:Mn,multi:!0,useValue:[{key:"alwaysCondition",fn:e=>{e.conditions.always&&e.allow()}},{key:"onlyServer",fn:e=>{e.conditions.onlyServer&&e.forbid()}},{key:"onlyBrowser",fn:e=>{e.conditions.onlyBrowser}},Co,{key:"pageBrowser",fn:e=>{e.conditions.pageBrowser&&e.type}},{key:"dynamicCondition",fn:e=>{e.conditions.dynamic&&(e.getState()&&"browser"!==e.getState().environment||e.allow(),e.setState({environment:"browser"}))}}]}),...Ro]})],Mo);class No{constructor(e){(e=e||{}).stores=e.stores||[],this.stores={},this.handlers={},e.stores.forEach((e=>{this.registerStore(e)}))}createContext(e,t,a){return new kn(this,e,t,a)}hasStore(e){return!!this.stores[e.storeName]}registerStore(e){const{storeName:t}=e;this.stores[t]&&this.stores[t]===e||(this.stores[t]=e,e.handlers&&Object.keys(e.handlers).forEach((a=>{const r=e.handlers[a];this.registerHandler(a,t,r)})))}unregisterStore(e){const{storeName:t}=e;this.stores[t]&&(delete this.stores[t],e.handlers&&Object.keys(e.handlers).forEach((a=>{const r=e.handlers[a];this.unregisterHandler(a,t,r)})))}getStoreName(e){return"string"==typeof e?e:e.storeName}registerHandler(e,t,a){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({name:t,handler:a})}unregisterHandler(e,t,a){Array.isArray(this.handlers[e])&&(this.handlers[e]=this.handlers[e].filter((e=>!(e.name===t&&e.handler===a))))}}let xo=class{};xo=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:L.qb,scope:f.s.SINGLETON,useFactory:({stores:e})=>{return t={stores:e&&$r()(e)},new No(t);var t},deps:{stores:L.Ym}}),(0,c.J)({provide:L.jm,scope:f.s.REQUEST,useFactory:({dispatcher:e,initialState:t,middlewares:a})=>e.createContext({},t,[()=>e=>t=>e(t),...$r()(a||[])]),deps:{dispatcher:L.qb,middlewares:{token:L.PU,optional:!0},initialState:{token:L.E6,optional:!0}}}),(0,c.J)({provide:L.kR,scope:f.s.REQUEST,useFactory:({dispatcherContext:e})=>({getState:e.getState.bind(e),dispatch:e.dispatch.bind(e),subscribe:e.subscribe.bind(e)}),deps:{dispatcherContext:L.jm}})]})],xo);const Ao=(0,u.V3)("createCache"),Po=(0,u.V3)("registerClearCache",{multi:!0}),Io=(0,u.V3)("clearCache"),Lo=(0,u.V3)("cacheMetricsServer");var qo=a(56868),Do=a.n(qo);const jo=(0,u.V3)("_cachesList"),Fo=(0,u.V3)("cache names list");let Uo=class{};Uo=(0,Qt.__decorate)([(0,s.Y)({providers:[{provide:jo,scope:f.s.SINGLETON,useValue:[]},(0,c.J)({provide:Ao,scope:f.s.SINGLETON,useFactory:function({caches:e,cacheNames:t,metrics:a}){return function(t="memory",a){const r=function(e,t){return{type:e,max:100,...t}}(t,a),n=function(e="memory",t){return new(Do())(t)}(t,r);return e.push(n),n}},deps:{caches:jo,cacheNames:{token:Fo,optional:!0},metrics:{token:Lo,optional:!0}}}),(0,c.J)({provide:Io,scope:f.s.SINGLETON,useFactory:({caches:e,onCacheClear:t})=>a=>(e.forEach((e=>e.clear())),t?Promise.all(t.map((e=>e(a)))):Promise.resolve()),deps:{caches:jo,onCacheClear:{token:Po,optional:!0}}})]})],Uo);const Vo={};let Bo=class{};var Ho;Bo=(0,Qt.__decorate)([(0,s.Y)({imports:[Hn,Xn,Ea,to,Ba,Ua,Mo,xo,dn,yn,Uo,ao],providers:[(0,c.J)({provide:Ha,scope:f.s.SINGLETON,useClass:class{constructor({componentList:e}={}){this.components={[Jr]:Object.assign({},...$r()(e??[]))}}add(e,t,a=Jr){const r=this.components[a]||{};r[e]=t,this.components[a]=r}get(e,t=Jr){return(this.components[t]||{})[e]||this.components[Jr][e]}getComponentParam(e,t,a,r){return Hr()([e],t,this.get(a,r))}},deps:{componentList:{token:"componentDefaultList",optional:!0}}}),(0,c.J)({provide:Ya,scope:f.s.SINGLETON,useFactory:({additionalBundleList:e,...t})=>(e?.forEach((e=>{Jt()(((e,a)=>{a in t.bundleList||(t.bundleList[a]=()=>Promise.resolve({default:e}))}),e)})),new Vr(t)),deps:{bundleList:h.om,additionalBundleList:{token:$a,optional:!0},componentRegistry:Ha,logger:k.Fp}}),(0,c.J)({provide:Sa.l,scope:f.s.REQUEST,useFactory:function({di:e,dispatcherContext:t,pubsub:a,store:r}){return new An({di:e,dispatcherContext:t,pubsub:a,store:r})},deps:{di:ya.Z,pubsub:Ka,dispatcherContext:L.jm,store:L.kR}}),(0,c.J)({provide:Ga,scope:f.s.SINGLETON,useClass:class{async withContext(e,t,a){const r=(e=>"string"==typeof e?{name:e}:e)(t),{name:n,values:o=Vo}=r,s=e?`${e.name}.${n}`:n;if(e?.abortSignal.aborted)throw new Kn({message:`Execution aborted in context "${s}"`,reason:e.abortSignal.reason,contextName:s});const i=new AbortController;let c,u=o;e&&(u={...e.values,...o},c=e=>{i.abort(e.target.reason)},e.abortSignal.addEventListener("abort",c));const l={name:s,abortSignal:i.signal,values:u};try{return await a(l,i)}catch(e){throw null===e||"object"!=typeof e||e.executionContextName||(e.executionContextName=l.name),e}finally{void 0!==c&&e&&e.abortSignal.removeEventListener("abort",c)}}}}),...ro]})],Bo);let Yo=Ho=class{static forRoot({config:e}){return{mainModule:Ho,providers:[]}}};Yo=Ho=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],Yo);var $o=a(34770),Jo=a.n($o),Ko=a(37093),zo=a.n(Ko);const Go=/\*/,Xo=/<history-fallback>/,Wo=/:.+$/,Qo=/([^(?]+)(?:\((.+)\))?(\?)?/,Zo=(e,t=!1)=>{const a=e.endsWith("/");return t?a||(e=>/\/.+\.[^/]+$/.test(e))(e)?e:`${e}/`:e.length>1&&a?e.slice(0,-1):e},es=e=>!e.host||e.host===window.location.host,ts=e=>"string"==typeof e?{url:e}:e,as=(e,t)=>{const a=(e=>e.split("/").slice(e.startsWith("/")?1:0,e.endsWith("/")?-1:1/0))(e),r=zo()((a=>{if((e=>Xo.test(e))(a)||(e=>Go.test(e))(a))throw new Error(`Pathname should be only a string with dynamic parameters, not a special string, got ${e}`);if((e=>!!e.match(Wo))(a)){const[e="",r="",n=""]=a.split(":"),o=Qo.exec(r);if(!o)throw new Error('parameters should satisfy pattern "prefix:paramName(regexp)\\?:postfix"');const[,s,i,c]=o,u=t[s]?.toString();if(c&&!u)return"";if(!u)throw new Error(`value for parameter for ${s} should be defined in params`);if(i&&!new RegExp(i).test(u))throw new Error(`passed parameter for ${s} should satisfy regxep: ${i}, got: ${u}`);return e+u+n||a}return a}),a).join("/");return Zo(`/${r}`,e.endsWith("/"))};let rs={trace:Qn(),debug:Qn(),info:Qn(),warn:Qn(),error:Qn()};class ns{constructor({trailingSlash:e,mergeSlashes:t,enableViewTransitions:a,beforeResolve:r=[],beforeNavigate:n=[],afterNavigate:o=[],beforeUpdateCurrent:s=[],afterUpdateCurrent:i=[],guards:c=[],onChange:u=[],onRedirect:l,onNotFound:d,onBlock:p,hooksFactory:h,plugins:f}){this.started=!1,this.trailingSlash=!1,this.strictTrailingSlash=!0,this.viewTransitionsEnabled=!1,this.mergeSlashes=!1,this.hooksIndex=0,this.syncHooksIndex=0,this.guardsIndex=0,this.trailingSlash=e??!1,this.strictTrailingSlash=void 0===e,this.mergeSlashes=t??!1,this.viewTransitionsEnabled=a??!1,this.hooksFactory=h??new Fn,this.plugins=f??[],this.currentUuid=0,this.onRedirect=l,this.onNotFound=d,this.onBlock=p,this.hooks=new Map([["beforeResolve",this.hooksFactory.createAsyncParallel("beforeResolve")],["beforeNavigate",this.hooksFactory.createAsyncParallel("beforeNavigate")],["afterNavigate",this.hooksFactory.createAsyncParallel("afterNavigate")],["beforeUpdateCurrent",this.hooksFactory.createAsyncParallel("beforeUpdateCurrent")],["afterUpdateCurrent",this.hooksFactory.createAsyncParallel("afterUpdateCurrent")]]),r.forEach((e=>this.registerHook("beforeResolve",e))),n.forEach((e=>this.registerHook("beforeNavigate",e))),o.forEach((e=>this.registerHook("afterNavigate",e))),s.forEach((e=>this.registerHook("beforeUpdateCurrent",e))),i.forEach((e=>this.registerHook("afterUpdateCurrent",e))),this.guards=this.hooksFactory.createAsyncParallel("guards"),c.forEach((e=>this.registerGuard(e))),this.syncHooks=new Map([["change",this.hooksFactory.createSync("change")]]),u.forEach((e=>this.registerSyncHook("change",e))),this.navigateHook=this.hooksFactory.createAsync("navigate"),this.updateHook=this.hooksFactory.createAsync("update"),this.runNavigateHook=this.hooksFactory.createAsync("runNavigate"),this.runUpdateHook=this.hooksFactory.createAsync("runUpdate"),this.redirectHook=this.hooksFactory.createAsync("redirect"),this.notfoundHook=this.hooksFactory.createAsync("notfound"),this.blockHook=this.hooksFactory.createAsync("block"),this.navigateHook.tapPromise("router",(async(e,{navigateOptions:t})=>{await this.internalNavigate(ts(t),{})})),this.updateHook.tapPromise("router",(async(e,{updateRouteOptions:t})=>{await this.internalUpdateCurrentRoute(t,{})})),this.runNavigateHook.tapPromise("router",(async(e,{navigation:t})=>{if(t.to.redirect)return this.redirect(t,ts(t.to.redirect));await this.runGuards(t),await this.runHooks("beforeNavigate",t),this.commitNavigation(t),await this.runHooks("afterNavigate",t)})),this.runUpdateHook.tapPromise("router",(async(e,{navigation:t})=>{await this.runHooks("beforeUpdateCurrent",t),this.commitNavigation(t),await this.runHooks("afterUpdateCurrent",t)})),this.redirectHook.tapPromise("router",(async(e,{navigation:t})=>{await(this.onRedirect?.(t))})),this.notfoundHook.tapPromise("router",(async(e,{navigation:t})=>{await(this.onNotFound?.(t))})),this.blockHook.tapPromise("router",(async(e,{navigation:t})=>{await(this.onBlock?.(t))})),this.plugins.forEach((e=>{e.apply(this)}))}async start(){rs.debug({event:"start"}),this.started=!0}getCurrentRoute(){return this.currentNavigation?.to??this.lastNavigation?.to}getCurrentUrl(){return this.currentNavigation?.url??this.lastNavigation?.url}getLastRoute(){return this.lastNavigation?.to}getLastUrl(){return this.lastNavigation?.url}commitNavigation(e){rs.debug({event:"commit-navigation",navigation:e}),e.history||this.history.save(e),this.lastNavigation=e,this.currentNavigation=null,this.runSyncHooks("change",e)}async updateCurrentRoute(e){await this.updateHook.callPromise({updateRouteOptions:e})}async internalUpdateCurrentRoute(e,{history:t}){const a=this.currentNavigation??this.lastNavigation;if(!a)throw new Error("updateCurrentRoute should only be called after navigate to some route");const{replace:r,params:n,navigateState:o}=e,{to:s,url:i}=a,c={type:"updateCurrentRoute",from:s,to:this.resolveRoute({params:n,navigateState:o},{wildcard:!0}),url:this.resolveUrl(e),fromUrl:i,replace:r,history:t,navigateState:o,code:e.code,key:this.uuid()};rs.debug({event:"update-current-route",updateRouteOptions:e,navigation:c}),await this.run(c)}async runUpdateCurrentRoute(e){await this.runUpdateHook.callPromise({navigation:e})}async navigate(e){await this.navigateHook.callPromise({navigateOptions:e})}async internalNavigate(e,{history:t,redirect:a}){const{url:r,replace:n,params:o,navigateState:s,code:i,isBack:c,viewTransition:u,viewTransitionTypes:l,hasUAVisualTransition:d}=e,p=a?this.lastNavigation:this.currentNavigation??this.lastNavigation;if(!r&&!p)throw new Error("Navigate url should be specified and cannot be omitted for first navigation");const h=this.resolveUrl(e),{to:f,url:m}=p??{};let g={type:"navigate",from:f,url:h,fromUrl:m,replace:n,history:t,navigateState:s,code:i,redirect:a,redirectFrom:a?this.getCurrentRoute():void 0,isBack:c,key:this.uuid()};this.viewTransitionsEnabled&&void 0!==u&&!d&&(g.viewTransition=u,g.viewTransitionTypes=l),await this.runHooks("beforeResolve",g);const v=this.resolveRoute({url:h,params:o,navigateState:s},{wildcard:!0});if(v&&(g={...g,to:v}),rs.debug({event:"navigation",navigation:g}),!g.to)return this.notfound(g);await this.run(g)}async runNavigate(e){await this.runNavigateHook.callPromise({navigation:e})}async run(e){this.currentNavigation=e,"navigate"===e.type&&await this.runNavigate(e),"updateCurrentRoute"===e.type&&await this.runUpdateCurrentRoute(e)}resolve(e,t){const a=ts(e);return this.resolveRoute({...a,url:rn(a.url)},t)}back(e){return this.go(-1,e)}forward(){return this.go(1)}async go(e,t){return rs.debug({event:"history.go",to:e}),this.history.go(e,t)}isNavigating(){return!!this.currentNavigation}async dehydrate(){throw new Error("Not implemented")}async rehydrate(e){throw new Error("Not implemented")}unsubscribe(){}addRoute(e){this.tree?.addRoute(e)}async redirect(e,t){rs.debug({event:"redirect",navigation:e,target:t}),await this.redirectHook.callPromise({navigation:{...e,from:e.to,fromUrl:e.url,to:null,url:this.resolveUrl(t)}})}async notfound(e){rs.debug({event:"not-found",navigation:e}),await this.notfoundHook.callPromise({navigation:e})}async block(e){if(rs.debug({event:"blocked",navigation:e}),this.currentNavigation=null,!this.onBlock)throw new Error("Navigation blocked");await this.blockHook.callPromise({navigation:e})}cancel(){}normalizePathname(e){let t=e;return this.mergeSlashes&&(t=(e=>{const[t,...a]=e.split("?");return[t.replace(/\/+/g,"/").replace(/^(\w+):\//,"$1://"),...a].join("?")})(t)),this.strictTrailingSlash||(t=Zo(t,this.trailingSlash)),t}resolveUrl({url:e,query:t={},params:a,preserveQuery:r,hash:n}){const o=this.getCurrentRoute(),s=this.getCurrentUrl(),i=e?((e,t)=>{const a=an(e.toString());return an(t,a)})(s?.href??"",e):an(s.href);let{pathname:c}=i;return a&&(e?c=as(i.pathname,a):o&&(c=as(o.path,{...o.params,...a}))),es(i)&&(c=this.normalizePathname(c)),tn(un(i,{pathname:c,search:e?i.search:"",query:{...r?this.getCurrentUrl().query:{},...t},hash:n??i.hash}))}resolveRoute({url:e,params:t,navigateState:a},{wildcard:r}={}){let n=e?this.tree?.getRoute(e.pathname):this.getCurrentRoute();if(r&&!n&&e&&(n=this.tree?.getWildcard(e.pathname)),n)return t||a!==n.navigateState?{...n,params:{...n.params,...t},navigateState:a}:n}async runGuards(e){rs.debug({event:"guards.run",navigation:e});const t=[];await this.guards.callPromise({navigation:e,allResults:t}),rs.debug({event:"guards.done",navigation:e,results:t});for(const a of t){if(!1===a)return this.block(e);if(v()(a)||Jo()(a))return this.redirect(e,ts(a))}}registerGuard(e){const t=this.guardsIndex++;return this.guards.tapPromise(e.name??`guard-${t}`,(async(a,{allResults:r,navigation:n})=>{try{const a=await e(n);r[t]=a}catch(e){rs.warn({event:"guard.error",error:e}),r.push(void 0)}}))}runSyncHooks(e,t){rs.debug({event:"sync-hooks.run",hookName:e,navigation:t}),this.syncHooks.get(e).call({navigation:t}),rs.debug({event:"sync-hooks.done",hookName:e,navigation:t})}registerSyncHook(e,t){return this.syncHooks.get(e).tap(t.name??"sync-hook-"+this.syncHooksIndex++,((e,{navigation:a})=>{try{return t(a)}catch(e){rs.warn({event:"sync-hooks.error",error:e})}}))}async runHooks(e,t){rs.debug({event:"hooks.run",hookName:e,navigation:t}),await this.hooks.get(e).callPromise({navigation:t}),rs.debug({event:"hooks.done",hookName:e,navigation:t})}registerHook(e,t){return this.hooks.get(e).tapPromise(t.name??"hook-"+this.hooksIndex++,(async(a,{navigation:r})=>{try{await t(r)}catch(t){if(rs.warn({event:"hook.error",error:t}),"beforeResolve"===e)throw t}}))}uuid(){return this.currentUuid++}}class os{init(e){}unsubscribe(){}listen(e){this.listener=e}setTree(e){this.tree=e}}const ss=window.history&&window.history.pushState,is=e=>e&&"string"==typeof e.key,cs=(e,t,a=0)=>{const r=(e=>{const{to:t}=e;if(t)return`${t.name}_${t.path}`})(e),n=((e,t)=>{const a={};if(e.replace){const e=t?.navigateState.previousRoute,r=t?.navigateState.previousUrl;return e&&(a.previousRoute=e),r&&(a.previousUrl=r),a}return e.from&&(a.previousRoute=e.from),e.fromUrl&&(a.previousUrl=e.fromUrl),a})(e,t);let{type:o}=e;return e.replace&&t&&(o=t.type===o?o:"navigate"),{key:r,type:o,navigateState:{...n,...e.navigateState},index:a}};class us extends os{constructor(){super(),this.currentIndex=0,this.historyWrapper=(({onNavigate:e})=>{if(!ss){const e=(e,t,a)=>{window.location.href=a.toString()};return window.history.pushState=e,window.history.replaceState=e,{navigate:({path:t})=>e({},"",t),history:()=>{throw new Error("Method not implemented")},init:Qn(),subscribe:()=>Qn()}}let t=window.history;"__originalHistory"in window.history?t=window.history.__originalHistory:window.history.__originalHistory={pushState:t.pushState.bind(window.history),replaceState:t.replaceState.bind(window.history),go:t.go.bind(window.history)};const a=t.pushState.bind(window.history),r=t.replaceState.bind(window.history),n=t.go.bind(window.history),o=e=>{n(e)},s=(t=!1)=>(a,r,n)=>{e({url:n.toString(),replace:t,navigateState:a})};return window.history.pushState=s(!1),window.history.replaceState=s(!0),window.history.go=o,window.history.back=()=>o(-1),window.history.forward=()=>o(1),{navigate:({path:e,replace:t,state:n})=>{t?r(n,"",e):a(n,"",e)},history:o,init:e=>{r(e,"")},subscribe:e=>{const t=({state:t,hasUAVisualTransition:a})=>{e({path:window.location.pathname+window.location.search+window.location.hash,state:t,hasUAVisualTransition:a})};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}}}})({onNavigate:({url:e,replace:t,navigateState:a})=>{this.listener({url:e,replace:t,navigateState:a})}})}init(e){this.currentState=is(window.history?.state)?window.history.state:cs(e),this.currentIndex=this.currentState.index,this.historyWrapper.init(this.currentState),this.historyUnsubscribeCallback=this.historyWrapper.subscribe((async({path:e,state:t,hasUAVisualTransition:a})=>{try{let r,n;const{viewTransition:o,viewTransitionTypes:s}=this.currentState,i=t.index<this.currentState.index;if(is(t)){const{key:e,type:a}=this.currentState,{key:o,type:s}=t;this.currentState=t,n=t.navigateState,r=o!==e||"updateCurrentRoute"!==s&&"updateCurrentRoute"!==a?"navigate":"updateCurrentRoute"}else this.currentIndex=0;await this.listener({type:r,history:!0,url:e,navigateState:n,hasUAVisualTransition:a,viewTransition:o,viewTransitionTypes:s,isBack:i}),this.goPromiseResolve?.()}catch(e){this.goPromiseReject?.(e)}}))}unsubscribe(){this.historyUnsubscribeCallback?.()}save(e){const{replace:t,url:a}=e;t||this.currentIndex++,this.currentState=cs(e,this.currentState,this.currentIndex),this.historyWrapper.navigate({path:a.path,replace:t,state:this.currentState})}go(e,t){if(this.currentIndex<1){if(t?.historyFallback)return this.listener({url:t.historyFallback,type:"navigate",history:!1,replace:t.replace});const e=this.tree?.getHistoryFallback(window.location.pathname);if(e)return this.listener({url:e.actualPath,type:"navigate",history:!1})}this.currentIndex+=e;const a=new Promise(((e,t)=>{this.goPromiseResolve=e,this.goPromiseReject=t}));return this.currentState.viewTransition=t?.viewTransition,this.currentState.viewTransitionTypes=t?.viewTransitionTypes,this.historyWrapper.history(e),a}}class ls extends ns{constructor(e){super(e),this.fullRehydrationInProcess=null,this.history=new us,this.history.listen((async({type:e,url:t,navigateState:a,replace:r,history:n,hasUAVisualTransition:o,...s})=>{const i=this.getCurrentUrl(),{pathname:c,query:u,hash:l}=this.resolveUrl({url:t}),d=(i?i.pathname:window.location.pathname)===c;if("updateCurrentRoute"!==e&&(e||!d)||i)if("updateCurrentRoute"===e||!e&&d){const e=this.tree?.getRoute(c);await this.internalUpdateCurrentRoute({params:e?.params,query:u,hash:l,replace:r,navigateState:a},{history:n})}else await this.internalNavigate({url:t,replace:r,navigateState:a,hasUAVisualTransition:o,...s},{history:n});else r?window.history.__originalHistory.replaceState(a,"",t):window.history.__originalHistory.pushState(a,"",t)}))}async rehydrate(e){this.fullRehydrationInProcess=!e.to,rs.debug({event:"rehydrate",navigation:e});const t=rn(window.location.href);if(this.currentNavigation={...e,type:"navigate",url:t},this.lastNavigation=this.currentNavigation,this.fullRehydrationInProcess){await this.runHooks("beforeResolve",this.currentNavigation);const e=this.resolveRoute({url:t},{wildcard:!0}),a=e?.redirect;if(this.currentNavigation.to=e,a)return this.redirect(this.currentNavigation,ts(a))}await this.runGuards(this.currentNavigation),this.history.init(this.currentNavigation),this.fullRehydrationInProcess&&this.runSyncHooks("change",this.currentNavigation),this.currentNavigation=null,this.fullRehydrationInProcess||this.addRoute({name:e.to.name,path:e.to.path,config:e.to.config,alias:t.pathname}),this.fullRehydrationInProcess=null}resolveRoute(...e){const{url:t}=e[0];if(!t||es(t))return super.resolveRoute(...e)}async notfound(e){await super.notfound(e);const t=e.fromUrl?.href??window.location.href,a=e.url.href;if(e.from&&!e.to||t!==a)e.replace?window.location.replace(a):window.location.assign(a);else if(this.onBlock)return void await this.blockHook.callPromise({navigation:e});return new Promise((()=>{}))}async block(e){return this.notfound(e)}async redirect(e,t){return await super.redirect(e,t),this.fullRehydrationInProcess?(window.location.replace(t.url),new Promise((()=>{}))):this.internalNavigate({...t,replace:t.replace||e.replace},{redirect:!0})}unsubscribe(){this.history.unsubscribe()}}const ds=e=>e.href.replace(/#.*$/,""),ps=(0,Rt.y)("SET_CURRENT_ROUTE"),hs=(0,Rt.y)("SET_URL_ON_REHYDRATE"),fs=(0,Mt.L)("router",{currentRoute:null,previousRoute:null,currentUrl:null,previousUrl:null}).on(ps,((e,{to:t,from:a,url:r,fromUrl:n,replace:o})=>({currentRoute:t,previousRoute:o?e.previousRoute:a,currentUrl:r,previousUrl:o?e.previousUrl:n}))).on(hs,((e,t)=>({...e,currentUrl:t}))),ms=(0,u.V3)("router routerClassToken"),gs=(0,u.V3)("router additionalParameters"),vs=(0,u.V3)("router onChangeHooks",{multi:!0}),ys=(0,u.V3)("router beforeResolveHooks",{multi:!0}),bs=(0,u.V3)("router beforeNavigateHooks",{multi:!0}),_s=(0,u.V3)("router afterNavigateHooks",{multi:!0}),Es=(0,u.V3)("router beforeUpdateCurrentHooks",{multi:!0}),Ss=(0,u.V3)("router afterUpdateCurrentHooks",{multi:!0}),ws=(0,u.V3)("router finalRouteTransform"),ks=(0,u.V3)("router viewTransitionsEnabled"),Os=[(0,c.J)({provide:Pt.sU,multi:!0,useFactory:({bundleManager:e,logger:t,responseManager:a,pageRegistry:r})=>{const n=t("route:load-bundles");return async({to:t})=>{n.debug({event:"load-bundle",route:t});const{bundle:o,pageComponent:s}=t.config;if(!e.has(o,s))return n.info({event:"load-bundle-not-found",bundle:o,pageComponent:s}),a.setStatus(404),!1;try{await r.resolve(t)}catch(e){return n.error({event:"load-bundle-failed",error:e}),!1}}},deps:{logger:k.Fp,bundleManager:Ya,responseManager:pn,pageRegistry:Pt._Q}}),(0,c.J)({provide:Pt.sU,multi:!0,useFactory:({responseManager:e,logger:t})=>{const a=t("route:guard-check-error");return async()=>{if(e.getStatus()>=500)return a.error({event:"status-is-error",status:e.getStatus()}),!1}},deps:{logger:k.Fp,responseManager:pn}})],Ts=[{provide:vs,multi:!0,useFactory:({context:e})=>t=>{e.dispatch(ps(t))},deps:{context:Sa.l}}],Cs=(0,u.V3)("RENDER_SLOTS",{multi:!0}),Rs=(0,u.V3)("RENDERER_CALLBACK",{multi:!0}),Ms=(0,u.V3)("CUSTOM_RENDER"),Ns=(0,u.V3)("resourcesRegistry"),xs=(0,u.V3)("POLYFILL_CONDITION"),As=(0,u.V3)("RENDER_MODE"),Ps=(0,u.V3)("useReactStrictMode"),Is=(0,u.V3)("EXTEND_RENDER",{multi:!0}),Ls=(0,u.V3)("defaultLayoutComponent",{scope:f.s.SINGLETON}),qs=(0,u.V3)("defaultHeaderComponent",{scope:f.s.SINGLETON}),Ds=(0,u.V3)("defaultFooterComponent",{scope:f.s.SINGLETON}),js=(0,u.V3)("defaultErrorBoundaryComponent"),Fs=(0,u.V3)("layoutOptions",{multi:!0,scope:f.s.SINGLETON}),Us=(f.s.SINGLETON,(0,u.V3)("tramvaiRenderMode")),Vs=(0,u.V3)("reactServerRenderMode");f.s.SINGLETON,f.s.SINGLETON,f.s.SINGLETON;var Bs=a(63609),Hs=a.n(Bs),Ys=a(90130),$s=a(64788),Js=a(70872);const Ks=({router:e,children:t,serverState:a})=>{const r=(0,rr.useMemo)((()=>e.getCurrentRoute()),[e]),n=(0,rr.useMemo)((()=>e.getCurrentUrl()),[e]),o=(0,rr.useCallback)((t=>e.registerSyncHook("change",t)),[e]),s=(0,$s.useSyncExternalStore)(o,(()=>e.getLastRoute?.()??r),a?()=>a.route:()=>e.getLastRoute?.()??r),i=(0,$s.useSyncExternalStore)(o,(()=>e.getLastUrl?.()??n),a?()=>a.url:()=>e.getLastUrl?.()??n);return(0,Ys.jsx)(Js._q.Provider,{value:e,children:(0,Ys.jsx)(Js.Xn.Provider,{value:s,children:(0,Ys.jsx)(Js.qs.Provider,{value:i,children:t})})})};Ks.displayName="TinkoffRouterProvider";const zs=Ks;var Gs=a(42282),Xs=a.n(Gs);const Ws=[(0,c.J)({provide:ws,useFactory:({transformers:e})=>e&&0!==e.length?_n()(...$r()(e)):Za(),deps:{transformers:{token:Pt.S3,optional:!0}}}),(0,c.J)({provide:Pt.S3,multi:!0,useValue:e=>{const t={bundle:"mainDefault",pageComponent:"pageDefault",...e.config};return{...e,config:t}}}),(0,c.J)({provide:Pt.S3,multi:!0,useValue:e=>({...e,path:Hs()(/\/?$/,"/",e.path)})}),(0,c.J)({provide:Is,multi:!0,useFactory:({router:e})=>{const t={route:e.getCurrentRoute(),url:e.getCurrentUrl()};return a=>(0,Ys.jsx)(zs,{router:e,serverState:t,children:a})},deps:{router:Pt.l1}}),(0,c.J)({provide:Pt.Y9,useClass:class{constructor({router:e,componentRegistry:t}){this.router=e,this.componentRegistry=t}getCurrentRoute(){return this.router.getCurrentRoute()}getCurrentUrl(){return this.router.getCurrentUrl()}getConfig(e=this.getCurrentRoute()){return e?.config??{}}getContent(e){return this.getConfig(e).content??{}}getMeta(e){return this.getConfig(e).meta??{}}navigate(e){return this.router.navigate(e)}updateCurrentRoute(e){return this.router.updateCurrentRoute(e)}back(e){return this.router.back(e)}forward(){return this.router.forward()}go(e,t){return this.router.go(e,t)}addComponent(e,t,a){const r=this.getComponentsGroupName(a);return this.componentRegistry.add(e,t,r)}getComponent(e,t){const a=this.getComponentsGroupName(t);return this.componentRegistry.get(e,a)}resolveComponentFromConfig(e,t){const a=`${e}Component`,r=`${e}Default`,n=this.getConfig(t)[a]??r;return this.getComponent(n,t)||this.getComponent(r,t)}getComponentsGroupName(e){const{bundle:t,pageComponent:a}=this.getConfig(e);return Ir(a)?a:t}},deps:{router:Pt.l1,componentRegistry:Ha}}),(0,c.J)({provide:Pt._Q,useClass:class{constructor({bundleManager:e,pageService:t,componentRegistry:a,actionRegistry:r,dispatcher:n,dispatcherContext:o}){this.bundleManager=e,this.pageService=t,this.componentRegistry=a,this.actionRegistry=r,this.dispatcher=n,this.dispatcherContext=o}async resolve(e){const{bundle:t,pageComponent:a}=this.pageService.getConfig(e),r=this.pageService.resolveComponentFromConfig("nestedLayout",e),n=await this.bundleManager.get(t,a);await this.registerComponent(t,n);const o=n.components?.[a],s=[];o&&s.push(this.registerComponent(a,o)),r&&s.push(this.registerComponent(a,this.pageService.resolveComponentFromConfig("nestedLayout"))),await Promise.all(s)}async registerComponent(e,t){"load"in t&&await(async e=>{if(e){if("load"in e&&"function"==typeof e.load){const t=await e.load();let a;return a=t.__esModule?t.default:t.default||t,ar()(e,a),a}return e}})(t),"components"in t&&Jo()(t.components)&&Jt()(((t,a)=>{this.componentRegistry.add(a,t,e)}),t.components),"actions"in t&&Xs()(t.actions)&&this.actionRegistry.add(e,t.actions),"reducers"in t&&Xs()(t.reducers)&&t.reducers.forEach((e=>{this.dispatcher.registerStore(e),this.dispatcherContext.getStore(e)}))}},deps:{bundleManager:Ya,pageService:Pt.Y9,componentRegistry:Ha,actionRegistry:On,dispatcher:L.qb,dispatcherContext:L.jm}})],Qs=[(0,c.J)({provide:Pt.Dk,multi:!0,useFactory:({logger:e})=>{const t=e("file-system-pages:route"),a=Object.keys(Tr).map(Fr),r=(()=>{const e=Pr();return Object.keys(e).map((e=>({name:e,path:jr(e),config:{pageComponent:e}})))})();return t.debug({event:"create static routes from file-system pages",routes:a}),r.concat(a)},deps:{logger:k.Fp}})].filter(Boolean),Zs=[...Os,...Ts,...Ws,...Qs,(0,c.J)({provide:ks,useValue:!1}),(0,c.J)({provide:Pt.l1,useFactory:({RouterClass:e,routes:t,routeTransform:a,routeResolve:r,additionalParameters:n,plugins:o,viewTransitionsEnabled:s})=>{const i=new e({...n,trailingSlash:!0,mergeSlashes:!0,enableViewTransitions:!1,routes:$r()(t??[]).map(a),plugins:o});return r&&i.registerHook("beforeResolve",(async e=>{const t=i.resolve(e.url.href);if(!t||t.config?.forceRouteResolve){const t=await r(e);t&&i.addRoute(a(t))}})),i},deps:{RouterClass:ms,additionalParameters:{token:gs,optional:!0},routes:{token:Pt.Dk,optional:!0},routeTransform:ws,routeResolve:{token:Pt.TL,optional:!0},plugins:(0,u.jt)(Pt.Ix),viewTransitionsEnabled:ks}}),(0,c.J)({provide:P.customerStart,multi:!0,useFactory:({router:e,guards:t,onChange:a,beforeResolve:r,beforeNavigate:n,afterNavigate:o,beforeUpdateCurrent:s,afterUpdateCurrent:i})=>function(){$r()(t??[]).forEach((t=>e.registerGuard(t))),$r()(a??[]).forEach((t=>e.registerSyncHook("change",t))),$r()(r??[]).forEach((t=>e.registerHook("beforeResolve",t))),$r()(n??[]).forEach((t=>e.registerHook("beforeNavigate",t))),$r()(o??[]).forEach((t=>e.registerHook("afterNavigate",t))),$r()(s??[]).forEach((t=>e.registerHook("beforeUpdateCurrent",t))),$r()(i??[]).forEach((t=>e.registerHook("afterUpdateCurrent",t)))},deps:{router:Pt.l1,guards:{token:Pt.sU,optional:!0},onChange:{token:vs,optional:!0},beforeResolve:{token:ys,optional:!0},beforeNavigate:{token:bs,optional:!0},afterNavigate:{token:_s,optional:!0},beforeUpdateCurrent:{token:Es,optional:!0},afterUpdateCurrent:{token:Ss,optional:!0}}}),(0,c.J)({provide:P.init,multi:!0,useFactory:({logger:e})=>function(){var t;t=e("route:router"),rs=t},deps:{logger:k.Fp}}),(0,c.J)({provide:Pt.$d,useValue:"after"}),(0,c.J)({provide:L.Ym,multi:!0,useValue:fs})];class ei extends Error{constructor({message:e="Block Error",...t}){super(e),this.name=ei.errorName,Object.assign(this,t)}}ei.errorName="BlockError";const ti=(0,Rt.y)("setPageError"),ai=(0,Mt.L)("pageError",null).on(ti,((e,t)=>t&&function(e){return{...e,message:e.message,stack:e.stack}}(t)));var ri=a(75633);const ni=(0,u.V3)(),oi=(0,u.V3)(),si=[(0,c.J)({provide:ni,useValue:new Set}),(0,c.J)({provide:oi,useFactory:()=>{const e=(0,ri.R)();let t=Promise.resolve();return{add:a=>(t=t.then((()=>new Promise(((t,r)=>{e((()=>{a().then(t).catch(r)}))})))),t)}}}),(0,c.J)({provide:Pt.fw,useFactory:({router:e,routeTransform:t,routeResolve:a,logger:r,prefetchedLinksCache:n,prefetchedLinksQueue:o,pageRegistry:s,prefetchHandlers:i})=>{const c=r("link-prefetch-manager");return{prefetch:r=>o.add((()=>(async r=>{if(n.has(r))return;n.add(r),c.info({event:"prefetch-route-init",url:r});let o=e.resolve(r);if(!o&&a){const n=rn(r);o=await a({url:n,type:"navigate"}),o&&(o=t(o),e.addRoute(o))}if(o)try{await s.resolve(o),await Promise.all(i.map((e=>e(o)))),c.info({event:"prefetch-route-success",url:r})}catch(e){c.warn({event:"prefetch-fail",url:r,error:e})}else c.info({event:"prefetch-route-not-found",url:r})})(r)))}},deps:{router:Pt.l1,routeTransform:ws,routeResolve:(0,u.jt)(Pt.TL),logger:k.Fp,prefetchedLinksCache:ni,prefetchedLinksQueue:oi,pageRegistry:Pt._Q,prefetchHandlers:(0,u.jt)(Pt.Dv)}})],ii=[...si,{provide:gs,useFactory:({store:e})=>({onBlock:async t=>{let a=new ei({message:`Url ${t.to?.actualPath} is blocked`,prevUrl:t.fromUrl?.href??window.location.href,nextUrl:t.url.href});var r;(r=a).isSilent=!0,a=r,e.dispatch(ti(a))}}),deps:{store:L.kR}}];var ci=a(44418);const ui=e=>{if((0,ci.XD)(e)||(0,ci.h9)(e))return!0},li=[...ii,...Zs,(0,c.J)({provide:P.customerStart,multi:!0,useFactory:({router:e,store:t,envManager:a})=>async function(){if("true"===a.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"))return e.rehydrate({});const r=t.getState(fs).currentRoute;return e.rehydrate({to:r})},deps:{router:Pt.l1,store:L.kR,envManager:O.vC}}),(0,c.J)({provide:P.clear,multi:!0,useFactory:({router:e,store:t})=>function(){return t.getState().router.currentUrl.href!==window.location.href&&t.dispatch(hs(e.getCurrentUrl())),e.start()},deps:{router:Pt.l1,store:L.kR}}),(0,c.J)({provide:P.clear,multi:!0,useFactory:e=>(e=>function(){const t=(({store:e,router:t,actionRegistry:a,actionPageRunner:r})=>{const n=t.getCurrentRoute(),{config:{bundle:o,pageComponent:s}={}}=n;if(!o||!s)throw new Error(`bundle and pageComponent should be defined, but got ${n}`);return Vn()([...a.getGlobal()||[],...a.get(o)||[],...a.get(s)||[]])})(e);return e.actionPageRunner.runActions(t,ui).catch((t=>{if((0,ci.h9)(t))return e.router.navigate({url:t.nextUrl,replace:!0,code:t.httpStatus});throw t.error||t}))})(e),deps:{store:L.kR,router:Pt.l1,actionRegistry:On,actionPageRunner:Rn}})],di=(0,n.J)({name:"NoSpaRouterModule",providers:[...li,(0,c.J)({provide:ms,useValue:class extends ls{run(e){const{type:t,fromUrl:a,url:r}=e;return"updateCurrentRoute"===t||ds(r)===ds(a)?super.run(e):this.notfound(e)}async runHooks(){}}}),(0,c.J)({provide:Pt.aP,useValue:"no-spa"})],extend:{forRoot:(e,t={})=>[{provide:Pt.Dk,multi:!0,useValue:e},t.spaActionsMode&&{provide:Pt.$d,useValue:t.spaActionsMode}].filter(Boolean)}}),pi=(0,u.V3)("router appIdResolve"),hi=(0,u.V3)("router allAppsIdsResolve"),fi=(0,u.V3)("router domainResolve"),mi=(0,u.V3)("router routeResolveExtend",{multi:!0}),gi=(0,u.V3)("router configMigration",{multi:!0}),vi=(0,u.V3)("router fallback"),yi=(0,u.V3)("router criticalRoutesList",{multi:!0});var bi=a(96980);const _i=/Minified React error #(\d+);/;let Ei,Si;try{Ei=a(64054).a,Si=a(44121).startTransition}catch{}const wi=({children:e,callback:t})=>((0,bi.L)(t,[]),e),ki=(0,u.V3)("reactErrorBoundaryHandlers",{multi:!0}),Oi=(0,u.V3)("errorBoundaryFallbackComponent"),Ti=()=>(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{style:{textAlign:"center",marginBottom:11,paddingTop:26,fontSize:30,lineHeight:"36px",fontWeight:200},children:"An error occurred :("}),(0,Ys.jsxs)("div",{style:{textAlign:"center",marginBottom:17,color:"#9299a2",fontSize:20,lineHeight:"24px"},children:["Try"," ",(0,Ys.jsx)("a",{href:"",onClick:()=>window.location.reload(),children:"reloading the page"})]})]});Ti.displayName="FallbackError";class Ci extends rr.Component{constructor(e){super(e),this.state={error:e.error||null,url:e.url}}static getDerivedStateFromProps(e,t){return void 0===e.url?{error:e.error||t.error}:e.url!==t.url?{error:e.error||null,url:e.url}:{error:e.error||t.error,url:t.url}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const{errorHandlers:a}=this.props;a&&a.forEach((a=>{a(e,t)}))}render(){const{children:e,fallback:t,fallbackFromDi:a}=this.props,{url:r,error:n}=this.state;return n?t?(0,Ys.jsx)(t,{url:r,error:n}):a||(0,Ys.jsx)(Ti,{}):e}}Ci.displayName="UniversalErrorBoundary";var Ri=a(90794);const Mi=({context:e,children:t,serverState:a})=>(0,Ys.jsx)(Ri.h.Provider,{value:e,children:(0,Ys.jsx)(Ri.N.Provider,{value:a,children:t})});var Ni=a(43158),xi=a(44488);const Ai=()=>((0,rr.useContext)(Js.Xn),(0,xi.x)(Pt.Y9));var Pi=a(81935),Ii=a(16615);function Li(e){const t=(0,Ii.x)(),a=(0,rr.useContext)(Ri.N),r=(0,rr.useRef)(e),n=(0,rr.useRef)(null);t.hasStore(e)||(t.registerStore(e),n.current=e.storeName);const o=(0,rr.useCallback)((a=>{const o=t.subscribe(e,a);return r.current=e,()=>{o(),n.current&&(t.unregisterStore(r.current),n.current=null)}}),[e,t]);return(0,$s.useSyncExternalStore)(o,(()=>t.getState(e)),a?()=>a[e.storeName]:()=>t.getState(e))}const qi=e=>{const{children:t}=e,a=(0,xi.x)(Pt.Y9),r=(0,Pi.w)(),n=Li(ai),o=(0,rr.useMemo)((()=>n&&function(e){const t=new Error(e.message);return Object.assign(t,e),t}(n)),[n]),s=(0,xi.x)({token:ki,optional:!0}),i=(0,xi.x)({token:Oi,optional:!0}),c=a.resolveComponentFromConfig("errorBoundary");return(0,Ys.jsx)(Ci,{url:r,error:o,errorHandlers:s,fallback:c,fallbackFromDi:i,children:t})},Di=({children:e})=>{const t=Ai(),a=t.resolveComponentFromConfig("layout"),r=t.resolveComponentFromConfig("header"),n=t.resolveComponentFromConfig("footer");return(0,rr.useMemo)((()=>(0,Ys.jsx)(a,{Header:r,Footer:n,children:e})),[a,r,n,e])},ji=({children:e})=>{const t=Ai().resolveComponentFromConfig("nestedLayout");return(0,rr.useMemo)((()=>(0,Ys.jsx)(t,{children:e})),[t,e])},Fi=()=>{const e=Ai(),{pageComponent:t}=e.getConfig();let a=e.getComponent(t);return a||(a=()=>{throw new Error(`Page component '${t}' not found`)}),(0,rr.useMemo)((()=>(0,Ys.jsx)(qi,{children:(0,Ys.jsx)(a,{})})),[a])},Ui=()=>{const e=(0,rr.useMemo)((()=>(0,Ys.jsx)(Fi,{})),[]),t=(0,rr.useMemo)((()=>(0,Ys.jsx)(ji,{children:e})),[e]);return(0,Ys.jsx)(Di,{children:t})},Vi=({extendRender:e,di:t,consumerContext:a})=>{let r=function({di:e},t){const a=e.get({token:L.E6,optional:!0});return(0,Ys.jsx)(Mi,{context:t,serverState:a?.stores,children:(0,Ys.jsx)(Ni.n.Provider,{value:e,children:(0,Ys.jsx)(Ui,{})})})}({di:t},a);return e&&Qr()((e=>{r=e(r)}),e),r},Bi=({extendRender:e,useStrictMode:t,di:a,consumerContext:r})=>{let n=Vi({di:a,consumerContext:r,extendRender:e});return t&&(n=(0,rr.createElement)(rr.StrictMode,null,n)),n},Hi=({defaultErrorBoundary:e,di:t,consumerContext:a,extendRender:r,customRender:n,useStrictMode:o})=>{const s={di:t,consumerContext:a,extendRender:r,customRender:n,useStrictMode:o},i=t.get({token:ki,optional:!0}),c=t.get({token:Oi,optional:!0});return(0,Ys.jsx)(Ci,{fallback:e,errorHandlers:i,fallbackFromDi:c,children:(0,Ys.jsx)(Bi,{...s})})};const Yi=e=>Array.isArray(e)?e:[e],$i=(e,t)=>Yi(t??[]).reduce(((e,t)=>t(e)),e),Ji=({children:e})=>e,Ki=({children:e,...t})=>e(t),zi=({children:e})=>e;let Gi=class{};Gi=(0,Qt.__decorate)([(0,s.Y)({providers:[{provide:Ls,scope:f.s.SINGLETON,useFactory:({layoutOptions:e})=>{var t;return(({components:e={},wrappers:t={}}={})=>{const{header:a=Ki,footer:r=Ki,layout:n=Ji,content:o=Ji,page:s=Ji,...i}=e,c=$i(n,t.layout),u=$i(o,t.content),l=$i(s,t.page),d=$i(a,t.header),p=$i(r,t.footer),h=Object.keys(i).map((e=>({name:e,Component:$i(i[e],t[e])}))),f=({children:e,Header:t,Footer:a})=>(0,Ys.jsxs)(c,{children:[h.map((({Component:e,name:t})=>(0,Ys.jsx)(e,{},t))),(0,Ys.jsxs)(u,{children:[t?(0,Ys.jsx)(d,{children:e=>(0,Ys.jsx)(t,{...e})}):null,(0,Ys.jsx)(l,{children:e}),a?(0,Ys.jsx)(p,{children:e=>(0,Ys.jsx)(a,{...e})}):null]})]});return f.displayName="Layout",f})((t=e,$r()(t??[]).reduce(((e,t)=>{const{components:a,wrappers:r}=e;return t.components&&Object.assign(a,t.components),t.wrappers&&Object.keys(t.wrappers).forEach((e=>{r[e]||(r[e]=[]),r[e].push(...Yi(t.wrappers[e]))})),e}),{components:{},wrappers:{}})))},deps:{layoutOptions:{token:Fs,optional:!0}}},{provide:"componentDefaultList",scope:f.s.SINGLETON,multi:!0,useFactory:e=>({...e,nestedLayoutDefault:zi}),deps:{layoutDefault:Ls,footerDefault:{token:Ds,optional:!0},headerDefault:{token:qs,optional:!0},errorBoundaryDefault:{token:js,optional:!0}}}]})],Gi);const Xi=[(0,c.J)({provide:L.Ym,multi:!0,useValue:ai}),(0,c.J)({provide:Us,useValue:"ssr"})];var Wi;let Qi=Wi=class{static forRoot({mode:e,useStrictMode:t}){const a=[];return"string"!=typeof e&&"boolean"!=typeof t||a.push({provide:Ps,useValue:t??"strict"===e}),{mainModule:Wi,providers:a}}};var Zi;Qi=Wi=(0,Qt.__decorate)([(0,s.Y)({imports:[Gi],providers:[...Xi,(0,c.J)({provide:ys,multi:!0,useFactory:({store:e})=>async()=>{e.getState(ai)&&e.dispatch(ti(null))},deps:{store:L.kR}}),(0,c.J)({provide:Ns,useFactory:({logger:e})=>({getPageResources:()=>[],register:()=>{}}),deps:{logger:k.Fp}}),(0,c.J)({provide:P.generatePage,useFactory:e=>function(){return window.contextExternal=e.consumerContext,function({logger:e,consumerContext:t,customRender:r,extendRender:n,di:o,useStrictMode:s,rendererCallback:i,renderMode:c,defaultErrorBoundary:u}){const l=e("module-render");return new Promise(((e,d)=>{if(r)return r(Vi({extendRender:n,di:o,consumerContext:t}));const p=e=>i?.forEach((t=>{try{t(e)}catch(e){console.error(e)}})),h={element:(0,rr.createElement)(Hi,{defaultErrorBoundary:u,extendRender:n,customRender:r,useStrictMode:s,consumerContext:t,di:o}),container:()=>document.querySelector(".application"),callback:()=>{l.debug("App rendering"),document.querySelector("html").classList.remove("no-js"),p(),e()},log:l,renderMode:c};try{(({element:e,container:t,callback:r,log:n,renderMode:o})=>{if("function"==typeof Ei){const a=(0,rr.createElement)(wi,{callback:r},e);let s=new Map;const i=ka()(50,(()=>{if(0===s.size)return;const[{error:e,errorInfo:t},...a]=Array.from(s.values());s=new Map,n.error({event:"hydrate:recover-after-error",error:e,errorInfo:t,otherErrors:a})})),c=()=>Si((()=>{Ei(t(),a,{onUncaughtError:(e,t)=>{n.error({event:"hydrate:on-uncaught-error",error:e,errorInfo:{componentStack:t.componentStack}})},onCaughtError:(e,t)=>{n.error({event:"hydrate:on-caught-error",error:e,errorInfo:{componentStack:t.componentStack}})},onRecoverableError:(e,t)=>{const a=(e?.message??"").match(_i),r=a?.[1]??e?.message;s.has(r)||("string"==typeof t?.componentStack&&(t.componentStack=t.componentStack.split("\n").slice(0,15).join("\n")),s.set(r,{error:e,errorInfo:t})),i()}})}));return void("streaming"===o?window.__TRAMVAI_DEFERRED_HYDRATION?c():window.__TRAMVAI_DEFERRED_HYDRATION=c:c())}const{hydrate:s}=a(90776);s(e,t(),r)})(h)}catch(e){p(e),d(e)}}))}(e)},deps:{logger:k.Fp,customRender:{token:Ms,optional:!0},extendRender:{token:Is,optional:!0},rendererCallback:{token:Rs,optional:!0},consumerContext:Sa.l,di:ya.Z,useStrictMode:Ps,renderMode:(0,u.jt)(Vs),defaultErrorBoundary:(0,u.jt)(js)},multi:!0}),(0,c.J)({provide:Rs,useFactory:({consumerContext:e})=>()=>{e.di.register({provide:"__TRAMVAI_HYDRATED",useValue:!0})},deps:{consumerContext:Sa.l}}),(0,c.J)({provide:Ps,useFactory:({deprecatedMode:e})=>"strict"===e,deps:{deprecatedMode:As}}),(0,c.J)({provide:As,useValue:"legacy"}),(0,c.J)({provide:Vs,useValue:"sync"})]})],Qi),function(e){e.iconLink="iconLink",e.meta="meta",e.inlineScript="inlineScript",e.script="script",e.asIs="asIs",e.preconnectLink="preconnectLink",e.preloadLink="preloadLink",e.inlineStyle="inlineStyle",e.style="style"}(Zi||(Zi={})),Zi.iconLink,Zi.meta,Zi.inlineScript,Zi.script,Zi.asIs,Zi.preconnectLink,Zi.preloadLink,Zi.inlineStyle,Zi.style;let ec=class{};ec=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],ec),f.s.SINGLETON;const tc=(0,u.V3)("requestsLimiterActivateToken",{scope:f.s.SINGLETON}),ac=(0,u.V3)("requestsLimiterOptionsToken",{scope:f.s.SINGLETON}),rc=(f.s.SINGLETON,(0,u.V3)("metricsModule")),nc=e=>Math.round(e)/1e3,oc=e=>t=>e.test(t),sc=oc(/\.js$/),ic=oc(/\.css$/),cc=oc(/\.(?:svg|png|jpeg|webp|jpg)$/),uc=oc(/\.(?:woff|eot|woff2|ttf)/);var lc;!function(e){e.html="html",e.js="js",e.css="css",e.img="img",e.font="font",e.other="other"}(lc||(lc={}));const dc=(e,t)=>{if(e.getEntriesByType)return e.getEntriesByType(t)},pc=e=>{const t=dc(e,"paint");return t&&t[0]?t[0].startTime:0},hc=(e,t)=>e&&e[t]||0,fc=(e,t)=>({duration:hc(e,"duration")+nc(t.duration),transferSize:hc(e,"transferSize")+t.transferSize,encodedBodySize:hc(e,"encodedBodySize")+t.encodedBodySize});function mc(){let e;try{if(e=window.performance,!e.timing||!e.timing.loadEventEnd)throw 0===e.timing.loadEventEnd&&console.error("Library used at browser initialization page. Reed docs"),new Error("Not implemented timing api")}catch(e){return{}}const{requestStart:t,responseStart:a,responseEnd:r,domComplete:n,loadEventEnd:o,domInteractive:s,navigationStart:i}=e.timing,c=[{key:"connection",start:i,end:t},{key:"backend",start:t,end:a},{key:"pageDownload",start:a,end:r},{key:"first-paint",start:0,end:pc(e)},{key:"domInteractive",start:i,end:s},{key:"domComplete",start:i,end:n},{key:"pageLoadTime",start:i,end:o}],u={};return c.forEach((e=>{const t=nc(e.end-e.start);u[e.key]=t>0||t<2e3?t:void 0})),u.download=(e=>{const t={},a=dc(e,"resource");if(a&&a.length>0){const e={};a.forEach((a=>{const r=(e=>{switch(!0){case ic(e):return lc.css;case sc(e):return lc.js;case cc(e):return lc.img;case uc(e):return lc.font;default:return lc.other}})(a.name.split("?",1)[0]);lc[r]&&(e[r]||(e[r]=0),e[r]++,t[r]=fc(t[r],a),t[r].count=e[r])}))}const r=dc(e,"navigation");return r&&r.length>0&&(t[lc.html]=fc({},r[0])),t})(e),u}class gc{constructor(e){}get(){}inc(){}reset(){}remove(){}labels(){return{inc(){}}}}class vc{constructor(e){}get(){}inc(){}dec(){}set(){}setToCurrentTime(){}reset(){}remove(){}startTimer(e){return e=>0}labels(){return{inc(){},dec(){},set(){},setToCurrentTime(){},startTimer:()=>e=>0}}}class yc{constructor(e){}get(){}observe(){}startTimer(e){return e=>0}reset(){}remove(){}labels(){return{observe(){},startTimer:()=>()=>0}}zero(){}}class bc{constructor(e){}get(){}observe(){}startTimer(){return e=>0}reset(){}labels(e){return{observe(){},startTimer:()=>e=>0}}remove(){}}var _c=a(9056);const Ec=(0,Rt.y)("set instant metrics map"),Sc=(0,Mt.L)("instantMetrics",{instantMetricsMap:{}}).on(Ec,((e,t)=>t)),wc=[{provide:L.Ym,multi:!0,useValue:[Sc]}];let kc=class{};kc=(0,Qt.__decorate)([(0,s.Y)({providers:[...wc,{provide:P.init,scope:f.s.SINGLETON,multi:!0,useFactory({logger:e,papiService:t,context:a}){if(!t)return()=>{};const r=a.getStore("instantMetrics").getState().instantMetricsMap,n=new m.RemoteReporter({requestCount:1,emitLevels:{trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},makeRequest:e=>r[e.event]?t.request({path:`metrics/${e.event}`,method:"post",payload:e.value?{value:e.value}:{}}).then((({payload:e})=>e)):Promise.resolve()});return()=>{e.addReporter(n)}},deps:{papiService:{token:_c.J2,optional:!0},context:Sa.l,logger:k.Fp}}]})],kc);let Oc=class{};Oc=(0,Qt.__decorate)([(0,s.Y)({imports:[kc],providers:[{provide:rc,useFactory:()=>({counter:e=>new gc({...e}),gauge:e=>new vc({...e}),histogram:e=>new yc({...e}),summary:e=>new bc({...e})}),scope:f.s.SINGLETON},{provide:P.init,useFactory:({logger:e,pageService:t})=>()=>{window.addEventListener("load",(()=>{setTimeout((()=>{const a=mc();e({name:"metrics:perf",defaults:{remote:{emitLevels:{info:!0}}}}).info({...a,event:"perf-timings",deviceType:-1!==navigator.userAgent?.indexOf("Mobi")?"mobile":"desktop",urlMask:t.getCurrentRoute()?.path})}),0)}))},multi:!0,deps:{logger:k.Fp,pageService:Pt.Y9}}]})],Oc);const Tc=[{provide:Bt,useFactory:({appInfo:e})=>`/${e.appName}/papi`,deps:{appInfo:h.Qo}},{provide:Ht,useFactory:({appInfo:e})=>`/${e.appName}/private/papi`,deps:{appInfo:h.Qo}}];let Cc=class{};Cc=(0,Qt.__decorate)([(0,s.Y)({providers:[...Tc]})],Cc);let Rc=class{};Rc=(0,Qt.__decorate)([(0,s.Y)({imports:[Oc,Cc,...[!1].filter(Boolean)],providers:[]})],Rc);var Mc=a(13641),Nc=a.n(Mc);function xc(e,t,a){if(a?.replace)return{...e,...t};const r={...e,...t,query:{...e.query,...t.query},headers:{...e.headers,...t.headers},interceptors:[...e.interceptors||[],...t.interceptors||[]]},n=a=>{e[a]&&t[a]&&(r[a]=_n()(t[a],e[a]))};return n("modifyRequest"),n("modifyResponse"),n("modifyError"),r}var Ac,Pc=a(17848),Ic=a.n(Pc),Lc=a(22422),qc=a.n(Lc),Dc=a(46226),jc=a.n(Dc),Fc=a(38507),Uc=a.n(Fc);!function(e){e.INIT="init",e.COMPLETE="complete",e.ERROR="error"}(Ac||(Ac={}));var Vc=Ac;class Bc{constructor(e){this.state={status:Vc.INIT,request:null,response:null,error:null,...e},this.internalMeta={},this.externalMeta={}}getState(){return this.state}setState(e){const t=qc()([this.state],e);t&&(this.state={...this.state,...t})}getInternalMeta(e){return this.getMeta(e,this.internalMeta)}getExternalMeta(e){return this.getMeta(e,this.externalMeta)}updateInternalMeta(e,t){this.internalMeta=this.extendMeta(e,t,this.internalMeta)}updateExternalMeta(e,t){this.externalMeta=this.extendMeta(e,t,this.externalMeta)}getStatus(){return this.state.status}getResponse(){return this.state.response}getRequest(){return this.state.request}getMeta(e,t=this.externalMeta){return e?t[e]:t}extendMeta(e,t,a=this.externalMeta){if(t)return{...a,[e]:{...a[e],...t}}}}const Hc={[Vc.INIT]:Vc.COMPLETE};var Yc=a(28296),$c=a.n(Yc);const Jc="log",Kc=e=>{const t=e.getExternalMeta(Jc),a=Date.now(),r=a-t.start;e.updateExternalMeta(Jc,{end:a,duration:r})},zc=e=>({debug:(...t)=>console.debug(e,...t),error:(...t)=>console.error(e,...t)}),Gc=(e,t)=>!0===t?e:Jo()(e)?!1===t?fo()((()=>"*"),e):fo()(((e,a)=>t.has(a)?e:"*"),e):"*",Xc="cache";var Wc=Xc,Qc="PROTOCOL_HTTP",Zc=(e,t)=>a=>{var r,n,o,s;const i=a.getRequest(),c=null!==(r=$c()("cacheForce",i))&&void 0!==r&&r,u=null!==(n=$c()(`${e}CacheForce`,i))&&void 0!==n?n:c,l=null!==(o=$c()("cache",i))&&void 0!==o?o:t,d=null!==(s=$c()(`${e}Cache`,i))&&void 0!==s?s:l;return a.getStatus()===Vc.INIT&&a.updateExternalMeta(Xc,{forced:c,enabled:l,[`${e}Enabled`]:d,[`${e}Force`]:u}),u?a.getStatus()===Vc.COMPLETE:d},eu=({httpMethod:e="GET",url:t,payload:a,query:r,rawQueryString:n="",additionalCacheKey:o=""})=>e.toLowerCase()+t+JSON.stringify(a||"")+JSON.stringify(r||"")+n+JSON.stringify(o),tu=(e,t=eu)=>{let a=$c()("key",e.getInternalMeta(Xc));return a||(a=t(e.getRequest()),e.updateInternalMeta(Xc,{key:a})),a},au=({shouldExecute:e=!0,getCacheKey:t}={})=>{const a={},r={},n={},o=e=>{const o=e.getState(),s=tu(e,t);if(s&&a[s]){const e=a[s],t=r[s],i=n[s].getInternalMeta();delete a[s],delete r[s],delete n[s],e.forEach(((e,a)=>{i&&Object.keys(i).forEach((e=>{t[a].updateInternalMeta(e,i[e])})),e({status:o.status,response:o.response,error:o.error})}))}};return{shouldExecute:Zc("deduplicate",e),init:(e,o)=>{const s=tu(e,t);if(a[s])return e.updateExternalMeta(Wc,{deduplicated:!0}),a[s].push(o),void r[s].push(e);a[s]=[],r[s]=[],n[s]=e,o()},complete:(e,t)=>{o(e),t()},error:(e,t)=>{o(e),t()}}},ru=a(77367),nu=a.n(ru),ou=nu()({});const su=e=>{const{requestTimeout:t,configTimeout:a}=e;return a||(t?2*t:void 0)},iu=3e5;var cu=({lruOptions:e={max:1e3,ttl:iu},shouldExecute:t=!0,allowStale:r=!1,staleTtl:n=("ttl"in e?e.ttl:iu),staleBackgroundRequestTimeout:o,memoryConstructor:s=(e=>new(a(56868))(e)),getCacheKey:i}={})=>{const c=s({...e,allowStale:!0});return{shouldExecute:Zc("memory",t),init:(e,t,a)=>{const s=tu(e,i);if(c.has(s)){e.updateExternalMeta(Wc,{memoryCache:!0,memoryCacheOutdated:!1});const a=c.get(s);return a.status&&e.updateInternalMeta(Qc,{response:{status:a.status}}),t({status:Vc.COMPLETE,response:a.response})}const u=Uc()("memoryCacheAllowStale",r,e.getRequest())&&c.peek(s);if(u){const r=e.getRequest();return e.updateExternalMeta(Wc,{memoryCache:!0,memoryCacheOutdated:!0}),u.status&&e.updateInternalMeta(Qc,{response:{status:u.status}}),c.set(s,u,{ttl:n}),setTimeout((()=>a({...r,timeout:su({requestTimeout:r.timeout,configTimeout:o}),memoryCacheForce:!0,memoryCacheBackground:!0,signal:void 0,abortPromise:void 0}).catch((()=>{}))),15),t({status:Vc.COMPLETE,response:u.response})}t()},complete:(e,t)=>{var a;const r=tu(e,i),n=$c()("memoryCacheTtl",e.getRequest()),o={response:e.getResponse()},s=e.getInternalMeta(Qc);(null===(a=null==s?void 0:s.response)||void 0===a?void 0:a.status)&&(o.status=s.response.status),c.set(r,o,{ttl:n}),e.updateExternalMeta(Wc,{memoryCacheBackground:$c()("memoryCacheBackground",e.getRequest())}),t()}}},uu=a(8152),lu=a.n(uu);const du="validate";var pu=a(8729),hu=a.n(pu),fu=a(60694),mu=a.n(fu);const gu=(e,t="")=>{const a=new URLSearchParams(t),r=(e,t=[])=>{Jt()(((e,n)=>{if(Nc()(e))return;const o=t.length?[...t,n]:[n];Jo()(e)?r(e,o):a.set(mu()(((e,t,a)=>a?`${e}[${t}]`:t),"",o),e)}),e)};return r(e),a.toString()};var vu=a(94905),yu=a.n(vu),bu=a(18542),_u=a.n(bu),Eu=a(12519),Su=a.n(Eu);const wu="PROTOCOL_HTTP",ku={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",PATCH:"PATCH"},Ou={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded","multipart/form-data":""},Tu=e=>{const t=e.getInternalMeta(wu);return t&&t.response},Cu=e=>{const t=(e=>$c()("headers",Tu(e)))(e),a={};return t&&t.forEach(((e,t)=>{a[t]="set-cookie"===t?[]:e})),a},Ru=e=>$c()("status",Tu(e)),Mu=e=>"ERR_HTTP_ERROR"===e.code,Nu=e=>(e=>"ERR_HTTP_REQUEST_TIMEOUT"===e.code)(e)||Mu(e)&&!e.status,xu=e=>Mu(e)&&e.status>=500,Au="undefined"!=typeof self?self:window;class Pu extends Error{constructor(){super(...arguments),this.code="ERR_HTTP_REQUEST_TIMEOUT",this.message="Request timed out"}}class Iu extends Error{constructor(){super(...arguments),this.code="ABORT_ERR"}}var Lu=nu()({});const qu="retry";function Du(e){const{logger:t,name:a,disableCache:r,enableCircuitBreaker:n,createCache:o,cacheTime:s=3e4,defaultTimeout:i,validator:c,errorValidator:u,errorModificator:l,circuitBreakerOptions:d={},getCacheKey:p,lruOptions:h={max:1e3,maxAge:s},allowStale:f=!0,agent:m,querySerializer:g,retryOptions:v,etagCacheOptions:y,interceptors:b,..._}=e,E=(t&&t(`${a}:initialization`),e=>"function"==typeof o?t=>o({name:`http-client${e?`-${e}`:""}-${a}`,...t}):void 0),S=[];S.push({init:(e,t)=>{t({request:{timeout:i,...e.getRequest()}})}}),S.push((({baseUrl:e="",transform:t=(({baseUrl:e,url:t})=>`${e}${t}`)}={})=>({init:(a,r)=>{const n=a.getRequest();r({request:{...n,url:t({...n,baseUrl:n.baseUrl||e})}})}}))({baseUrl:_.baseUrl,transform:({baseUrl:e,path:t,url:a})=>{if(a)return a;if(e&&t){const a=!("/"===e.slice(-1));return"/"===t.slice(0,1)&&(t=t.substring(1)),`${e}${a?"/":""}${t}`}return e||t||""}})),S.push((({name:e="",logger:t=zc,showQueryFields:a=!1,showPayloadFields:r=!1})=>{const n=t(`request.${e}`),o=({url:e,query:t,payload:n,showQueryFields:o,showPayloadFields:s})=>{const i=null!=o?o:a,c=null!=s?s:r;return{url:e,query:t&&Gc(t,Xs()(i)?new Set(i):i),payload:n&&Gc(n,Xs()(c)?new Set(c):c)}};return{init:(e,t)=>{const a=e.getRequest(),r=Date.now();$c()("silent",a)||n.debug({event:"init",info:o(a)}),e.updateExternalMeta(Jc,{start:r}),t()},complete:(e,t)=>{Kc(e);const a=e.getRequest();$c()("silent",a)||n.debug({event:"complete",info:o(a),meta:e.getExternalMeta()}),t()},error:(e,t)=>{const a=e.getRequest(),r=$c()("silent",a);Kc(e),r||n.error({event:"error",info:o(a),error:e.getState().error,meta:e.getExternalMeta()}),t()}}})({logger:t,name:a,showQueryFields:!0,showPayloadFields:!0})),S.push(cu({shouldExecute:!r,lruOptions:h,allowStale:f,getCacheKey:p,memoryConstructor:E()})),S.push(au({shouldExecute:!r,getCacheKey:p})),n&&S.push(Lu({isSystemError:Ic()(xu,Nu),...d})),S.push({error:(e,t)=>{const a=e.getState(),r=l?.(a);return r?t({error:r}):t()}}),v&&S.push((({retry:e=0,retryDelay:t=100,maxTimeout:a=6e4}={})=>({init:(e,t)=>{e.updateInternalMeta(qu,{startTime:Date.now()}),t()},error:(r,n,o)=>{var s,i;const c=r.getRequest(),u=c.timeout||a,l=null!==(s=c.retry)&&void 0!==s?s:e,d=null!==(i=c.retryDelay)&&void 0!==i?i:t,{startTime:p}=r.getInternalMeta(qu);let h=0;const f=()=>{h<l?setTimeout((()=>{const e=Date.now()-p;if(e>=u)return r.updateExternalMeta(qu,{attempts:h,timeout:!0}),n();o({...c,retry:0,timeout:u-e,silent:!0,retryDelay:void 0,cache:!1}).then((e=>(r.updateExternalMeta(qu,{attempts:h+1}),n({status:Vc.COMPLETE,response:e}))),(()=>{h++,f()}))}),qc()([h],d)):(l>0&&r.updateExternalMeta(qu,{attempts:h,timeout:!1}),n())};f()}}))(v)),(c||u)&&S.push((({validator:e=lu(),allowFallback:t=!0,errorValidator:a=lu()}={})=>({complete:(a,r)=>{const n=a.getState(),{request:o}=n,s=e(n);return a.updateExternalMeta(du,{validated:!s}),s?r({error:s,request:t?o:{...o,fallbackCache:!1},status:Vc.ERROR}):r()},error:(e,t)=>{const r=e.getState(),n=a(r);return e.updateExternalMeta(du,{errorValidated:!!n}),n?(e.updateExternalMeta(du,{error:r.error}),t({error:null,status:Vc.COMPLETE})):t()}}))({validator:c,errorValidator:u,allowFallback:!0})),y?.enabled&&S.push(ou({shouldExecute:!r,getCacheKey:p,memoryConstructor:E("etag"),lruOptions:y?.lruOptions||{max:1e3,ttl:6e5}})),S.push((({agent:e,querySerializer:t}={})=>({init:(e,a)=>{const{httpMethod:r=ku.GET,url:n,query:o,queryNoCache:s,headers:i,type:c="form",payload:u,attaches:l=[],timeout:d,credentials:p,withCredentials:h,abortPromise:f,responseType:m,signal:g}=e.getRequest();let v=!1;const y=r.toUpperCase(),b=y===ku.GET||y===ku.HEAD;let _,E,S,w,k,O;if(l.length)_=((e,t=[])=>{const a=new(Su()),r=(e,t)=>{if(Xs()(e))return Qr()((e=>r(e,t)),e);Nc()(e)||a.append(t,e)};return Jt()(r,e),t.forEach((e=>{if(!(e instanceof window.Blob))return;const t=e.uploadName||e.name,r=e.fieldName||"file";a.append(r,e,encodeURIComponent(t))})),a})(u,l),E=_.getHeaders&&_.getHeaders();else{const e=Uc()(c,c,Ou);E=e?{"Content-type":e}:{},b||(_=((e,t,a=gu)=>{switch(e){case"form":case"urlencoded":case"form-data":return a(t);case"json":return JSON.stringify(t);default:return t}})(c,u,t))}if(hu()){const t=new(hu());w=t.signal;const r=e=>{v||(v=!0,t.abort(),a({status:Vc.ERROR,error:e instanceof Error?e:Object.assign(new Iu,{abortOptions:e||{}})}))};f&&f.then(r),d&&(S=setTimeout((()=>{r(new Pu)}),d)),e.updateInternalMeta(wu,{requestAbort:r}),g&&(g.aborted?r():g.addEventListener("abort",(()=>{r()})))}else d&&(S=setTimeout((()=>{a({status:Vc.ERROR,error:new Pu}),v=!0}),d));((...e)=>Au.fetch(...e))(((e,t,a=gu)=>{const[r,n]=e.split("?",2),o=a(t,n);return o?`${r}?${o}`:r})(n,{...b?u:{},...s,...o},t),{signal:w,method:y,headers:{...E,...i},agent:void 0,credentials:null!=p?p:h?"include":"same-origin",body:_,timeout:d}).then((t=>(k=t,e.updateInternalMeta(wu,{response:k}),k[m]?k[m]():(e=>{const t=yu()(e.headers.get("content-type")||"");return _u()("application/json",t)?e.json():_u()("application/octet-stream",t)?e.arrayBuffer():e.text()})(k)))).then((e=>{if(!v){if(O=e,!k.ok)throw new Error(k.statusText);a({status:Vc.COMPLETE,response:O})}})).catch((e=>{if(!v){if(e&&"string"==typeof e.type&&/timeout/.test(e.type))return a({status:Vc.ERROR,error:new Pu});try{Object.assign(e,{code:"ERR_HTTP_ERROR",status:k&&k.status,body:O})}catch(t){Object.assign(e,{__response:{code:"ERR_HTTP_ERROR",status:k&&k.status,body:O}})}a({status:Vc.ERROR,error:e,response:O})}})).then((()=>{v=!0,S&&clearTimeout(S)}))}}))({agent:m||void 0,querySerializer:g||void 0}));const w=function(e){const t=a=>{let r=-1;const n=e.length,o=new Bc;o.setState({request:a});const s=new Promise(((a,s)=>{const i=e=>{const t=o.getState(),r=t.status,n=Hc[r];return e?c(r,-1):n?(o.setState({status:n}),c(n,-1)):void(r===Vc.COMPLETE?a(t.response):s(Object.assign(t.error||{},{url:t.request.url})))},c=(a,s)=>{const c=o.getState().status,u=l=>{if(o.setState(l),o.getState().status!==c)return i(!0);if(r+=s,r<0||r>=n)return i(!1);const d=e[r],p=d[a];if(!p||!qc()([o],Uc()("shouldExecute",!0,d)))return u();try{p(o,jc()(u),t)}catch(e){return u({status:Vc.ERROR,error:e})}};u()};c(Vc.INIT,1)}));return Object.assign(s,{getState:o.getState.bind(o),getInternalMeta:o.getInternalMeta.bind(o),getExternalMeta:o.getExternalMeta.bind(o)})};return t}(S);return w}class ju{get(e,t,a){return this.request({path:e,...t,...a,method:"GET"})}post(e,t,a){return this.request({path:e,requestType:"json",...t,...a,method:"POST"})}put(e,t,a){return this.request({path:e,requestType:"json",...t,...a,method:"PUT"})}delete(e,t,a){return this.request({path:e,...t,...a,method:"DELETE"})}}class Fu extends ju{constructor({options:e,makeRequest:t}){super(),this._processMakeRequest=async(e,{modifyRequest:t,modifyResponse:a,modifyError:r})=>{const{method:n,body:o,requestType:s,...i}=t?t(e):e;n&&(i.httpMethod=n),o&&(i.payload=o),s&&(i.type=s);const c=this.makeRequest(i);try{const e=await c,t=c.getExternalMeta(),r={payload:e,status:Ru(c),headers:Cu(c)};return Object.defineProperty(r,"__meta",{value:t,enumerable:!1,configurable:!0,writable:!0}),a?a(r):r}catch(e){const t=c.getExternalMeta(),a=Ru(c),n=Cu(c),o=Object.assign(e,{__meta:t,status:a,headers:n});throw r?r(o,i):o}},this.options=e,this.makeRequest=t}request(e){const t=xc(this.options,e),{modifyRequest:a,modifyResponse:r,modifyError:n,interceptors:o,...s}=t;let i=e=>this._processMakeRequest(e,{modifyRequest:a,modifyResponse:r,modifyError:n});return o&&Array.from(o).reverse().forEach((e=>{const t=i;i=a=>e(a,t)})),i(s)}fork(e={},t={}){return new Fu({options:xc(this.options,e,t),makeRequest:this.makeRequest})}}const Uu=e=>e=>e,Vu={defaultTimeout:3e4};class Bu extends ju{constructor(e){super(),this.httpClient=e}request(e){return this.httpClient.request(e)}}const Hu=(0,s.Y)({providers:[(0,c.J)({provide:_c.J2,scope:f.s.SINGLETON,useClass:class extends Bu{constructor({httpClientFactory:e,baseUrl:t}){super(e({name:"papi",baseUrl:t,validator:({response:e})=>{if(!e.resultCode||!e.payload)return e.error||new Error(JSON.stringify(e))},modifyResponse:e=>({...e,payload:$c()("payload",e.payload)})}))}},deps:{httpClientFactory:_c.FB,baseUrl:Bt}})]})(class{}),Yu=(0,u.V3)("httpClient createCache"),$u=(0,s.Y)({imports:[Hu],providers:[(0,c.J)({provide:_c.FB,useFactory:({logger:e,envManager:t,appInfo:a,requestManager:r,headersList:n,createCache:o,makeRequestRegistry:s,agent:i,querySerializer:c,disableCircuitBreaker:u=!1,defaultOptions:l,defaultInterceptors:d,commandLineExecutionContext:p})=>a=>{if(!a.name)throw Error('You need to pass a unique field "name" for the HTTP client instance');const r=t.get("HTTP_CLIENT_CACHE_DISABLED"),n=t.get("HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED"),h={interceptors:d||[]},f=xc(xc({logger:e,agent:i,querySerializer:c,method:"GET",createCache:o?o.bind(null,"memory"):void 0,modifyRequest:_n()(Uu(),(e=>e)),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10},signal:p?.()?.abortSignal,...Vu},l?xc(l,h):h),a);if(f.headers={...f.headers},Nc()(r)||(f.disableCache=!!r),u&&(f.enableCircuitBreaker=!1),Nc()(n)||(f.enableCircuitBreaker=!n),!s.has(f.name)){const e={...f};delete e.signal,s.set(f.name,Du(e))}const m=s.get(f.name);return new Fu({options:f,makeRequest:m})},deps:{logger:k.Fp,envManager:O.vC,appInfo:h.Qo,createCache:Yu,makeRequestRegistry:"makeRequestRegistry",requestManager:{token:oa,optional:!0},headersList:{token:_c.s,optional:!0},agent:{token:_c.zn,optional:!0},disableCircuitBreaker:{token:_c.pW,optional:!0},defaultOptions:{token:_c.FF,optional:!0},defaultInterceptors:{token:_c.Z0,optional:!0},commandLineExecutionContext:{token:Wa,optional:!0}}}),(0,c.J)({provide:_c.bV,useFactory:({factory:e})=>e({name:"http-client",enableCircuitBreaker:!1}),deps:{factory:_c.FB}}),(0,c.J)({provide:O.sQ,useValue:[{key:"HTTP_CLIENT_CACHE_DISABLED",optional:!0,dehydrate:!1},{key:"HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED",optional:!0,dehydrate:!1}]}),(0,c.J)({provide:"makeRequestRegistry",scope:f.s.SINGLETON,useFactory:()=>new Map}),(0,c.J)({provide:Yu,scope:f.s.SINGLETON,useFactory:({createCache:e})=>e,deps:{createCache:Ao}}),(0,c.J)({provide:_c.s,useValue:["x-request-id"]})]})(class{}),Ju=(0,u.V3)("ADMIN_SERVICE"),Ku=(0,u.V3)("ADMIN_RESOURCES_SERVICE"),zu=(0,u.V3)("ADMIN_PAGE_ENRICHMENT_SERVICE"),Gu=(0,u.V3)("INTEGRATION_ADMIN_SERVICE"),Xu=(0,u.V3)("ADMIN_API_HTTP_CLIENT_FACTORY"),Wu=(0,u.V3)("ADMIN_API_DEFAULT_OPTIONS_FACTORY"),Qu=(0,u.V3)("TINKOFF_API_SERVICE"),Zu=(0,u.V3)("COMMON_API_HTTP_CLIENT_FACTORY"),el=(0,u.V3)("COMMON_API_DEFAULT_OPTIONS_FACTORY"),tl=(0,u.V3)("apiOriginService"),al=(0,u.V3)("apiOriginServiceDecorator",{multi:!0});class rl extends Bu{constructor({httpClient:e}){super(e)}async getResources(e,t={}){const{query:a={}}=t,{payload:r}=await this.request({...t,path:"resources",query:{...a,name:e}});return r||{}}}class nl extends Bu{constructor({httpClient:e}){super(e),this.pagesIntegrationApi="pages/api/integration/v1"}buildJsonRpcParams(e,t){return{path:`${this.pagesIntegrationApi}/${e}`,method:"POST",requestType:"json",body:{method:e,params:t,id:"null",jsonrpc:"2.0"}}}getRoutesByDomainAndAppId(e){return this.request(this.buildJsonRpcParams("getRoutesByDomainAndAppId",e))}}class ol{constructor({httpClient:e}){this.httpClient=e}getResponse(e,t){return this.httpClient.request({...t,path:`${ol.pageEnrichmentApi}/getResponse`,query:{...t?.query,...e}})}getPreview(e,t){return this.httpClient.request({...t,path:`${ol.pageEnrichmentApi}/getPreview`,query:{...t?.query,...e}})}}ol.pageEnrichmentApi="web-gateway";var sl=a(60028),il=a.n(sl);const cl={cacheTime:6e5,defaultTimeout:3e4},ul=e=>({...e,payload:e.payload.response||e.payload.result||il()(["error","message"],e.payload)}),ll=e=>({...e,payload:Uc()("value",{},ul(e).payload)}),dl=({request:e})=>e.path?.split("/")[0]??"",pl=(0,s.Y)({providers:[(0,c.J)({provide:O.sQ,scope:f.s.SINGLETON,useFactory:({dehydrateConfigApi:e,dehydrateResourcesApi:t})=>[{key:"CONFIG_API",validator:_([y,b("/")]),dehydrate:null===e||e},{key:"RESOURCES_API",validator:_([y,b("/")]),dehydrate:null===t||t},{key:"INTEGRATION_CONFIG_API",dehydrate:!1,validator:_([y,b("/")])}],deps:{dehydrateConfigApi:{token:"dehydrateConfigApi",optional:!0},dehydrateResourcesApi:{token:"dehydrateResourcesApi",optional:!0}},multi:!0}),(0,c.J)({provide:Ju,useFactory:({factory:e,envManager:t})=>e({baseUrl:t.get("CONFIG_API"),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:()=>!0,getKey:dl}}),deps:{factory:Xu,envManager:O.vC}}),(0,c.J)({provide:Ku,useFactory:({factory:e,envManager:t})=>{const a=e({name:"admin-resources-api",baseUrl:t.get("RESOURCES_API"),modifyResponse:ll});return new rl({httpClient:a})},deps:{factory:Xu,envManager:O.vC}}),(0,c.J)({provide:Gu,useFactory:({factory:e,envManager:t})=>{const a=e({name:"admin-integration-api",baseUrl:t.get("INTEGRATION_CONFIG_API")});return new nl({httpClient:a})},deps:{factory:Xu,envManager:O.vC}}),(0,c.J)({provide:Xu,useFactory:({factory:e,optionsFactory:t})=>a=>e({...t(a),...a}),deps:{factory:_c.FB,optionsFactory:Wu}}),(0,c.J)({provide:Wu,useValue:e=>({...cl,name:"admin-api",validator:({request:e,response:t})=>{if(!t||!t.response&&!t.result)return Jo()(t)?Object.assign(new Error,Jo()(t.error)?t.error:{path:e.path,response:t||null}):new Error(JSON.stringify(t))},errorValidator:({request:e,response:t,error:a})=>(404===a.status||400===a.status)&&!(!t||!t.error),errorModificator:({error:e})=>Object.assign(e,{errorId:"CONFIG_REQUEST_ERROR"}),modifyResponse:ul,enableCircuitBreaker:!0,circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:()=>!0}})}),{provide:zu,useFactory:({httpClient:e})=>new ol({httpClient:e}),deps:{httpClient:{token:Ju,optional:!0}}}]})(class{}),hl=(0,u.V3)("authenticator"),fl=(0,u.V3)("sessionManager"),ml=(0,u.V3)("sessionCookieName"),gl=(0,u.V3)("sessionLifetimeController"),vl=(0,u.V3)("authStrategies",{multi:!0}),yl=(0,u.V3)("authenticatorTimingCallbacks"),bl=(0,u.V3)("logoutRedirectUrl"),_l=(0,u.V3)("onResolveAuthenticate"),El=(0,u.V3)("onAccessDeniedRedirectToken"),Sl=(0,u.V3)("accessDeniedRedirectUrl"),wl=(0,u.V3)("onHasAccessToken"),kl=(0,u.V3)("onLogoutRedirectToken"),Ol=(0,u.V3)("onRouteGuardRedirectToken"),Tl=(0,u.V3)("isClientAuthenticationToken"),Cl=(0,u.V3)("API_AUTH_METHOD_TOKEN");var Rl=a(67826),Ml=a.n(Rl);const Nl=Ml()(["resultCode"],"SESSION_IS_ABSENT"),xl=Ml()(["resultCode"],"INSUFFICIENT_PRIVILEGES");var Al=a(84762),Pl=a.n(Al),Il=a(77125),Ll=a.n(Il);const ql={expired:Nl,notAllowed:xl,confirmation:Pl()([Ml()(["resultCode"],"WAITING_CONFIRMATION"),Ll()("confirmations"),Ll()("confirmationData")])},Dl=Ml()(["resultCode"],"OK"),jl={defaultTimeout:6e4},Fl=e=>({...e,payload:e.payload.payload});var Ul=a(23629),Vl=a.n(Ul);class Bl extends Bu{constructor({httpClient:e,context:t,hooks:a,apiOriginService:r,cookieManager:n,wuid:o,sessionCookieName:s}){super(e),this.context=t,this.hooks=a,this.customizeParams=_n()((e=>e),(e=>t=>{const a=e.getWhen({requestOrigin:t.origin});return{...t,query:{origin:a,...t.query}}})(r),(({cookieManager:e,sessionCookieName:t})=>a=>a.withoutSession?a:{...a,query:{sessionid:e.get(t||"psid"),...a.query}})({cookieManager:n,sessionCookieName:s}),(e=>t=>t.withoutSession||t.withoutWuid?t:{...t,query:{wuid:e,...t.query}})(o))}request(e){const{path:t,confirmHide:a,confirmSSR:r=!1,confirmViewType:n=null,onConfirm:o=Qn()}=e;return this.httpClient.request(this.customizeParams(e)).then((e=>ql.confirmation(e.payload)?this.hooks.runPromiseHooks("confirm",this.context)({viewType:n,onConfirmShowed:o,confirmHide:a,confirmSSR:r,data:e.payload}).then(Vl()("payload")):e)).catch((a=>{switch(!0){case"session_status"!==t&&ql.expired(a.response):return this.hooks.runPromiseHooks("sessionAbsent",this.context)({sessionExpired:!0,useCache:!1});case ql.notAllowed(a.response):return this.hooks.runPromiseHooks("notAllowed",this.context)(void 0).then((()=>{throw new Error("Not Allowed")}));default:return this.hooks.runPromiseHooks("unknown",this.context,e)(a).then((()=>{throw a}))}}))}}const Hl=e=>$c()("tinkoffApiOrigin",e)||il()(["properties","tinkoffApiOrigin"],e),Yl=_n()(Hl,il()(["currentRoute","config"]),("router",e=>e.getState().router));class $l{constructor({context:e,defaultOrigin:t,decorators:a}){this.getRawOrigin=e=>Yl(this.context)||e||this.defaultOrigin,this.getOrigin=e=>{const t=this.getRawOrigin(e);return this.decorators.reduce(((e,t)=>t(e)),t)},this.context=e,this.defaultOrigin=t,this.decorators=a??[]}get(){return this.getOrigin()}getWhen({requestOrigin:e}){return this.getOrigin(e)}}const Jl=(0,s.Y)({providers:[(0,c.J)({provide:O.sQ,useValue:[{key:"TINKOFF_API",validator:_([y,b("/")])}],multi:!0}),(0,c.J)({provide:"defaultOrigin",useValue:"web,ib5,platform"}),(0,c.J)({provide:tl,useFactory:({context:e,defaultOrigin:t,decorators:a})=>new $l({context:e,defaultOrigin:t,decorators:a}),deps:{context:Sa.l,defaultOrigin:"defaultOrigin",decorators:{optional:!0,token:al}}}),(0,c.J)({provide:Qu,useFactory:({factory:e,envManager:t,appInfo:a,context:r,hooks:n,apiOriginService:o,cookieManager:s,wuid:i,sessionCookieName:c})=>{const u=e({name:"tinkoff-api",baseUrl:t.get("TINKOFF_API"),disableCache:!0,query:{appName:a.appName,appVersion:t.get("APP_VERSION")},modifyResponse:e=>ql.confirmation(e.payload)?e:{...e,payload:e.payload.payload}},{isResponseValid:e=>Dl(e)||ql.confirmation(e)});return new Bl({httpClient:u,context:r,hooks:n,apiOriginService:o,cookieManager:s,wuid:i,sessionCookieName:c})},deps:{factory:Zu,envManager:O.vC,appInfo:h.Qo,hooks:Bn,requestManager:oa,context:Sa.l,apiOriginService:tl,cookieManager:na.T,wuid:T.$,sessionCookieName:{token:ml,optional:!0},headersList:{token:_c.s,optional:!0}}}),(0,c.J)({provide:Zu,useFactory:({factory:e,optionsFactory:t})=>(a,r)=>e({...t(a,r),...a}),deps:{factory:_c.FB,optionsFactory:el}}),(0,c.J)({provide:el,useValue:({modifyResponse:e=Fl,disableCache:t},{isResponseValid:a=Dl}={})=>({name:"common-api",validator:({request:e,response:t})=>{if(!a(t))return Jo()(t)?Object.assign(new Error,Jo()(t.error)?t.error:{path:e.path,response:t||null}):new Error(JSON.stringify(t))},errorModificator:({error:e})=>Object.assign(e,{errorId:"COMMON_API_REQUEST_ERROR"}),modifyRequest:e=>{const{query:a={},method:r="GET",serverGetSession:n=!1,roles:o,...s}=e,i={method:r,...s,query:a,additionalCacheKey:a.sessionid+JSON.stringify(o)};if(!t){const{cache:e="POST"!==r,cacheForce:t}=i,a=!0;i.cache=a&&e,i.cacheForce=a&&t}return i},modifyResponse:e,enableCircuitBreaker:!0,...jl})}),(0,c.J)({provide:al,multi:!0,useFactory:({context:e})=>t=>{const a=e.getState()?.session?.isJunior;if(!a)return t;const r=t.split(",");return r.push("junior"),r.filter(Boolean).join(",")},deps:{context:Sa.l}})]})(class{}),Kl=(0,s.Y)({imports:[la],providers:[{provide:_c.s,multi:!0,useValue:["x-b3-traceid","x-b3-spanid","x-b3-parentspanid","x-b3-sampled","x-b3-flags","x-ot-span-context"]}]})(class{}),zl=(0,s.Y)({imports:[],providers:[(0,c.J)({provide:_c.FF,scope:f.s.SINGLETON,useValue:{modifyError:e=>{if(e.originalMessage)return e;const t=e.message,a=(e=>!0===(/network timeout at/i.test(e)||/request timed out/i.test(e))?"Время истекло. Обновите страницу и повторите попытку.":"Что-то пошло не так. Мы уже решаем проблему. Попробуйте снова через несколько минут.")(t);return Object.assign(e,{message:a,originalMessage:t})}}})]})(class{}),Gl=(0,s.Y)({imports:[la,Kl,$u,zl,pl,Jl],providers:[]})(class{}),Xl=[(0,c.J)({provide:ki,useFactory:({logger:e})=>{const t=e("error-interceptor:error-boundary");return function(e,a){t.error({event:"component-did-catch",error:e,info:a})}},deps:{logger:k.Fp},multi:!0})];let Wl=class{};Wl=(0,Qt.__decorate)([(0,s.Y)({providers:[...Xl]})],Wl);class Ql{constructor(){this.state=new Map}eachMeta(e){this.state.forEach(((t,a)=>e(t,a)))}updateStateByPriority(e,t){const a=this.state.get(e);(!a||t.priority>=a.priority)&&this.state.set(e,t)}updateMeta(e,t){return Jt()(((t,a)=>{(t||null===t)&&this.updateStateByPriority(a,{value:t,priority:e})}),t),this}get(e){return this.state.get(e)}reset(){this.state.clear()}getSerializableState(){return Array.from(this.state.entries())}mergeValuesFromSerializableState(e){e.forEach((([e,t])=>{this.updateStateByPriority(e,t)}))}}const Zl=(0,Rt.y)("set application metaWalk state"),ed=(0,Mt.L)("appMeta",{serverMetaWalkState:[]}).on(Zl,((e,t)=>({...e,serverMetaWalkState:t}))),td=e=>Ll()("tag",e)?e:null;class ad{constructor({list:e,transformValue:t=Za(),converters:a={},metaWalk:r}){this.listSources=e,this.transformValue=t,this.converters=a,this.metaWalk=r??new Ql}dataCollection(...e){this.listSources.map((t=>t(this.metaWalk,...e)));let t=[];return this.metaWalk.eachMeta(((e,a)=>{if(null!==e.value){const r=this.transformValue(e),n=(this.converters[a]||td)(r.value);n&&(t=t.concat(Xs()(n)?n.filter(Za()):n))}})),t}}const rd="data-meta-dynamic",nd=({tag:e,attributes:t,innerHtml:a})=>{const r=document.createElement(e);return a&&(r.innerHTML=a),t&&Jt()(((e,t)=>{r.setAttribute(t,e||"")}),t),r.setAttribute(rd,"true"),r};class od{constructor(e){this.meta=e}patchMeta({head:e,addTags:t,removeTagsArray:a}){let r=!1;t.forEach((t=>{let n;if("title"===t.tagName.toLowerCase())n=a.find((e=>"title"===e.tagName.toLowerCase()));else if("meta"===t.tagName.toLowerCase()&&"robots"===t.getAttribute("name"))r=!0;else if("meta"===t.tagName.toLowerCase()){const e=t.getAttribute("name"),r=t.getAttribute("property");n=a.find((t=>"meta"===t.tagName.toLowerCase()&&(e&&t.getAttribute("name")===e||r&&t.getAttribute("property")===r)&&"robots"!==t.getAttribute("name")))}else"link"===t.tagName.toLowerCase()&&(n=a.find((e=>"link"===e.tagName.toLowerCase()&&"canonical"===e.getAttribute("rel")&&e.getAttribute("href")===t.getAttribute("href"))));n&&e.removeChild(n)})),r&&a.filter((e=>"robots"===e.getAttribute("name"))).forEach((t=>{e.removeChild(t)}))}update(e=!1){const t=document.head||document.querySelector("head"),a=this.meta.dataCollection().map(nd),r=t.querySelectorAll(`[${rd}]`),n=document.createDocumentFragment(),o=Array.from(r);e?this.patchMeta({head:t,addTags:a,removeTagsArray:o}):o.forEach((e=>t.removeChild(e))),a.forEach((e=>n.appendChild(e))),t.insertBefore(n,t.firstChild)}}var sd=a(24970),id=a.n(sd),cd=a(18826),ud=a.n(cd);const ld=id()(v(),ud(),Za()),dd=e=>e.priority>10?{priority:e.priority,value:ld(e.value)}:e;var pd=a(95775),hd=a.n(pd);const fd=hd()(2,((e,t)=>t&&{tag:e,innerHtml:t})),md=hd()(2,((e,t)=>t&&{tag:"meta",attributes:{name:e,content:t}})),gd=hd()(2,((e,t)=>t&&{tag:"meta",attributes:{property:e,content:t}})),vd=hd()(2,((e,t)=>t&&{tag:"link",attributes:{rel:e,href:t}})),yd=[md("robots","noindex, follow"),md("robots","noarchive")],bd=[md("robots","index, nofollow"),md("robots","noarchive")],_d=[md("robots","none"),md("robots","noindex, nofollow"),md("robots","noarchive")],Ed={all:[md("robots","all"),md("robots","index, follow"),md("robots","noarchive")],noindex:yd,"noindex, follow":yd,nofollow:bd,"index, nofollow":bd,none:_d,"noindex, nofollow":_d},Sd={title:fd("title"),description:md("description"),keywords:md("keywords"),canonical:vd("canonical"),viewport:md("viewport"),ogTitle:gd("og:title"),ogDescription:gd("og:description"),ogSiteName:gd("og:site_name"),ogUrl:gd("og:url"),ogType:gd("og:type"),ogImage:gd("og:image"),ogImageSecure:gd("og:image:secure_url"),ogImageType:gd("og:image:type"),ogImageAlt:gd("og:image:alt"),ogImageWidth:gd("og:image:width"),ogImageHeight:gd("og:image:height"),ogLocale:gd("og:locale"),twitterTitle:md("twitter:title"),twitterDescription:md("twitter:description"),twitterCard:md("twitter:card"),twitterSite:md("twitter:site"),twitterCreator:md("twitter:creator"),twitterImage:md("twitter:image"),twitterImageAlt:md("twitter:image:alt"),robots:e=>Ed[e]},wd=(0,c.J)({provide:Ut,useFactory:({di:e})=>function({metaObj:t}={}){const a=e.get(jt);t&&a.updateMeta(20,t);const r=new ad({list:$r()(e.get({token:Ft,optional:!0,multi:!0})||[]),metaWalk:a,transformValue:dd,converters:Sd});new od(r).update()},deps:{di:ya.Z}}),kd=(e,t={})=>{const a={};return Object.keys(t).forEach((r=>{var n;a[e+(n=r,`${n.charAt(0).toUpperCase()}${n.slice(1)}`)]=t[r]})),a},Od=[wd,{provide:jt,useClass:Ql},{provide:Dt,useValue:{title:"Tramvai"}},{provide:Ft,multi:!0,useFactory:({defaultMeta:e})=>{return t=e,e=>{e.updateMeta(0,t)};var t},deps:{defaultMeta:Dt}},(0,c.J)({provide:Ft,useFactory:({pageService:e})=>t=>{const a=e.getMeta().seo||{},{pageComponent:r}=e.getConfig()||{},n=e.getComponent(r),o=n&&n.seo||{},s=ze()({},a,o),i=s.shareSchema||{},c={...s.metaTags,...kd("twitter",i.twitterCard),...kd("og",i.openGraph)};t.updateMeta(10,c)},multi:!0,deps:{pageService:Pt.Y9}}),{provide:Ft,multi:!0,useFactory:({context:e,metaList:t})=>{const a=$r()(t||[]);return t=>{a.forEach((a=>a(e,t)))}},deps:{context:Sa.l,metaList:{token:"metaList",optional:!0}}},(0,c.J)({provide:L.Ym,multi:!0,useValue:ed})];var Td;let Cd=Td=class{static forRoot(e){if(Xs()(e))return{mainModule:Td,providers:[{provide:"metaList",useValue:e,multi:!0}]};const{metaUpdaters:t,metaDefault:a}=e,r=[];return a&&r.push({provide:Dt,useValue:a}),t&&r.push({provide:Ft,useValue:t,multi:!0}),{providers:r,mainModule:Td}}};Cd=Td=(0,Qt.__decorate)([(0,s.Y)({providers:[...Od,(0,c.J)({provide:"router beforeNavigateHooks",multi:!0,useFactory:({metaWalk:e})=>()=>{e.reset()},deps:{metaWalk:jt}}),(0,c.J)({provide:Ln,scope:f.s.SINGLETON,multi:!0,useFactory:({applyMeta:e})=>function(t,a,r){if("client"===a&&("afterSpa"===r||"customer"===r)){const a=t.get(jt);if("customer"===r){const e=t.get({token:L.E6,optional:!0});a.mergeValuesFromSerializableState(e.stores.appMeta.serverMetaWalkState)}e()}},deps:{applyMeta:Ut}})]})],Cd);const Rd=(0,u.V3)("RETRY_HOSTNAME_MAP"),Md=(0,u.V3)("GET_RETRY_URL"),Nd=(0,u.V3)("EVENTEA_PROJECT_ROUTING",{multi:!0}),xd=(0,u.V3)("EVENTEA_TOKEN");var Ad=a(21159),Pd=a.n(Ad),Id=a(91401),Ld=a(147),qd=a.n(Ld),Dd=a(99454),jd=a.n(Dd);const Fd=[(0,c.J)({provide:Rd,useFactory:({envManager:e})=>{const t={"www.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/www","cdn.tbank.ru":"fallback.cdn-tinkoff.ru/acdn","unic-cdn-prod.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/unic-cdn-prod"},a=e.get("RETRY_HOSTNAME_MAP"),r=e=>e.endsWith("/")?e.slice(0,-1):e;return void 0!==a?jd()(t,qd()(a.split(",").map((e=>e.split("="))).map((e=>e.map(r))))):t},deps:{envManager:O.vC}}),(0,c.J)({provide:Md,useFactory:({retryMap:e})=>t=>function(e,t){for(const a in t)if(0===e.split("//")[1].indexOf(a))return e.replace(a,t[a]);return e}(t,e),deps:{retryMap:Rd}}),(0,c.J)({provide:O.sQ,multi:!0,useValue:[{key:"RETRY_HOSTNAME_MAP",optional:!0}]})],Ud=(0,n.J)({name:"TinkoffRetryModuleDefaults",providers:[...Fd]});var Vd=a(6073),Bd=a.n(Vd),Hd=a(87474),Yd=a(64315),$d=a.n(Yd),Jd=a(83958),Kd=a.n(Jd);const zd=["flex","fragment","screen"],Gd=e=>!e||e.length<=0?{}:e.reduce(((e,{type:t,component:a})=>(e[t]=a,e)),{});class Xd{constructor({fallbackMapping:e,customMapping:t,baseMappingExtensions:a,boxyLazy:r,overwritingMappingExtension:n,refreshMappings:o,boxyBaseUrl:s,urlRewrite:i,expandedTreeTransform:c}){this.map={},this.fallbackMapping=Gd(e),this.customMapping=Gd(t),this.baseMappingExtensions=a,this.boxyLazy=r||void 0,this.overwritingMappingExtension=n,this.refreshMappings=o,this.boxyBaseUrl=s&&(s.endsWith("/")?s:`${s}/`),this.urlRewrite=i,this.expandedTreeTransform=c}getBaseMappingExtension(){if(this.baseMappingExtensions)return function(...e){const t={};for(const a of e)for(const e of Object.keys(a))t[e]=t[e]?Object.assign(t[e],a[e]):a[e];return t}(...function(e){const t=[];for(let a of e)if("function"==typeof a&&(a=a()),Array.isArray(a))for(const e of a)t.push(e);else t.push(a);return t}(this.baseMappingExtensions))}getOverwritingMappingExtension(){return this.overwritingMappingExtension}registerMap(e){this.map=e}registerTree(e){this.originalTree=e,this.tree=e}getTree(){return this.tree}async transformTree(){const e=await this.internalTransformTree();return this.resultTree=e,this.resultTree}isOverwritingMappingEnabled(){return Object.keys(this.overwritingMappingExtension??{}).length>0}async internalTransformTree(e=!1){const{tree:t,boxyBaseUrl:a,boxyLazy:r,fallbackMapping:n,overwritingMappingExtension:o,urlRewrite:s,expandedTreeTransform:i}=this,c=this.getBaseMappingExtension();if(this.baseMappingExtension=c,!t)throw new Error("internalTransformTree: tree is not defined!");const{tree:u,isBlocksMissing:l}=function({baseMappingExtension:e,boxyBaseUrl:t,boxyLazy:a,fallbackMapping:r,overwritingMappingExtension:n,baseTree:o,urlRewrite:s}){let i=!1;return{tree:(0,Hd.mapTree)(o,(o=>{const c=e?.[o.type]?.[o.version],u=r[o.type],l=c?.lazy??o.render?.lazy??a?.lazy,d=n?.[o.type]?.[o.version];if(!(u||c||d||o.render||-1!==zd.indexOf(o.type)))return void 0!==o.type&&(i=!0),o;let p;if(a?.lazy||c||d){let e,t=c??o.render;o.render?.overwriteLocal&&(t=o.render),d?e=d:t&&(e={...t,...l&&{lazy:l}}),p={...o,render:e}}const h=p||o;if(t&&h.render?.npmVersion&&(!("clientJs"in h.render)||!h.render.clientJs)){const e=Kd()(o.type),a=`${t}${e}/${h.render.npmVersion}/${e}`;p=p||{...h},p.render={...p.render,npmVersion:void 0,clientJs:`${a}.client.js`,serverJs:`${a}.server.js`,css:`${a}.css`}}let f=p||o;if(s&&f.render&&"clientJs"in f.render){const e=f.render.clientJs?s(f.render.clientJs):f.render.clientJs,t=f.render.serverJs?s(f.render.serverJs):f.render.serverJs,a=f.render.css?s(f.render.css):f.render.css;e===f.render.clientJs&&a===f.render.css&&t===f.render.serverJs||(f={...f,render:{...f.render,clientJs:e,serverJs:t,css:a}})}return f})),isBlocksMissing:i}}({baseMappingExtension:c,boxyBaseUrl:a,boxyLazy:r,fallbackMapping:n,overwritingMappingExtension:o,baseTree:t,urlRewrite:s});this.tree=u;let d=u;if(i&&i.length>0)for(const e of i)d=await e(d);return l&&!e&&this.refreshMappings&&this.baseMappingExtension&&(await this.refreshMappings()).length?this.internalTransformTree(!0):(this.tree=d,d)}getComponent(e){const{tree:{type:t,render:a},customBlockMap:r={},fallbackBlockMap:n={}}=e;let o;if(a){const e="clientJs";o=e in a?a[e]:`${t}@${a.npmVersion}`}return r[t]||this.customMapping[t]||o&&this.map[o]||n[t]||this.fallbackMapping[t]}getBlocksMap(e={}){const{customBlockMap:t,fallbackBlockMap:a,LeastPriorityComponent:r}=e,n={};let o=0,s=0;return this.resultTree&&(0,Hd.traverseTree)(this.resultTree,(i=>{const c=this.getComponent({tree:i,fallbackBlockMap:a,customBlockMap:t})??r;c?n[i.id]=c:i.type in Yd.PAGEMAKER_BUILTIN_BLOCKS?n[i.id]=Yd.PAGEMAKER_BUILTIN_BLOCKS[i.type]:e.use&&(n[i.id]=e.use(i)),n[i.id]?o++:s++})),{blocksMap:n,hit:o,miss:s}}createUse(e={}){const{fallbackBlockMap:t,customBlockMap:a}=e;return r=>this.getComponent({tree:r,fallbackBlockMap:t,customBlockMap:a})||e.notFound}}var Wd=a(56296);const Qd=(0,u.V3)("boxyFallbackMappingExtension",{multi:!0}),Zd=(0,u.V3)("boxyCustomMappingExtension",{multi:!0}),ep=(0,u.V3)("boxyBaseMappingExtension",{multi:!0}),tp=(0,u.V3)("overwriting boxyBaseMappingExtension"),ap=(0,u.V3)("boxyExternalMapping",{multi:!0}),rp=(0,u.V3)("boxyPreparedExternalMappings"),np=(0,u.V3)("refreshMappingsToken"),op=(0,u.V3)("freezeClientMapping"),sp=(0,u.V3)("eventeaRequestLoggerToken"),ip=(0,u.V3)("forceRefreshThrottleTimeToken"),cp=(0,u.V3)("external mapping cache"),up=(0,u.V3)("microfronts locker http client"),lp=(0,u.V3)("enable cookie mapping"),dp=(0,u.V3)("MAPPING_REQUEST_TIMEOUT_TOKEN"),pp=(0,u.V3)("BOXY_BASE_URL"),hp=(0,u.V3)("BOXY_URL_REWRITE"),fp=(0,u.V3)("boxyServiceFactory"),mp=(0,u.V3)("boxyLazy"),gp=(0,u.V3)("microfronts locker mapping loader"),vp=(0,u.V3)("microfronts locker mapping loading hook"),yp=(0,u.V3)("microfronts locker mapping loading plugins",{multi:!0});(0,Rt.y)("boxy ssr data set");const bp=(0,Rt.y)("boxy external mappings"),_p=(0,Mt.L)("microfrontsMappings",{mappings:[],overwritingMapping:null}).on(bp,((e,t)=>({...e,...t}))),Ep=(0,u.V3)("microfronts mappings logger"),Sp=(0,u.V3)("after mappings loaded",{multi:!0}),wp=(0,u.V3)("microfronts locker mapping loader"),kp=(0,u.V3)("microfronts locker mapping cache"),Op=(0,u.V3)("external mappings processor"),Tp=(0,u.V3)("browserPersistingCacheToken"),Cp=(0,u.V3)("browserPermanentCacheName"),Rp="cookieMapping",Mp="cookieMappingUrl",Np=[(0,c.J)({provide:Ep,useFactory:({logger:e})=>e("boxy"),deps:{logger:k.Fp}}),(0,c.J)({provide:ep,useFactory:({store:e})=>()=>e.getState(_p).mappings.map((({mapping:e})=>e)),deps:{store:L.kR}}),(0,c.J)({provide:tp,useFactory({cookie:e,store:t,logger:a,cookieMappingEnabled:r}){if(!r)return{};const n=e.get(Rp),o=t.getState(_p).overwritingMapping?.mapping;if(n&&o&&a.warn(`Both cookies ${Rp} and ${Mp} are set. First will be used,\n        but situation is almost certainly undesired. Please use only one at a time.`),!n)return o;{const e=JSON.parse(n);if((e=>Bd()(Bd()((e=>"npmVersion"in e||"clientJs"in e&&"serverJs"in e)))(e))(e))return e;a.error(`Cookie "${Rp}" is defined, but mapping in value is invalid`)}},deps:{cookie:na.T,store:L.kR,logger:Ep,env:O.vC,cookieMappingEnabled:lp}}),(0,c.J)({provide:lp,useFactory({env:e}){const t=e.get("ENABLE_COOKIE_MAPPING");return!!t&&"false"!==t},deps:{env:O.vC}}),(0,c.J)({provide:pp,useFactory({env:e,urlRewrite:t}){const a=e.get("BOXY_BASE_URL");return t?t(a):a},deps:{env:O.vC,urlRewrite:hp}}),(0,c.J)({provide:hp,useFactory({env:e,requestManager:t}){const a=e.get("BOXY_REQUEST_HOSTNAME_MAP");return a?((e,t)=>{let a;e&&(a=e.split(",").reduce(((e,t)=>{const[a,r]=t.split("=");return e.set(a,r),e}),new Map));const r=new URL(t);return e=>{if(a&&e){const t=new URL(e);return t.hostname=a.get(r.hostname)||t.hostname,t.href}return e}})(a,t.getUrl()):null},deps:{env:O.vC,requestManager:oa}}),{provide:O.sQ,useValue:[{key:"BOXY_BASE_URL",optional:!0},{key:"ENABLE_COOKIE_MAPPING",optional:!0},{key:"BOXY_REQUEST_HOSTNAME_MAP",optional:!0}],multi:!0},(0,c.J)({provide:fp,useFactory:({...e})=>t=>new Xd({...e,...t}),deps:{fallbackMapping:{token:Qd,multi:!0,optional:!0},customMapping:{token:Zd,multi:!0,optional:!0},baseMappingExtensions:{token:ep,multi:!0,optional:!0},boxyLazy:{token:mp,optional:!0},overwritingMappingExtension:{token:tp,optional:!0},refreshMappings:{token:np,optional:!0},boxyBaseUrl:pp,urlRewrite:{token:hp,optional:!0},expandedTreeTransform:{token:Wd.Ht,multi:!0,optional:!0}}})],xp=(e,t)=>t.some((t=>e instanceof t));let Ap,Pp;const Ip=new WeakMap,Lp=new WeakMap,qp=new WeakMap,Dp=new WeakMap,jp=new WeakMap;let Fp={get(e,t,a){if(e instanceof IDBTransaction){if("done"===t)return Lp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qp.get(e);if("store"===t)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Vp(e[t])},set:(e,t,a)=>(e[t]=a,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Up(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Bp(this),e),Vp(Ip.get(this))}:function(...e){return Vp(t.apply(Bp(this),e))}:function(e,...a){const r=t.call(Bp(this),e,...a);return qp.set(r,e.sort?e.sort():[e]),Vp(r)}:(e instanceof IDBTransaction&&function(e){if(Lp.has(e))return;const t=new Promise(((t,a)=>{const r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",o),e.removeEventListener("abort",o)},n=()=>{t(),r()},o=()=>{a(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",o),e.addEventListener("abort",o)}));Lp.set(e,t)}(e),xp(e,Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Fp):e);var t}function Vp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,a)=>{const r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",o)},n=()=>{t(Vp(e.result)),r()},o=()=>{a(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ip.set(t,e)})).catch((()=>{})),jp.set(t,e),t}(e);if(Dp.has(e))return Dp.get(e);const t=Up(e);return t!==e&&(Dp.set(e,t),jp.set(t,e)),t}const Bp=e=>jp.get(e),Hp=["get","getKey","getAll","getAllKeys","count"],Yp=["put","add","delete","clear"],$p=new Map;function Jp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if($p.get(t))return $p.get(t);const a=t.replace(/FromIndex$/,""),r=t!==a,n=Yp.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!n&&!Hp.includes(a))return;const o=async function(e,...t){const o=this.transaction(e,n?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[a](...t),n&&o.done]))[0]};return $p.set(t,o),o}var Kp;Kp=e=>({...e,get:(t,a,r)=>Jp(t,a)||e.get(t,a,r),has:(t,a)=>!!Jp(t,a)||e.has(t,a)}),Fp=Kp(Fp);var zp=a(91232);const Gp=[(0,c.J)({provide:ys,multi:!0,useFactory:({di:e,env:t})=>async()=>{await e.get(Op)({forceRefresh:!1})},deps:{di:ya.Z,env:O.vC}}),(0,c.J)({provide:np,useFactory:({externalMappingsProcessorFactory:e,freezeClientMapping:t})=>()=>t?Promise.resolve([]):e({forceRefresh:!0}),deps:{externalMappingsProcessorFactory:Op,freezeClientMapping:op}}),(0,c.J)({provide:wp,useFactory:function(e){const{httpRequest:t,logger:a,mappingLoaderHook:r,mappingLoaderPlugins:n,mappingRequestTimeout:o}=e;return r.tapPromise("loadingMapping",(async(e,{url:r},n)=>t.get(r,{},{responseType:"json",timeout:o}).then((e=>e)).catch((e=>(a.warn(`Failed to load mapping from ${r}. \n${e}`),e))))),n?.forEach((e=>{e(r)})),async function(e){const t=await r.callPromise(e);if(t&&t.payload)return function(e,t){const{url:a,kind:r}=e,{baseUrl:n,mapping:o}=t;let s,i;return n?s=n:(s=a.split("/").slice(0,-1).join("/"),"cookie"===r&&(i=t.commitSha)),(0,zp._q)(o,s,{cacheHash:i})}(e,t.payload)}},deps:{httpRequest:up,logger:Ep,mappingLoaderHook:vp,mappingLoaderPlugins:{token:yp,multi:!0,optional:!0},mappingRequestTimeout:dp}}),(0,c.J)({provide:vp,useFactory:({hookFactory:e})=>e.createAsync("externalMappingLoading"),deps:{hookFactory:Pn}}),(0,c.J)({provide:Op,useFactory:e=>({forceRefresh:t})=>(async({afterMappingsLoaded:e,cache:t,cookie:a,cookieMappingEnabled:r,externalMappingUrls:n,forceRefresh:o,forceRefreshThrottleTime:s,getRetryUrl:i,loadMapping:c,logger:u,store:l})=>{const d=r?a.get(Mp):void 0;if(!n?.length&&!d)return[];const p=[];let h=null;const f=[];async function m(e){const{url:a,kind:r}=e,n=t.get(a);var l;if(n&&(!o||(l=n.meta?.lastForceRefreshTime,l&&l+s>=Date.now())))return n.mapping;const d=await c(e);if(d)return t.set(a,d,{kind:r,forceRefresh:o}),f.push(d),d;u.warn(`Failed to load mapping from ${a}.`);const p=t.get(a,{allowStale:!0});if(p)return u.warn(`Return cached stale version. ${a}`),p.mapping;const h=i(a);if(h===a)return null;const m=await c({...e,url:h});return m?(t.set(a,m,{kind:r,forceRefresh:o}),f.push(m),m):(u.warn(`Fallback cdn mapping load failed: ${h}.`),null)}const g=(n||[]).map((async e=>{const t=await m({url:e,kind:"external",source:"s3"});if(t)return{url:e,mapping:t}})),v=d?[(async e=>{const t=await m({url:e,kind:"cookie",source:"s3"});t&&(h={url:e,mapping:t})})(d)]:[];return await Promise.all([Promise.all([...g]).then((e=>{e.forEach((e=>{e&&p.push(e)}))})),...v]),l.dispatch(bp({mappings:p,overwritingMapping:h})),f.length&&e&&await Promise.all(e.map((e=>e({mappingsUpdated:!0})))),f})({...e,forceRefresh:t}),deps:{afterMappingsLoaded:{token:Sp,optional:!0},appInfo:h.Qo,cache:kp,cookie:na.T,cookieMappingEnabled:lp,di:ya.Z,env:O.vC,externalMappingUrls:rp,forceRefreshThrottleTime:ip,getRetryUrl:Md,httpRequest:up,loadMapping:gp,logger:Ep,store:L.kR,urlRewrite:hp}}),(0,c.J)({provide:kp,useClass:class{constructor(e){this.cache=e.cache}set(e,t,a){const{kind:r,forceRefresh:n}=a;"cookie"!==r&&this.cache.set(e,{mapping:t,meta:n?{lastForceRefreshTime:Date.now()}:{}})}get(e,t){if(!t?.allowStale)return this.cache.has(e)?this.cache.get(e):void 0;const a=this.cache.get(e);return a?(this.cache.set(e,a,{ttl:6e4}),a):void 0}},deps:{cache:cp}}),(0,c.J)({provide:rp,useFactory(e){const t=e.env.get("BOXY_EXTERNAL_MAPPING_URL");let a=e.externalMappingUrls||[];return t&&(a=a.concat(t.split(",").map((e=>e.trim())))),e.urlRewrite?a.map(e.urlRewrite):a},deps:{externalMappingUrls:{token:ap,optional:!0},urlRewrite:hp,env:O.vC}}),(0,c.J)({provide:O.sQ,useValue:[{key:"BOXY_EXTERNAL_MAPPING_URL",optional:!0},{key:"FREEZE_CLIENT_MAPPING",value:"true",dehydrate:!0},{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]}),(0,c.J)({provide:op,useFactory:({env:e})=>"true"===e.get("FREEZE_CLIENT_MAPPING"),deps:{env:O.vC}}),(0,c.J)({provide:ip,useValue:6e4}),(0,c.J)({provide:up,useFactory:({factory:e})=>e({name:"microfronts-locker",enableCircuitBreaker:!1,cacheTime:3e4,allowStale:!1}),deps:{factory:_c.FB}}),(0,c.J)({provide:dp,useValue:2e4})];function Xp(e){return Boolean(e.code)}function Wp(e){return e&&e.payload?"success":"error"}function Qp(e){if(Xp(e)&&"ABORT_ERR"===e.code)return"aborted";if(Xp(e)&&"ERR_HTTP_REQUEST_TIMEOUT"===e.code)return"apiTimeout";if(!e)return"empty";const{status:t}=e;return t?200===t?"200":t>=200&&t<300?"2xx":[400,401,403,404].includes(t)?`${t}`:t>=400&&t<500?"4xx":[500,502,503,504].includes(t)?`${t}`:t>=500&&t<600?"5xx":"unknown":"empty"}const Zp=[...Gp,(0,c.J)({provide:yp,multi:!0,useFactory:({eventeaRequestLogger:e})=>e?t=>{t.wrap((async(t,a,r)=>{const n=Date.now(),o={url:a.url,slug:"external_mapping"};e.requestStart(o);const s=await r(a);return e.requestEnd({...o,result:Wp(s),statusCode:Qp(s),duration:Date.now()-n}),s}))}:()=>{},deps:{eventeaRequestLogger:{token:sp,optional:!0}}}),(0,c.J)({provide:yp,multi:!0,useFactory:({eventea:e,appInfo:{appName:t}})=>e?a=>{a.wrap((async(a,r,n)=>{const o=Date.now();e.send({project:"boxyCore",event:"boxyCore.mappingLoadingStart",payload:{application:t,mappingType:r.kind,source:r.source}});const s=await n(r);return e.send({project:"boxyCore",event:"boxyCore.mappingLoadingEnd",payload:{application:t,mappingType:r.kind,source:r.source,result:Wp(s),statusCode:Qp(s),duration:Date.now()-o}}),s}))}:()=>{},deps:{eventea:{token:xd,optional:!0},appInfo:h.Qo}}),(0,c.J)({provide:cp,scope:f.s.SINGLETON,useFactory:({cacheFactory:e,freezeClientMapping:t})=>e("memory",{ttl:t?void 0:12e5,max:100,allowStale:!0}),deps:{cacheFactory:Ao,freezeClientMapping:op}}),(0,c.J)({provide:P.init,scope:f.s.SINGLETON,useFactory:({cache:e,logger:t,store:a,permanentCache:r,permanentCacheName:n})=>async()=>{const o=a.getState(_p);if(o.mappings.length||o.overwritingMapping)return o.mappings.forEach((({url:t,mapping:a})=>{e.set(t,{mapping:a})})),void(o.overwritingMapping&&e.set(o.overwritingMapping.url,{mapping:o.overwritingMapping.mapping}));const s=await(await r).get(n);if(s&&1===s.version)try{return e.load(s.data.cacheDump)}catch(e){t.warn(`Failed to load stored cache from permanentCache.\n${e.message}\n${e.stack}`)}},deps:{cache:cp,logger:Ep,store:L.kR,permanentCache:Tp,appInfo:h.Qo,permanentCacheName:Cp}}),(0,c.J)({provide:Sp,useFactory:({cache:e,logger:t,permanentCache:a,permanentCacheName:r})=>async({mappingsUpdated:n})=>{if(n)try{return await(await a).set(r,{version:1,data:{cacheDump:e.dump()}})}catch(e){t.error(`Failed to save cache to idb.\n${e.message}\n${e.stack}`)}return Promise.resolve()},deps:{cache:cp,logger:Ep,permanentCache:Tp,permanentCacheName:Cp}}),(0,c.J)({provide:Tp,scope:f.s.SINGLETON,useFactory:async({freezeClientMapping:e})=>{const t=function(){const e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}();if(e)return{get:e=>Promise.resolve(null),set:(e,t)=>Promise.resolve()};if(window.indexedDB&&(!t||!localStorage.__DEV__FORCE_LOCAL_STORAGE)){const e="tinkoff:microfronts-locker",t="keyval",a=()=>function(e,t,{blocked:a,upgrade:r,blocking:n,terminated:o}={}){const s=indexedDB.open(e,t),i=Vp(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Vp(s.result),e.oldVersion,e.newVersion,Vp(s.transaction),e)})),a&&s.addEventListener("blocked",(e=>a(e.oldVersion,e.newVersion,e))),i.then((e=>{o&&e.addEventListener("close",(()=>o())),n&&e.addEventListener("versionchange",(e=>n(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),i}(e,1,{upgrade(e){e.createObjectStore(t)}});try{let e=a();return await e,window.addEventListener("pagehide",(async()=>{if(e){const t=await e;await t.close(),e=null}})),window.addEventListener("pageshow",(()=>{e=a()})),{get:async a=>(await e).get(t,a),set:async(a,r)=>{const n=await e;await n.put(t,r,a)}}}catch(e){}}return t?{get(e){const t=localStorage.getItem(e);return Promise.resolve(t?((e,t=null)=>{if(void 0===e)return t;try{return JSON.parse(e)}catch(e){return t}})(t):null)},set:(e,t)=>(localStorage.setItem(e,JSON.stringify(t)),Promise.resolve())}:{get:e=>Promise.resolve(null),set:(e,t)=>Promise.resolve()}},deps:{freezeClientMapping:op}}),(0,c.J)({provide:Cp,scope:f.s.SINGLETON,useFactory:({appInfo:e})=>`${e.appName}--mappings-locker`,deps:{appInfo:h.Qo}})],eh=(0,n.J)({name:"MicrofrontsLocker",imports:[Ud],providers:[...Zp,...Np,(0,c.J)({provide:L.Ym,useValue:[_p],multi:!0})]}),th=(0,Rt.y)("updateReferrer"),ah=(0,Mt.L)("referrer","").on(th,((e,t)=>t));let rh=class{};rh=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:L.Ym,multi:!0,useValue:ah}),(0,c.J)({provide:P.spaTransition,multi:!0,useFactory:({store:e})=>function(){return e.dispatch(th(e.getState(fs).currentUrl.href))},deps:{store:L.kR}})]})],rh);var nh=a(83045),oh=a(72407),sh=a(96105),ih=a.n(sh);const ch=Uc()("DYNAMIC",{});function uh(e){if(!e)return{};const t=Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,a)=>{return{...t,[(r=a,r.split("_").map(((e,t)=>0===t?e.toLowerCase():`${e[0]}${e.slice(1).toLowerCase()}`)).join(""))]:String(e[a])};var r}),{});return t}const lh=e=>({fatal:e.fatal.bind(e),error:e.error.bind(e),warn:e.warn.bind(e),info:e.info.bind(e),debug:e.debug.bind(e),trace:e.trace.bind(e)}),dh=e=>e.child({name:"remote",defaults:{remote:{emitLevels:{fatal:!0,error:!0,warn:!0,info:!0,debug:!0,trace:!0}}}});function ph(e){const t=e("boxy-di-logger");return{...lh(t),remote:lh(dh(t)),createNamespace:e=>{const a=t.child(e);return{...lh(a),remote:lh(dh(a))}}}}var hh=a(60245),fh=a(5881),mh=a.n(fh),gh=a(93630),vh=a(37210);const yh=(0,a(38153).TrackingHoc)($d()),bh=(0,Rt.y)("boxy ssr data set"),_h=(0,Mt.L)("boxy",{ssrData:{}}).on(bh,((e,t)=>({...e,...t}))),Eh=(new Set(["env","runtimeEnv","appName","appId","isAuthorized","isUserAuthorized"]),new Set(["showRegionPopup"]));a(38418);const Sh=(0,er.Z)({name:"mainDefault",components:{pageDefault:()=>{const{BoxyRenderer:e}=(0,xi.x)({BoxyRenderer:hh.zU});return(0,Ys.jsx)(e,{})}}}),wh=(0,u.V3)("boxy logger"),kh=[(0,c.J)({provide:wh,useFactory:({logger:e})=>e("boxy"),deps:{logger:k.Fp}}),(0,c.J)({provide:hh.Hs,useFactory:({boxyServiceFactory:e})=>e(),deps:{boxyServiceFactory:fp}}),(0,c.J)({provide:hh.zU,useFactory:({boxyService:e,analyticsConfig:t,boxyMetrics:a,authenticator:r,pageService:n,getUnchargedDival:o,context:s,boxyPubsub:i,throw90:c})=>u=>{const{dival:l,blocksMapParams:d}=u,{ssrData:p}=(0,gh.v)(_h,(({boxy:e})=>({ssrData:e.ssrData}))),{roles:h,featureToggle:f,region:m,referrer:g}=s.getState(),v=(0,gh.v)([h&&"roles",f&&"featureToggle",m&&"region",g&&"referrer"].filter(Boolean),(e=>({roles:e.roles,featureToggle:e.featureToggle,region:e.region,referrer:e.referrer}))),y=o(v);r&&(y.logout=()=>r.logout()),n&&(y.navigate=e=>n.navigate(e)),t&&(y.trackingOptions=t.blocks);const b=function({dival:e,ssrData:t,unchargedDival:a}){return{...{...e,...a,env:{...a.env,...e?.env},runtimeEnv:{...a.runtimeEnv,...e?.runtimeEnv}},...t}}({dival:l,ssrData:p,unchargedDival:y}),_=function(e,t){const{getTree:a,createUse:r,createUseOptions:n,blocksMapParams:o,dival:s,miss:i,missedDi:c,...u}=e,l=(0,rr.useRef)({cacheKeys:{props:null},data:null});if(!mh()(l.current.cacheKeys.props,e)){const o=e=>{const a=[];return Promise.resolve().then((()=>{t.boxyMetrics.blocksRendered(),a.length&&t.boxyMetrics.blockMiss(a)})).catch((()=>{})),t=>{e?.(t),a.push(t)}};l.current={cacheKeys:{props:e},data:{...u,miss:o(i),missedDi:({key:e,subtree:a})=>{c?.({key:e,subtree:a}),t.boxyMetrics.diMiss(a.type,e)},tree:a?a():t.boxyService.getTree(),use:r?r():t.boxyService.createUse(n)}}}return l.current.data.tree.content?.length||t.boxyMetrics.emptyContent?.(),l.current.data}(u,{boxyService:e,boxyMetrics:a}),{act:E,use:S,map:w,tree:k,...O}=_,T=(0,rr.useCallback)((e=>{E&&E(e);const t="object"==typeof e&&e?.type;Eh.has(t)&&i.publish("page-maker-action",e)}),[E]),{blocksMap:C,hit:R,miss:M}=e.getBlocksMap({...d,use:S});if(c&&M>0&&R/(R+M)<=.9)throw new vh.o({httpStatus:500});return k&&k?.id?(0,Ys.jsx)(yh,{tree:k,act:T,isConcurrentFeaturesEnabled:!0,...O,map:C,dival:b}):(0,Ys.jsx)(Ys.Fragment,{})},deps:{boxyService:hh.Hs,analyticsConfig:{token:"analyticsConfig",optional:!0},analytics:{token:"analytics",optional:!0},appInfo:h.Qo,boxyMetrics:hh.tK,envManager:O.vC,cookieManager:na.T,getAppId:{token:pi,optional:!0},authenticator:{token:hl,optional:!0},pageService:{token:Pt.Y9,optional:!0},getUnchargedDival:hh.HU,context:Sa.l,boxyPubsub:hh.jp,throw90:{token:hh.MU,optional:!0}}}),{provide:L.Ym,useValue:[_h],multi:!0},(0,c.J)({provide:hh.HU,useFactory:e=>({roles:t,referrer:a,featureToggle:r,region:n})=>function({analytics:e,cookieManager:t,envManager:a,pageService:r,getAppId:n,appInfo:o,userAgent:s,authenticator:i,logger:c,sessionManager:u,wuid:l,roles:d,featureToggle:p,region:h,referrer:f,mgm:m,eventea:g}){const v=r?.getCurrentUrl(),y=n?.(),b=oh.QO(d),_=oh.C5(d),E=(S=d,ih()(Boolean,ch(S)));var S;const w=_||E;return{env:uh(a.getAll()),logger:ph(c),getWuid:()=>l,trackingService:e||void 0,dco:e?.state?.personalizedLandingMetrics?.state,runtimeEnv:{...t&&{cookies:t.all()},location:{...v||{},query:v?.query},..."string"==typeof f&&{referrer:f}},...s&&{userAgent:s},...o?.appName&&{appName:o?.appName},...y&&{appId:y},layout:"mobile"===s?.device?.type?"mobile":"desktop",...d&&{roles:d,isAuthorized:b,isUserAuthorized:w},...p&&{featureToggle:p},...h&&{currentRegion:h?.currentRegion},...i&&u&&{getSessionId:async()=>new Promise((e=>i.isAuthenticateFinishedPromise.catch((()=>{})).finally((()=>{e(u.fetchSessionId())}))))},...r&&{setUrlQuery:e=>r.updateCurrentRoute({query:e})},mgm:m,eventea:g}}({...e,roles:t,referrer:a,featureToggle:r,region:n}),deps:{analytics:{token:"analytics",optional:!0},authenticator:{token:hl,optional:!0},envManager:O.vC,cookieManager:{token:na.T,optional:!0},getAppId:{token:pi,optional:!0},pageService:{token:Pt.Y9,optional:!0},appInfo:{token:h.Qo,optional:!0},userAgent:{token:Na,optional:!0},logger:k.Fp,sessionManager:{token:fl,optional:!0},wuid:T.$,mgm:{token:nh.rw,optional:!0},eventea:{token:xd,optional:!0}}}),(0,c.J)({provide:$a,scope:f.s.SINGLETON,multi:!0,useFactory:({boxyDefaultBundle:e})=>({mainDefault:e}),deps:{boxyDefaultBundle:hh.IB}}),(0,c.J)({provide:hh.IB,useValue:Sh}),(0,c.J)({provide:hh.jp,useFactory:({pubSubFactory:e})=>e(),deps:{pubSubFactory:Ja}}),(0,c.J)({provide:Nd,multi:!0,useValue:{project:"boxyCore"}})],Oh=[{provide:hh.tK,useFactory:({eventea:e})=>({blocksRendered:()=>{e?.send({project:"boxy",event:"pagemaker-client-rendered"})},blockMiss:t=>{e?.send({project:"boxy",event:"block-client-fallback",payload:{blocksCount:t.length,blockTypes:t.map((({type:e,version:t})=>`${e}-v${t}`))}})},diMiss:(t,a)=>{e?.send({project:"boxy",event:"di-required-key-missed",payload:{type:t,key:a}})},emptyContent:()=>{e?.send({project:"boxy",event:"render-empty-content"})}}),deps:{eventea:{token:xd,optional:!0}}}];let Th=class{};Th=(0,Qt.__decorate)([(0,s.Y)({imports:[rh,eh],providers:[...kh,...Oh,(0,c.J)({provide:P.resolvePageDeps,useFactory:({boxyService:e,pageService:t,microfrontsBaseUrl:a,getRetryUrl:r,eventea:n})=>async function(){const o=t.getContent();if(!o)return;e.registerTree(o);const s=await e.transformTree(),i=await Pd()({tree:s,baseUrl:a,getRetryUrl:r}),c=(0,Id.Z5)({urlMask:t.getCurrentRoute()?.path});return c&&n?.send({project:"boxyCore",event:"boxyCore.microfrontStaticLoad",payload:c}),e.registerMap(i),Promise.resolve()},multi:!0,deps:{boxyService:hh.Hs,pageService:Pt.Y9,context:Sa.l,envManager:O.vC,getRetryUrl:Md,microfrontsBaseUrl:pp,eventea:{token:xd,optional:!0}}}),{provide:O.sQ,useValue:[{key:"BOXY_BASE_URL"}],multi:!0}]})],Th);const Ch=(0,u.V3)("customFeatureToggleGroups",{multi:!0}),Rh=window;class Mh{set watch(e){var t,a;this.observerSuspended?null===(a=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleQueueUsageAtServer)||void 0===a||a.call(t):(this.watcher=e,this.push(...this.queue),this.queue=[])}push(...e){var t,a;if(this.watcher)try{this.watcher(e)}catch(e){const{message:r}=e;null===(a=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleObserverWatcherErrors)||void 0===a||a.call(t,r)}else this.queue.push(...e)}constructor(e){var t,a;this.observerSuspended=!1,this.queue=[],this.errorHandlers=null==e?void 0:e.errorHandlers,Rh?(Array.isArray(Rh._evnteq)&&this.queue.push(...Rh._evnteq),Rh._evnteq=this):(this.observerSuspended=!0,null===(a=null===(t=this.errorHandlers)||void 0===t?void 0:t.handleQueueUsageAtServer)||void 0===a||a.call(t))}}function Nh(){return"undefined"!=typeof document&&"hidden"===document.visibilityState}function xh(e){const t=JSON.stringify(e);return new Blob([t]).size}class Ah{constructor(e){var t;this.batch=[],this.timer=null;const{baseUrl:a,batching:r,needBoxyBlocksProcessing:n,priority:o="auto",compressionEnabled:s=!1}=e;this._request=e=>fetch(`${a}${e.method}`,{...e,method:e.httpMethod,priority:o}).then((e=>e.json())),this.batchingEnable=(null==r?void 0:r.batchingEnable)||!1;const i="CompressionStream"in window;if(this.batchMaxLen=i?(null==r?void 0:r.batchSize)||50:Math.min((null==r?void 0:r.batchSize)||50,50),this.batchDelay=(null==r?void 0:r.batchDelay)||50,this.needBoxyBlocksProcessing=n||!1,this.compressionEnabled=s,"undefined"!=typeof document){const e=null===(t=document.cookie.match(/(?:^|;\s*)beerBatchCompression=([^;]+)/))||void 0===t?void 0:t[1];this.compressionEnabled=(s||"on"===e)&&"off"!==e,document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.flushEvents()}))}}event(e){const t=this.formatEvent(e);return this.batchingEnable?(this.enqueue(t),Promise.resolve()):this.sendImmediately(t)}sendAbstractEvent(e){return this.event(e)}formatEvent(e){var t,a,r,n,o;const s=(null===(t=e.handlersData)||void 0===t?void 0:t.blockType)||(null===(a=e.payload)||void 0===a?void 0:a.blockType),i=(null===(r=e.handlersData)||void 0===r?void 0:r.blockProject)||(null===(n=e.payload)||void 0===n?void 0:n.blockProject);let c=e.event,u=e.project;if(this.needBoxyBlocksProcessing&&"boxy"===e.project){const e={"block.renderingStatus":"microfront-rendering-status"};Object.keys(e).includes(c)&&(c=e[c],u="supreme")}return{project:u,event:c,payload:{...e.payload||{},appName:null===(o=e.handlersData)||void 0===o?void 0:o.appName,blockType:s,blockProject:i}}}prepareRequestBody(e,t=!1){const a=Array.isArray(e),r="function"==typeof CompressionStream,n=JSON.stringify(e);let o=n,s="application/json",i=n.length;const c={body:n,contentType:"application/json",contentSize:i};return this.compressionEnabled&&r&&!t&&a?{async next(){try{o=await function(e){const t=new CompressionStream("gzip"),a=new Blob([e]).stream().pipeThrough(t);return new Response(a)}(n).arrayBuffer(),i=o.byteLength,s="application/octet-stream"}catch(e){console.error("Batch compression failed:",e)}return{body:o,contentType:s,contentSize:i}}}:c}async sendRequest(e,t){const a=this.prepareRequestBody(e,t),{body:r,contentType:n,contentSize:o}=a.next?await a.next():a;return this._request({method:"event",httpMethod:"POST",body:r,headers:{"content-type":n},credentials:"omit",keepalive:o<64e3}).catch((()=>{}))}sendImmediately(e){return this.sendRequest(e,Nh())}enqueue(e){xh([e])>=64e3&&this.sendRequest({project:"eventea",event:"keepAliveDataExceed",payload:{eventName:e.event}},!0),xh([...this.batch,e])>=32e3&&this.flushEvents(),this.batch.push(e),xh(this.batch)>=32e3||this.batch.length>=this.batchMaxLen?this.sendBatch():1===this.batch.length&&(this.timer=setTimeout((()=>{this.sendBatch()}),this.batchDelay))}async sendBatch(){const e=this.batch;this.batch=[],this.timer&&(clearTimeout(this.timer),this.timer=null),0!==e.length&&await this.sendRequest(e,Nh())}flushEvents(){this.sendBatch()}}class Ph{constructor(e){this.__state={},(null==e?void 0:e.initData)&&e.initData&&(this.__state=e.initData)}add(e){const{project:t,payload:a}=e;this.__state[t]={...this.__state[t],...a}}get(e,t){if(this.__state[e])return this.__state[e][t]}get _getAll(){return this.__state}}const Ih=window;var Lh,qh,Dh,jh,Fh;function Uh(e){try{const t=new CustomEvent("__evntx10t",{bubbles:!0,detail:e});document.dispatchEvent(t)}catch(e){}}function Vh(e,t){return("string"==typeof e||"number"==typeof e||"boolean"==typeof e)&&t.includes(e)}!function(e){e[e.DiagStats=1]="DiagStats"}(Lh||(Lh={})),function(e){e[e.MissedProject=0]="MissedProject",e[e.MissedRouting=1]="MissedRouting",e[e.MissedEvent=2]="MissedEvent",e[e.MissedRoutes=3]="MissedRoutes"}(qh||(qh={})),function(e){e[e.Routed=0]="Routed",e[e.IncompleteRouting=1]="IncompleteRouting",e[e.Deprecated=2]="Deprecated",e[e.Dead=3]="Dead"}(Dh||(Dh={})),function(e){e[e.Handled=0]="Handled",e[e.MissedHandler=1]="MissedHandler",e[e.HandlerErrored=2]="HandlerErrored"}(jh||(jh={})),function(e){e[e.SendStart=0]="SendStart",e[e.SentStats=1]="SentStats"}(Fh||(Fh={}));class Bh{constructor(e){if(this.defaultEventHandlers={...e.defaultEventHandlers},this.defaultDataHandlers={...e.defaultDataHandlers},window.__evntfxb1ts||(window.__evntfxb1ts=Lh.DiagStats),this.defaultEventHandlers.postMessage=({event:e,config:t,payload:a})=>function({type:e,payload:t,config:a={}}){const{targetOrigin:r="*",payloadProperty:n}=a;Ih&&(Ih.top||Ih.opener||Ih.parent).postMessage(JSON.stringify({type:e,...n?{[n]:t}:t}),r)}({type:e,config:t,payload:a}),e.beerBaseUrl){const t=new Ah({baseUrl:e.beerBaseUrl,batching:e.batchingConfig,needBoxyBlocksProcessing:e.needBoxyBlocksProcessing,priority:e.fetchPriority,compressionEnabled:e.compressionEnabled});this.defaultEventHandlers["eventea-beer"]=e=>null==t?void 0:t.sendAbstractEvent(e)}this.routingClientLoader=e.routingClientLoader,this.projectConfigurationMap=e.projectConfigurationMap,this.errorHandlers=e.errorHandlers,this.handlersData=e.handlersData||{},this.onceSentEvents=e.onceSentEvents||new Map,this.handleAnyEvent=e.handleAnyEvent,this.eventeaDataState=new Ph({initData:e.data}),this.eventeaReferenceDataState=e.referenceData}doSend(e){var t,a,r,n;const{project:o,event:s}=e,i=this.projectConfigurationMap[o];let c=e;const u=t=>Uh({type:Fh.SentStats,event:e,stats:t});if(!i)return this.errorHandlers.handleMissedProject({event:s,project:o}),void u({status:Dh.IncompleteRouting,reason:qh.MissedProject});const l=i.routing;if(!l)return this.errorHandlers.handleMissedRouting({project:o}),void u({status:Dh.IncompleteRouting,reason:qh.MissedProject});const d=l.events;if(!d)return this.errorHandlers.handleMissedRouting({project:o}),void u({status:Dh.IncompleteRouting,reason:qh.MissedRouting});const p=d[s];if(!p)return this.errorHandlers.handleMissedEvent({event:s,project:o}),void u({status:Dh.IncompleteRouting,reason:qh.MissedEvent});if(c.payload&&"allowIfMatch"in p&&p.allowIfMatch&&(c.payload=function(e,t){const a={...e};for(const r in t)if(r in e&&r in t)for(const n in t[r])if(n in e){const o=t[r][n];Vh(e[n],o)||delete a[r]}else delete a[r];return a}(c.payload,p.allowIfMatch)),"fromData"in p&&p.fromData){const{fromData:e}=p,t={};Object.keys(e).forEach((a=>{const r=this.getDataFromState(o,a,e);void 0!==r&&(t[a]=r)})),c={...c,payload:{...t,...c.payload}}}let h=this.handlersData;if(l.statist&&(h={...h,statist:l.statist}),this.handleAnyEvent&&this.handleAnyEvent({...c,eventRouting:p,handlersData:h}),"isDeprecated"in p&&p.isDeprecated)return null===(a=(t=this.errorHandlers).handleDeprecatedEvent)||void 0===a||a.call(t,{event:s,project:o}),void u({status:Dh.Deprecated});if(!("routes"in p))return null===(n=(r=this.errorHandlers).handleMissedRoutes)||void 0===n||n.call(r,{event:s,project:o}),void u({status:Dh.IncompleteRouting,reason:qh.MissedRoutes});const f=Object.getOwnPropertyNames(p.routes);if(this.debugLogEvent(e,f),0==f.length)u({status:Dh.Dead});else{const t={};f.forEach((a=>{var r;const n=(null===(r=i.eventHandlers)||void 0===r?void 0:r[a])||this.defaultEventHandlers[a];if(!n)return this.errorHandlers.handleMissedEventHandler({project:o,event:s,routeHandlerName:a}),void(t[a]={status:jh.MissedHandler});if(e.ignoreStatist&&["statist","tracking"].indexOf(a)>=0)return;const u=p.routes[a],l={...c,config:u,handlersData:h};try{n(l),t[a]={status:jh.Handled}}catch(e){if(t[a]={status:jh.HandlerErrored,error:e},!this.errorHandlers.handleEventHandlerError)throw e;this.errorHandlers.handleEventHandlerError(e,a,l)}})),u({status:Dh.Routed,routesStats:t})}}send(e){const t=e;Uh({type:Fh.SendStart,event:t});const{project:a}=t,r=this.projectConfigurationMap[a];(null==r?void 0:r.routing)||!this.routingClientLoader?this.doSend(t):this.restoreProjectConfiguration(a).catch((()=>{Uh({type:Fh.SentStats,event:t,stats:{status:Dh.IncompleteRouting,reason:qh.MissedProject}})})).then((()=>{this.doSend(t)}))}sendOnce(e,t=!0,a=[]){const r=e,n=`${r.project}/${r.event}`;this.onceSentEvents.has(n)||this.onceSentEvents.set(n,new Set);const o=this.onceSentEvents.get(n);return!o.has(t)&&(this.send(r),a.forEach((e=>{o.add(e)})),o.add(t),!0)}doData(e){var t,a,r,n;const{project:o}=e,s=this.projectConfigurationMap[o];if(!s)return void(null===(a=(t=this.errorHandlers).handleMissedDataProject)||void 0===a||a.call(t,{project:o}));const{dataHandlers:i={}}=s,c={...this.defaultDataHandlers,...i};for(const t of Object.keys(c)){const a=c[t];"function"==typeof a?a(e):null===(n=(r=this.errorHandlers).handleMissedDataHandler)||void 0===n||n.call(r,{project:o,handlerName:t})}this.eventeaDataState.add(e)}data(e){const t=e,{project:a}=t,r=this.projectConfigurationMap[a];(null==r?void 0:r.routing)||!this.routingClientLoader?this.doData(t):this.restoreProjectConfiguration(a).finally((()=>{this.doData(t)}))}restoreProjectConfiguration(e){const t=this.projectConfigurationMap[e];return!(null==t?void 0:t.routing)&&this.routingClientLoader?this.routingClientLoader.getRouting(e).then((a=>{t?t.routing=a:this.projectConfigurationMap[e]={routing:a}}),(t=>{var a,r;throw t||null===(r=(a=this.errorHandlers).handleMissedClientRouting)||void 0===r||r.call(a,{project:e}),t})):Promise.resolve()}replicateWithData(e){const t={...this.eventeaDataState._getAll,...null==e?void 0:e.additionalDataState};return new Bh({errorHandlers:this.errorHandlers,handlersData:{...this.handlersData,...null==e?void 0:e.additionalHandlersData},projectConfigurationMap:this.projectConfigurationMap,onceSentEvents:this.onceSentEvents,defaultEventHandlers:this.defaultEventHandlers,defaultDataHandlers:this.defaultDataHandlers,data:t})}getDataFromState(e,t,a){var r,n;const o=a[t];return null!==(r=this.eventeaDataState.get(e,o))&&void 0!==r?r:null===(n=this.eventeaReferenceDataState)||void 0===n?void 0:n.get(e,o)}debugLogEvent(e,t){try{if(window.localStorage.getItem("eventeaLog")){const{project:a,event:r,payload:n}=e;console.log(`%c[Eventea]%c send event %c${a}/${r}%c to [${t.length?t.join(","):"0 routes"}]`,"background: yellow","","font-weight: bold","",null!=n?n:"")}}catch(e){}}}class Hh extends Bh{constructor(e){super(e),this.eventeaQueueObserver=new Mh({errorHandlers:{handleQueueUsageAtServer:this.errorHandlers.handleQueueUsageAtServer,handleObserverWatcherErrors:this.errorHandlers.handleObserverWatcherErrors}}),this.eventeaQueueObserver.watch=e=>{e.forEach((([e,...t])=>{var a,r,n,o;try{switch(e){case"send":this.send(...t);break;case"sendOnce":this.sendOnce(...t);break;case"data":this.data(...t);break;default:null===(r=(a=this.errorHandlers).handleUnknownMethodInQueue)||void 0===r||r.call(a,{requestType:e})}}catch(a){null===(o=(n=this.errorHandlers).handleErrorQueueEvent)||void 0===o||o.call(n,{requestType:e,requestData:t[0]})}}))}}createChild(e){const t=e.copyParentHandlersData?{...this.handlersData,...null==e?void 0:e.handlersData}:e.handlersData;return new Bh({referenceData:e.includeParentDataState?this.eventeaDataState:void 0,defaultDataHandlers:this.defaultDataHandlers,defaultEventHandlers:this.defaultEventHandlers,errorHandlers:this.errorHandlers,handlersData:t,projectConfigurationMap:this.projectConfigurationMap,routingClientLoader:this.routingClientLoader})}}var Yh=a(24367);function $h(e){return e.toLowerCase()}var Jh=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Kh=/[^A-Z0-9]+/gi;function zh(e,t,a){return t instanceof RegExp?e.replace(t,a):t.reduce((function(e,t){return e.replace(t,a)}),e)}function Gh(e,t){var a=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&a>="0"&&a<="9"?"_"+a+r:""+a.toUpperCase()+r}function Xh(e,t){return 0===t?e.toLowerCase():Gh(e,t)}function Wh(){if(window.tracking&&tracking._prot)return window.tracking}function Qh({statistClient:e}){return window.__eventeaStatistSignedPayload=!0,({event:t,payload:a,project:r,config:n,handlersData:o})=>{var s;let i=a||{};if(!function(e){return"object"==typeof e&&null!==e}(n))throw new Error("Unknown config for statist handler");{const a=`eventea.projects.${void 0===c&&(c={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var a=t.splitRegexp,r=void 0===a?Jh:a,n=t.stripRegexp,o=void 0===n?Kh:n,s=t.transform,i=void 0===s?$h:s,c=t.delimiter,u=void 0===c?" ":c,l=zh(zh(e,r,"$1\0$2"),o,"\0"),d=0,p=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(p-1);)p--;return l.slice(d,p).split("\0").map(i).join(u)}(e,(0,Qt.__assign)({delimiter:"",transform:Gh},t))}(r,(0,Qt.__assign)({transform:Xh},c))}`,u=n.fullName||t,l=Wh(),d=o&&o.statist?o.statist:void 0;if(d&&d.commonParams&&l){const e={};for(const t of Object.keys(d.commonParams)){const{deprecated:a}=d.commonParams[t];!a&&t in l._prot.dataPool&&(e[t]=l._prot.dataPool[t])}i={...l._prot.collectDataElements(e),...i}}i.eventea=!0,e.send(a,u,i);const p=null===(s=n.userProperties)||void 0===s?void 0:s.increment;p&&e.updateUserProperties(a,"increment",p)}var c}}const Zh=async e=>{const{timeout:t=5e3,url:a}=e,r=new AbortController,n=((e,t)=>setTimeout((()=>e.abort()),t))(r,t),o=await fetch(a,{...e,signal:r.signal});return clearTimeout(n),o},ef=async(e,t)=>{var a;const{retry:r,retryTimeout:n}=(e=>{const t={timeout:null==e?void 0:e.timeout,retry:null==e?void 0:e.retry,retryTimeout:null==e?void 0:e.retryTimeout};return t.retry=t.retry?t.retry:t.timeout&&t.retryTimeout?t.timeout/t.retryTimeout:2,t.retryTimeout=t.retryTimeout?t.retryTimeout:t.timeout&&t.retry?t.timeout/t.retry:2500,t.timeout=t.timeout?t.timeout:t.retryTimeout&&t.retry?t.retryTimeout*t.retry:15e3,t})(t);let o,s,i;for(const t of function*(){let t=0;for(;t<r;)yield Zh({url:e,timeout:n}),t+=1}())try{o=await t;break}catch(e){s=e;continue}if(!o)throw s;return(null===(a=o.headers.get("content-type"))||void 0===a?void 0:a.includes("application/json"))?i=await o.json():o&&(i=await o.text()),{status:o.status,body:i}},tf=e=>{if(e&&"object"==typeof e){const t=e;return!(!t.version||!t.events||"v4"!==t.version)}return!1},af=e=>[`${JSON.stringify(e)}: doesn't match a valid v4 routing schema`];class rf{constructor(e){this.currentRequest=null,this.makeRequest=()=>{this.currentRequest=this.request(this.url,{timeout:this.timeout}),this.currentRequest.then((e=>{e.status>=400?this.handleRequestError({project:this.project,status:e.status}):tf(e.body)?this.currentRouting=e.body:this.handleRequestError({project:this.project,validationErrors:af(e.body)})}),(e=>{this.handleRequestError({project:this.project,reason:e})})).finally((()=>{this.currentRequest=null}))};const{url:t,baseUrl:a,projectName:r,timeout:n=5e3,fallback:o}=e;if(this.project=r,this.url=t||((e,t)=>{let a=t;return t.endsWith("/")||(a+="/"),`${a}v4/${e}.json`})(r,a),this.handleRequestError=e.handleRequestError,this.timeout=n,this.request=ef,o){if(!tf(o)){const t=af(e.fallback);throw new Error(`fallback должен быть валидным роутингом:\n${t.join("\n")}`)}this.fallback=o}}handleRequest(){this.currentRouting||this.currentRequest||this.makeRequest()}getRouting(){return this.handleRequest(),this.currentRouting?Promise.resolve(this.currentRouting):this.currentRequest?this.currentRequest.then((()=>this.currentRouting||this.fallback||Promise.reject(void 0)),(()=>this.fallback?this.fallback:Promise.reject(void 0))):Promise.reject(void 0)}}const nf=()=>({});class of{constructor(e){this.projectSingleLoaders={},this.getSingleLoaderInstance=e=>{const t="string"==typeof e?e:e.projectName,a="string"==typeof e?void 0:e.fallback;return new rf({projectName:t,fallback:a,handleRequestError:this.handleRequestError,timeout:this.timeout,baseUrl:this.baseUrl})},this.getPreloadRoutings=()=>{for(const e of this.preloadProjects){const t="string"==typeof e?e:e.projectName;this.projectSingleLoaders[t]=this.getSingleLoaderInstance(e),this.projectSingleLoaders[t].handleRequest()}},this.addNewLoaderInstance=e=>(this.projectSingleLoaders[e]=this.getSingleLoaderInstance(e),this.projectSingleLoaders[e]);const{baseUrl:t,preloadProjects:a,timeout:r,handleRequestError:n}=e;this.preloadProjects=a,this.baseUrl=t,this.timeout=r,this.handleRequestError=n||nf,this.getPreloadRoutings()}async getRouting(e){return e in this.projectSingleLoaders?this.projectSingleLoaders[e].getRouting():this.addNewLoaderInstance(e).getRouting()}}var sf=a(24592);const cf={trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},uf=(0,c.J)({provide:Yh.j5,useFactory:({logger:e,analytics:t})=>{const a=e({name:"eventea-logger",defaults:{remote:!0}});let r="hasNotFetchedYet";return t&&t?.waitFor("personalizedLandingMetrics").then((()=>{const{personalizedLandingMetrics:e}=t.state;if(!e)return void a.error("Unable to resolve personalizedLandingMetrics in analytics module.");const{state:{dcoGeneralId:n=""}}=e;n&&(r=n)})).catch((e=>{a.error({event:"eventea-dco-monitoring-error",error:e})})),function({event:e,payload:t,config:n,project:o,handlersData:s}){const i=n?.level||n;var c;if("string"==typeof i&&cf[i]&&i in a){if(0===(c=n?.samplingRate??1)||1===c?c:Math.random()<=c){const n=s?{...s,statist:void 0}:s;a[i]({event:e,eventeaProject:o,payload:t,handlersData:n,dcoGeneralId:r})}}else a.error({event:"eventea-wrong-logs-config",originalEvent:e,originalLevel:i})}},deps:{logger:k.Fp,analytics:{token:sf.t3,optional:!0}}});var lf=a(18422);const df="5.71.9",pf=(0,c.J)({provide:Yh.q2,useFactory:({analytics:e,logger:t})=>{const a=t({name:"eventea-logger-tracking",defaults:{remote:!0}});if(!e)return void t.warn("There is no analytics module, EVENTEA_TRACKING_HANDLER WILL NOT WORK");const r=e.callUtil("makeEventeaHandler");let n=!1;return t=>{n?(0,lf.OR)(e,t):r.then((e=>{e(t)})).catch((e=>{n=!0,a.error({event:`Unable to resolve makeEventeaHandler. Fallback to twt-eventea-handler v${df}`,error:e})}))}},deps:{analytics:{token:sf.t3,optional:!0},logger:k.Fp}}),hf=(0,c.J)({provide:Yh.g3,useFactory:({analytics:e,logger:t})=>{const a=t({name:"eventea-logger-twt-data",defaults:{remote:!0}});if(!e)return void t.warn("There is no analytics module, EVENTEA_TWT_DATA_HANDLER WILL NOT WORK");const r=e.callUtil("makeEventeaDataHandler");let n=!1;return t=>{n?(0,lf.x4)(e,t):r.then((e=>{e(t)})).catch((e=>{n=!0,a.error({event:`Unable to resolve makeEventeaDataHandler util. Fallback to twt-eventea-data-handler v${df}`,error:e})}))}},deps:{analytics:{token:sf.t3,optional:!0},logger:k.Fp}}),ff=(0,Rt.y)("set routing map"),mf=(0,Mt.L)("eventea",{routingMap:{}}).on(ff,((e,t)=>({routingMap:t}))),gf=[{provide:L.Ym,multi:!0,useValue:[mf]}];var vf;const yf={routingMap:Yh.rF,errorHandlers:Yh.nM,projectHandlersList:{token:Yh.eW,multi:!0},envManager:O.vC,appInfo:h.Qo,defaultEventHandlers:{token:Yh.qq,multi:!0},defaultDataHandlers:{token:Yh.qJ,multi:!0},clientLoaderTimeout:Yh.lb,selectPreloadProjects:Yh.X9};let bf=vf=class{static forRoot({projects:e}){const t=e.map((({project:e,fallbackForServer:t})=>(0,c.J)({provide:Yh.eW,multi:!0,useFactory:({logger:a})=>(t&&a("eventea-logger-module-forRoot").error([`You passed fallbackForServer to the client for project ${e}, this will bloat your client build.`,"See eventea documentation on how this can be avoided."].join("\n")),{project:e}),deps:{logger:k.Fp}})));return{mainModule:vf,providers:t}}};bf=vf=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:[...gf,(0,c.J)({provide:Yh.X9,useFactory:({envManager:e})=>{const t="true"===e.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING");return function(e){return t?e:[]}},deps:{envManager:O.vC}}),{provide:Yh.Bv,useFactory({routingMap:e,errorHandlers:t,projectHandlersList:a,envManager:r,appInfo:n,defaultEventHandlers:o,defaultDataHandlers:s,clientLoaderTimeout:i,selectPreloadProjects:c}){const u=(()=>{const e=Object.create(null);return{useEvent:({project:t,event:a})=>{e[t]||(e[t]=Object.create(null)),e[t][a]=!0},getUsedEvents:()=>Object.keys(e).map((t=>({projectName:t,eventList:Object.keys(e[t])})))}})(),l=r?.get("EVENTEA_PROJECTS"),d=([...a,...(l&&l.match(/[a-zA-Z0-9\-\_]+/g)||[]).map((e=>({project:e})))]||[]).reduce(((t,a)=>(t[a.project]={eventHandlers:a.eventHandlers,dataHandlers:a.dataHandlers,routing:e[a.project]},t)),{}),p=o.reduce(((e,{name:t,handler:a})=>({...e,[t]:a})),{}),h=s.reduce(((e,{name:t,handler:a})=>({...e,[t]:a})),{}),f=c(Object.keys(d)),m=r.get("EVENTEA_BEER_URL")?new Ah({baseUrl:r.get("EVENTEA_BEER_URL")}):void 0,g=new of({preloadProjects:f,handleRequestError:({project:e,status:t})=>{m&&m.event({project:"eventea",event:"client-loader-error",payload:{projectName:e,status:t},handlersData:{appName:n.appName}})},baseUrl:r?.get("EVENTEA_LOADER_URL"),timeout:i}),v=new Hh({projectConfigurationMap:d,errorHandlers:t,beerBaseUrl:r.get("EVENTEA_BEER_URL"),handlersData:{appName:n.appName,appVersion:r.get("APP_VERSION"),appRelease:r.get("APP_RELEASE")},handleAnyEvent:e=>{u.useEvent(e)},defaultEventHandlers:p,defaultDataHandlers:h,routingClientLoader:g,batchingConfig:{batchingEnable:"true"===r.get("EVENTEA_CLIENT_BATCHING_ENABLE"),batchSize:Number(r.get("EVENTEA_CLIENT_BATCH_SIZE")),batchDelay:Number(r.get("EVENTEA_CLIENT_BATCH_DELAY"))},needBoxyBlocksProcessing:"true"===r.get("EVENTEA_CLIENT_BOXY_BLOCKS_PROCESSING_ENABLE"),fetchPriority:r.get("EVENTEA_CLIENT_FETCH_PRIORITY"),compressionEnabled:"true"===r.get("EVENTEA_IS_COMPRESSION_ENABLED")});return window.addEventListener("pagehide",(()=>{const e=u.getUsedEvents();e.length&&e.forEach((({projectName:e,eventList:t})=>{v.sendOnce({project:"eventea",event:"usage-stats",payload:{projectName:e,eventList:t}},e)}))})),window.__eventea=v,v},deps:yf},{provide:Yh.rF,useFactory:({context:e})=>e.getState(mf).routingMap,deps:{context:Sa.l}},{provide:Yh.nM,useFactory({logger:e}){const t=e("eventea-error-handlers");return{handleMissedEvent:({event:e,project:a})=>{t.error({event:"eventea-missed-event",project:a,eventName:e})},handleMissedEventHandler:({event:e,routeHandlerName:a,project:r})=>{t.error({event:"eventea-missed-event-handler",eventName:e,project:r,routeHandlerName:a})},handleMissedProject:({event:e,project:a})=>{t.error({event:"eventea-missed-project",project:a,eventName:e})},handleMissedRouting:({project:e})=>{t.error({event:"eventea-missed-routing",project:e})},handleMissedDataHandler:({project:e,handlerName:a})=>{t.error({event:"eventea-missed-data-handler",project:e,handlerName:a})},handleMissedDataProject:({project:e})=>{t.error({event:"eventea-missed-data-project",project:e})},handleMissedRoutes:({project:e,event:a})=>{t.error({event:"eventea-missed-routes",project:e,eventName:a})},handleDeprecatedEvent:({project:e,event:a})=>{t.info({event:"eventea-deprecated-event",project:e,eventName:a})},handleEventHandlerError:(e,a,{project:r,event:n})=>{t.error({event:"eventea-handler-error",project:r,eventName:n,handlerName:a,error:e})}}},deps:{logger:k.Fp}},pf,hf,uf,{provide:Yh.lb,useValue:5e3},(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"eventea"}}),(0,c.J)({provide:Yh.Yw,useFactory:({statistClient:e,logger:t})=>{if(e)return Qh({statistClient:e});t.warn("There is no statist event api client, EVENTEA_STATIST_HANDLER WILL NOT WORK")},deps:{statistClient:{token:Ct.se,optional:!0},logger:k.Fp}}),(0,c.J)({provide:Yh.qq,useFactory:({statistHandler:e})=>({name:"statist",handler:e}),deps:{statistHandler:Yh.Yw},multi:!0}),(0,c.J)({provide:Yh.qq,useFactory:({logsHandler:e})=>({name:"logs",handler:e}),deps:{logsHandler:Yh.j5},multi:!0}),(0,c.J)({provide:Yh.qq,useFactory:({trackingHandler:e})=>({name:"tracking",handler:e}),deps:{trackingHandler:Yh.q2},multi:!0}),(0,c.J)({provide:Yh.qJ,useFactory:({twtDataHandler:e})=>({name:"twt",handler:e}),deps:{twtDataHandler:Yh.g3},multi:!0}),(0,c.J)({provide:P.init,useFactory:({di:e})=>()=>{e.get(Yh.Bv)},deps:{di:ya.Z}})]})],bf);var _f=a(20596),Ef=a.n(_f),Sf=a(21461),wf=a.n(Sf),kf=a(72446),Of=a.n(kf);const Tf={sessionId:void 0,sessionWillExpireIn:0,accessLevel:"ANONYMOUS",millisLeft:0,userId:null,requested:!1},Cf={session:Tf};class Rf{constructor({apiClient:e,dispatcher:t,cookie:a,initialState:r,sessionCookieName:n,logger:o}){this.state=Cf,this.sessionRequestPromiseResolve=null,this.sessionRequestPromise=null,this.dispatcher=t,this.apiClient=e,this.cookie=a,this.sessionCookieName=n,this.logger=o("session-manager"),this.logger.debug("SSO session-manager initialization"),r&&this.setState(r),this.setSessionRequestPromise()}async updateSessionStatus(e){return this.fetchOrCreateSession(e).then(Of()((e=>this.saveAndDispatchSession(e))))}getSessionId(){return this.getSessionIdFromCookie()}async authenticate(){return this.isAuthenticated()?(this.resolveSessionRequestPromise(),Promise.resolve()):this.runAuthenticateFlow()}async logout(){return this.resetSessionOnServer().then(this.resetSessionOnClient.bind(this)).then(this.noSessionAuthFlow.bind(this))}async fetchSessionId(){return this.getSessionRequestPromise()}async replaceWithNewSession(){return this.resetSessionOnServer().then(this.noSessionAuthFlow.bind(this))}async prolongateSession(e){return this.pingSession(e).then(this.updateSessionStatus.bind(this)).catch(Qn())}async runAuthenticateFlow(){const e=this.getSessionIdFromCookie();return e?this.hasSessionAuthFlow(e):this.noSessionAuthFlow()}async noSessionAuthFlow(){return this.logger.debug("No session auth flow"),this.createSession().then(this.saveAndDispatchSession.bind(this))}async hasSessionAuthFlow(e){return this.logger.debug("Has session auth flow"),this.updateSessionStatus(e)}async fetchOrCreateSession(e){return e?(this.setSessionRequestPromise(),this.fetchSessionStatus(e).catch((e=>{const t=il()(["response","errorMessage"],e);if(t&&wf()("Session is absent",t))return this.createSession();throw e}))):this.createSession()}async createSession(){return this.setSessionRequestPromise(),this.apiClient.request({path:"session",cache:!1,withoutSession:!0}).then((({payload:e})=>e)).then(this.fetchSessionStatus.bind(this)).catch((()=>Tf))}async saveSession({sessionId:e,millisLeft:t,accessLevel:a="ANONYMOUS",userId:r,...n}=Tf){this.logger.debug(`Saving session with accessLevel: ${a}`);const o=(new Date).getTime()+t;this.setSessionIdToCookie(e,t);const s={...n,accessLevel:a,sessionId:e,sessionWillExpireIn:o,userId:r,requested:!0};return this.setState({session:s}),s}async resetSessionOnClient(){return this.logger.debug("Resetting session on client"),this.saveAndDispatchSession(Tf)}async resetSessionOnServer(){return this.setSessionRequestPromise(),this.apiClient.request({path:"sign_out",cache:!1,query:{sessionid:this.getSessionId()}}).then((({payload:e})=>e))}async dispatchStatusChanged(){return this.dispatcher({action:"STATUS_CHANGED",payload:this.getState()})}async saveAndDispatchSession(e){return Promise.resolve().then((()=>this.saveSession(e))).then(this.dispatchStatusChanged.bind(this)).finally((()=>this.resolveSessionRequestPromise()))}async pingSession(e){return this.setSessionRequestPromise(),this.apiClient.request({path:"ping",cache:!1,silent:!0,query:{sessionid:e}}).then((()=>e))}isAuthenticated(){const{session:{sessionWillExpireIn:e}}=this.getState();return Ef()(e)&&e>Date.now()}getSessionCookieName(){return this.sessionCookieName||"psid"}getSessionIdFromCookie(){return this.cookie.get(this.getSessionCookieName())}getSessionCookiePath(e,t){}setSessionIdToCookie(e,t){const a={expires:t/1e3,name:this.getSessionCookieName(),value:e},r=this.getSessionCookiePath(e);if(r)this.logger.debug(`Setting psid cookie path to ${r}`),a.path=r;else{this.logger.debug("psid cookie path is not set, checking context_psid cookie");const t=this.getSessionCookiePath(e,!1);t&&(this.logger.debug(`Deleting context_psid and psid cookies with invalid sessionId with path: ${t}`),this.cookie.set({name:"context_psid",value:"",expires:-1,path:t}),this.cookie.set({name:"psid",value:"",expires:-1,path:t}))}this.logger.debug("Setting psid cookie"),this.cookie.set(a)}async fetchSessionStatus(e){return this.apiClient.request({path:"session_status",cache:!1,silent:!0,query:{sessionid:e}}).then((({payload:t})=>({sessionId:e,...t})))}setSessionRequestPromise(){this.sessionRequestPromise||(this.sessionRequestPromise=new Promise((e=>{this.sessionRequestPromiseResolve=e})))}resolveSessionRequestPromise(){var e;null===(e=this.sessionRequestPromiseResolve)||void 0===e||e.call(this,this.getSessionId()),this.sessionRequestPromise=null,this.sessionRequestPromiseResolve=null}getSessionRequestPromise(){return this.sessionRequestPromise||Promise.resolve(this.getSessionId())}getState(){return this.state}setState(e){this.state={...this.getState(),...e}}}(0,Qt.__decorate)([(e,t,a)=>{const r=a.value,n=Symbol(`${String(t)}_inflight`);return a.value=function(...e){if(this[n])return this[n];const t=r.apply(this,e);return this[n]=t,t.finally((()=>delete this[n])),t},a}],Rf.prototype,"replaceWithNewSession",null);const Mf=(0,u.V3)("sessionManager");class Nf extends Rf{async fetchSessionStatus(e){const t=(a=3)=>super.fetchSessionStatus(e).catch((e=>{if((fn()(e)||!e.errorId)&&a>0)return new Promise((e=>{setTimeout(e,500)})).then((()=>t(a-1)));throw e}));return t()}getSessionCookiePath(e,t=!0){const a=this.cookie.get("context_psid");if(a)try{if(t){if(!e)return void this.logger.debug("getSessionCookiePath (strict): sessionId is undefined");if(a.slice(0,8)!==e.slice(0,8))return void this.logger.debug("getSessionCookiePath (strict): contextSessionIdPrefix is not equal to sessionId prefix")}return this.logger.debug("getSessionCookiePath: returning SessionCookiePath from context_psid"),window.atob(a.slice(8))}catch(e){return}else this.logger.debug("getSessionCookiePath: contextPsidCookieValue is undefined")}}var xf=a(37695);var Af=a(27049),Pf=a(10521),If=a.n(Pf),Lf=a(21139),qf=a(82592),Df=a(88949),jf=a.n(Df);const Ff=["size","thickness","color","className","dataQaData","dataQaType","style"],Uf={xxs:12,xs:16,s:24,m:32,l:40,xl:56,xxl:80},Vf=e=>{let{size:t="xl",thickness:a,color:r="var(--tui-background-accent-1, #FFDD2D)",className:n,dataQaData:o,dataQaType:s="tui/spinner",style:i={}}=e,c=(0,or.Z)(e,Ff);const u="string"==typeof t?Uf[t]:t;let l=null!=a?a:u/12;l=l>1.5?l:1.5;const d=100*l/u,p=(100-d)/2,h=2*Math.PI*p;return nr().createElement("svg",Object.assign({},(0,Lf.k)({dataQaData:o,dataQaType:s}),{focusable:"false"},c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:If()(jf().svg,jf().rotate,n),"data-size":u,style:(0,sr.Z)({"--t-color":r,"--t-size":(0,qf.a)(u),"--t-radius":(0,qf.a)(p),"--t-thickness":(0,qf.a)(d),"--t-diameter":(0,qf.a)(h)},i)}),nr().createElement("circle",{cx:"50",cy:"50",r:p,strokeDasharray:h,className:jf().circle}))};var Bf=a(81510),Hf=a.n(Bf),Yf=a(87300),$f=a.n(Yf);const Jf=e=>{const[t,a=""]=e.split(".");return`${t.slice(0,12)+$f()(t.slice(12).length,"*")}.${a}`},Kf={sessionid:Jf,ticket:e=>$f()(e.length,"*")},zf="authComplete",Gf={theme:"context",display:"page",origin:"web,ib5,platform",warmup:'{"origin":"web,ib5,platform"}'},Xf=({data:e})=>e&&!e.data&&"string"==typeof e.messageCode||"contextSsoAuthPostComplete"===(null==e?void 0:e.source),Wf=Hf()("source","sso-context-auth-form"),Qf=({data:e})=>Wf(e)&&void 0!==e.offsetHeight,Zf=()=>{const e=Date.now();return()=>{const t=(Date.now()-e)/1e3;return Number(t.toFixed(2))}},em=e=>{if("object"!=typeof e||null===e)return e;const t={...e},{sessionid:a,sessionId:r}=t;return a&&"string"==typeof a&&(t.sessionid=Jf(a)),r&&"string"==typeof r&&(t.sessionId=Jf(r)),t};var tm=a(50124);const am="auth:context:begin",rm="auth:context:mounted",nm={position:"absolute",textAlign:"center",top:0,left:0,width:"100%",height:"100%",minHeight:"64px"},om={fontSize:"30px",margin:"26px 0 12px"},sm={fontSize:"20px",marginBottom:"5px",color:"#0000ee",backgroundColor:"initial",border:"none",outline:"none",cursor:"pointer"},im=({handleReloadButtonClick:e,title:t,reloadText:a})=>(0,Ys.jsxs)("div",{style:nm,"data-testid":"sso:context:message",children:[(0,Ys.jsx)("div",{style:om,"data-testid":"sso:context:message:title",children:t}),(0,Ys.jsx)("button",{"data-testid":"sso:context:message:reload-button",style:sm,type:"button",onClick:e,children:a})]}),cm=({handleReloadButtonClick:e})=>(0,Ys.jsx)(im,{title:"Загрузка...",reloadText:"Перезагрузить форму",handleReloadButtonClick:e}),um=({handleReloadButtonClick:e})=>(0,Ys.jsx)(im,{title:"Произошла ошибка",reloadText:"Попробовать ещё раз",handleReloadButtonClick:e}),lm=(0,po.H)({name:"sendStatistEvent",fn({eventName:e,eventPayload:t}){const{eventea:a,pageService:r,cookieManager:n,appInfo:o}=this.deps,s={appId:null==o?void 0:o.appName,wuid:n.get("wuid"),url:r.getCurrentUrl()};return a.sendOnce({project:"sso-context-auth-module",event:e,payload:{...s,...null!=t?t:{}}})},deps:{pageService:Pt.Y9,appInfo:h.Qo,cookieManager:na.T,eventea:Yh.Bv}});var dm=a(72844),pm=a.n(dm);const hm={display:"block",border:"none",overflow:"hidden"},fm=({width:e="100%",height:t="96px",loadingTimeout:a=12e4,phone:r,onSuccess:n=Qn(),onStatusChange:o=Qn(),authEndpoint:s="session/context",theme:i,renderTimeoutMessage:c=(e=>(0,Ys.jsx)(cm,{handleReloadButtonClick:e})),renderErrorMessage:u=(e=>(0,Ys.jsx)(um,{handleReloadButtonClick:e}))})=>{var l;const{envManager:d,logger:p,sessionManager:h,pubsub:f,completeUri:m,postCompleteRedirectUri:g,customCookiePath:v,cookieManager:y}=(0,xi.x)({envManager:O.vC,logger:k.Fp,sessionManager:Mf,pubsub:Ka,customCookiePath:{token:tm.K8,optional:!0},completeUri:{token:tm._x,optional:!0},postCompleteRedirectUri:{token:tm.xw,optional:!0},cookieManager:na.T}),b=null!==(l=((e,t)=>{const a=t.__values?.[e],r=(0,Xt.X)(e,t);return void 0===a&&null!==r?r:a})("module:sso-context-auth:cookie-path-enabled",(0,xf.Z)()))&&void 0!==l&&l,_=(0,Af.o)(lm),E=(0,rr.useMemo)((()=>(e=>{const{envManager:t,completeUri:a,authEndpoint:r,postCompleteRedirectUri:n,phone:o,theme:s}=e,i=t.get("SSO_CONTEXT_AUTH_TINKOFF_API")||t.get("TINKOFF_API"),c=t.get("SSO_CONTEXT_AUTH_TINKOFF_API")||`${t.get("TINKOFF_API")}${r}/authorize`,u={...Gf};if(i){const e=`${r}/check_auth/?source=context-auth`;u.complete_uri=nn(i,a||e)}return i&&n&&(u.post_complete_redirect_uri=nn(i,n)),o&&(u.phone=o),s&&(u.theme=s),cn(c,u).toString()})({envManager:d,completeUri:m,authEndpoint:s,postCompleteRedirectUri:g,phone:r,theme:i})),[d,m,g,r,s,i]),[S,w]=(0,rr.useState)(t),[T,C]=(0,rr.useState)("standby"),[R,M]=(0,rr.useState)(0),N=(0,rr.useRef)(null),x=(0,rr.useMemo)((()=>p({name:"sso-context-auth"})),[p]),A=(0,rr.useMemo)(Zf,[R]),P=(0,rr.useRef)(o);(0,rr.useEffect)((()=>{P.current=o}),[o]),(0,rr.useEffect)((()=>{var e;null===(e=P.current)||void 0===e||e.call(P,T)}),[T]);const I=(0,rr.useCallback)((e=>{var t;if(!(({data:e})=>Wf(e)&&"mount"===e.type)(e)&&!Qf(e)||"loading"!==T&&"timeout"!==T||(C("loaded"),_({eventName:"PFCore.SSOContextAuthModule.initiationSuccess"}),x.debug({event:"iframe-loaded",loadingTime:A()})),(e=>!!Xf(e)&&(e.data.messageCode===zf&&void 0!==e.data.error||"authError"===e.data.messageCode||"authPrepareError"===e.data.messageCode))(e)){const{accessLevel:t,errorStatus:a,errorMessage:r}=e.data;return _({eventName:"PFCore.SSOContextAuthModule.authorizationFailure",eventPayload:{accessLevel:t,errorStatus:a,errorMessage:r}}),x.error({event:"iframe-auth-failure",data:em(e.data)}),void C("error")}if((e=>Xf(e)&&e.data.messageCode===zf&&void 0===e.data.error)(e)){const a=(null===(t=e.data)||void 0===t?void 0:t.sessionId)||"";x.debug("Checking if possible to set context_psid cookie");try{x.debug(`cookiePathEnabled: ${Boolean(b)}, customCookiePath: ${Boolean(v)}, sessionId: ${Boolean(a)}`)}catch(e){x.debug(`Error while logging cookiePathEnabled, customCookiePath or sessionId: ${e}`)}return b&&v&&a&&(x.debug("Setting context_psid cookie"),y.set({name:"context_psid",path:v,value:`${a.slice(0,8)}${window.btoa(v)}`})),void h.updateSessionStatus(a).then((()=>{x.debug({event:"iframe-auth-success",data:em(e.data)}),n({accessLevel:e.data.accessLevel||""})})).catch((t=>{x.error({event:"iframe-auth-session-update-error",error:t}),n({accessLevel:e.data.accessLevel||""})})).finally((()=>{const{accessLevel:t="ANONYMOUS",juniorFlg:a=!1}=e.data;_({eventName:"PFCore.SSOContextAuthModule.authorizationSuccess",eventPayload:{accessLevel:t,juniorFlg:a.toString()}})})).catch((e=>{x.error({event:"iframe-auth-send-metrics-error",error:e,message:"Something went wrong in sendStatistEvent after success auth"})}))}Qf(e)&&(x.debug({event:"iframe-resize",height:e.data.offsetHeight}),w(e.data.offsetHeight||0))}),[T,_,x,A,b,v,h,y,n]);(0,rr.useEffect)((()=>(x.debug({event:"attach-event-listener"}),window.addEventListener("message",I),()=>window.removeEventListener("message",I))),[x,I]),(0,rr.useEffect)((()=>("loading"===T&&(N.current=setTimeout((()=>{x.error({event:"loading-timeout"}),_({eventName:"PFCore.SSOContextAuthModule.initiationFailure"}),C("timeout")}),a)),()=>{clearTimeout(N.current)})),[a,x,_,T]),(0,rr.useEffect)((()=>{const e=f.subscribe(am,(()=>{C("loading")}));return f.publish(rm),()=>{e()}}),[f]);const L=(0,rr.useCallback)((()=>{M(R+1),C("loading"),x.info({event:"auth-reloaded",loadingTime:A()})}),[R,x,A]),q=(0,rr.useMemo)((()=>({...hm,visibility:"loaded"===T?"visible":"hidden"})),[T]);return"standby"===T?null:(0,Ys.jsxs)("div",{className:pm().container,children:[(0,Ys.jsx)("iframe",{title:"Авторизация",width:e,height:S,src:E,style:q,scrolling:"no",id:"sso-context-auth-iframe"},R),"loading"===T&&(0,Ys.jsx)("div",{className:pm().loader,children:(0,Ys.jsx)(Vf,{size:"xl"})}),"timeout"===T&&c(L),"error"===T&&u(L)]})};fm.displayName="SsoContextAuth";var mm=a(63472),gm=a.n(mm),vm=a(8958),ym=a.n(vm),bm=a(65165),_m=a.n(bm);const Em=(e,t,a)=>{var r;const n=null!==(r=Uc()(t,{},e))&&void 0!==r?r:{};return Bd()(((e,t)=>e===n[t]),a)?e:{...e,[t]:{...n,...a}}},Sm=fo()(_m()),wm=e=>Sm(e),km="CORE",Om=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE"],Tm={0:"ANONYMOUS",5:"AUTHENTICATED",20:"APPLICANT",30:"CANDIDATE",35:"REGISTERED",40:"CLIENT",50:"EMPLOYEE"},Cm=Om.reduce(((e,t)=>(e[t]=t,e)),Object.create(null)),Rm=()=>({...wm(Cm),[Cm.ANONYMOUS]:!0}),Mm=(e,t)=>{if(t===Cm.ANONYMOUS)return Em(e,km,Rm());let a=!0;const r=Om.reduce(((e,r)=>(e[r]=a,r===t&&(a=!1),e)),{});return Em(e,km,r)},Nm=Uc()(km,{}),xm=(ym()([km,Cm.AUTHENTICATED],gm()),Ml()([km,Cm.REGISTERED],!0)),Am=(Ml()([km,Cm.CLIENT],!0),Om.length),Pm=(0,Rt.y)("UPDATE_ROLES"),Im={[km]:Rm()},Lm=(0,Mt.L)("roles",Im).on(Pm,((e,t)=>t)),qm=(0,n.J)({name:"SsoContextAuthModule",imports:[At,bf],providers:[(0,c.J)({provide:tm.cQ,useValue:fm}),(0,c.J)({provide:O.sQ,useValue:[{key:"SSO_CONTEXT_AUTH_TINKOFF_API",optional:!0,dehydrate:!0,validator:y},{key:"TINKOFF_API",optional:!0,dehydrate:!0}],multi:!0}),(0,c.J)({provide:vl,multi:!0,useClass:class{constructor(e){this.store=e.store,this.pubsub=e.pubsub,this.logger=e.logger("auth:sso:context"),this.mutex=((e,t)=>{const a={authRequested:!1,componentPending:!1,authorized:!1},r=e.subscribe(rm,(()=>{null==t||t.debug({message:"component mounted"}),a.authRequested||a.authorized?(e.publish(am),null==t||t.debug({message:"running auth"})):(a.componentPending=!0,null==t||t.debug({message:"deferring auth until strategy allows to do so"}))}));return null==t||t.debug({message:"auth mutex initialized"}),{requestAuth:()=>{a.authRequested=!0,null==t||t.debug({message:"auth requested from strategy"}),a.componentPending&&(null==t||t.debug({message:"running auth on previously mounted component"}),a.componentPending=!1,e.publish(am))},markAsAuthorized:()=>{a.authorized=!0},cleanup:()=>{r(),null==t||t.debug({message:"auth mutex unsubscribed"})},getState:()=>({...a})}})(this.pubsub,this.logger)}authenticate({pass:e}){this.logger.debug({message:"SsoContextAuthStrategy authenticate method called"});const t=this.store.getState(Lm);xm(t)?(this.logger.debug({message:"auth skipped - already authorized"}),this.mutex.markAsAuthorized()):this.mutex.requestAuth(),e()}cleanup(){this.mutex.cleanup()}get name(){return"SsoContextAuthStrategy"}},deps:{pubsub:Ka,logger:k.Fp,store:L.kR}})],extend:{forRoot(e){const t=[];return e.completeUri&&t.push((0,c.J)({provide:tm._x,useValue:e.completeUri})),e.postCompleteRedirectUri&&t.push((0,c.J)({provide:tm.xw,useValue:e.postCompleteRedirectUri})),t}}}),Dm="SsoTimeout";class jm{constructor({sessionManager:e,envManager:t,cookieManager:a,store:r,logger:n,apiAuthMethod:o}){this.sessionManager=e,this.store=r,this.logger=n,this.envManager=t,this.cookieManager=a,this.apiAuthMethod=o}async onAuthComplete(e){return function({sessionId:e,accessLevel:t,hasSsoToken:a}={}){return!(!e||!t||t===Cm.ANONYMOUS&&!a)}(e)?this.sessionManager.updateSessionStatus(e.sessionId):Promise.reject()}shouldPass(){const e=this.store.getState(Lm);return xm(e)}async authenticate({success:e,pass:t}){return this.shouldPass()?t():this.authenticateViaHiddenFrame().then(this.onAuthComplete.bind(this)).then(e).catch(t)}createHiddenAuthFrame(){const e=function(e,{origin:t="web,ib5,platform",...a}={},r=null){const n=e.get("SSO_AUTH_TINKOFF_API")||e.get("TINKOFF_API");return cn(`${n}${r||"session/authorize"}`,{origin:t,...a})}(this.envManager,{prompt:"none"},this.apiAuthMethod),t=document.createElement("iframe");return t.style.width="0px",t.style.height="0px",t.style.position="absolute",t.style.left="-4000px",t.src=e.toString(),t}createAuthMessageHandler(){let e=()=>{};const t=new Promise((t=>{const a=e=>{(function({data:e}){return!(!e||e.data||"string"!=typeof e.messageCode||"authComplete"!==e.messageCode&&"authError"!==e.messageCode&&"authPrepareError"!==e.messageCode)})(e)&&t(e.data)};e=()=>window.removeEventListener("message",a),window.addEventListener("message",a)}));return{promise:t,unsubscribe:e}}perfStart(e="sso-perf"){const t=Date.now();return a=>{const r=Date.now()-t;this.logger.info({type:a,event:e,message:`${r}`})}}async authenticateViaHiddenFrame(){const e=this.perfStart(),t=this.createHiddenAuthFrame(),a=this.createAuthMessageHandler();return document.body.appendChild(t),Promise.race([a.promise,(r=1e4,new Promise(((e,t)=>{setTimeout((()=>{return t((e=Dm,Object.assign(new Error("SSO timeout"),{type:e})));var e}),r)})))]).then((t=>(e("iframe-check"),t))).catch((t=>{throw t&&t.type===Dm?e("iframe-check-timeout"):this.logger.error({event:"iframe-check-error",error:t}),t})).finally((()=>{a.unsubscribe(),document.body.removeChild(t)}));var r}get name(){return"SsoStrategy"}}let Fm=class{};Fm=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:vl,useFactory:function({logger:e,...t}){return new jm({logger:e("auth:sso"),...t})},deps:{sessionManager:fl,cookieManager:na.T,envManager:O.vC,logger:k.Fp,store:L.kR,apiAuthMethod:{token:Cl,optional:!0}},multi:!0})]})],Fm);const Um={react:a(44121),"react-dom":a(90776)};window.__externals=Object.assign(window.__externals||{},Um);const Vm={trace:Qn(),debug:Qn(),info:Qn(),warning:Qn(),error:Qn()};var Bm=a(44831),Hm=a.n(Bm);const Ym=(e,t,a={},r={})=>{const n=document.createElement("link");return Object.assign(n,a,{rel:e,href:t}),n.dataset.critical="true",new Promise(((e,a)=>{n.onerror=n=>r.resolveOnFailed||document.querySelector(`[data-href="${t}"]`)?e(n):a(new Error(`could not load link ${t}`)),"onload"in n?n.onload=e:setTimeout(e,50),document.head.appendChild(n)}))},$m=(e,t={},a)=>{const r=document.createElement("script");return Object.assign(r,t,{async:!0,src:e}),r.dataset.critical="true",a&&a(r),new Promise(((t,a)=>{r.onerror=r=>{const n=document.querySelector(`[data-src="${e}"]`);if(n&&"true"===n.getAttribute("loaded"))return t(r);a(new Error(`could not load script ${e} ${r.message||r}`))},r.onload=t,document.head.appendChild(r)}))},Jm=e=>e?.replace(/^https?:/,""),Km=e=>Hm()((t=>!!t.href&&(t.href===e||Jm(t.href)===e)),document.styleSheets),zm=e=>document.querySelector(`[data-href="${e}"]`);class Gm{constructor(e={}){this.log=e.log||Vm}isLoaded(e){return!!this.get(e)}get(e){return(e=>{if(window.__externals&&window.__externals[e])return window.__externals[e]})(e.name)}load(e){const t=e.name;let a=this.get(e);if(a)return this.log.debug(`module "${t}" returned from cache`),a;this.log.debug(`module "${t}" will be fetched`);const r=()=>(a=this.get(e),a?(this.log.debug(t,"loaded"),Promise.resolve(a)):(this.log.error(`cannot find module ${t}`),Promise.reject(new Error(`Error resolving module ${t}`))));return function(e,t={}){const a=(r=e,Hm()((e=>{const t=!!e.src&&(e.src===r||Jm(e.src)===r),a=!!e.dataset.src&&(e.dataset.src===r||Jm(e.dataset.src)===r);return t||a}),document.scripts));var r;if(a){const e=a.getAttribute("loaded");return e?"true"===e?Promise.resolve():Promise.reject():new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)}))}return Promise.all([$m(e,{crossOrigin:"anonymous"},(e=>{e.addEventListener("load",(()=>e.setAttribute("loaded","true"))),e.addEventListener("error",(()=>e.setAttribute("loaded","error")))})),!t.cssUrl||Km(t.cssUrl)||zm(t.cssUrl)?Promise.resolve():Ym("stylesheet",t.cssUrl,{crossOrigin:"anonymous"},{resolveOnFailed:t.resolveOnCssFailed})])}(e.js,{cssUrl:e.css}).then(r,r)}}const Xm=e=>`${-1===e.indexOf("localhost")?"https":"http"}://${e.replace(/\/$/,"")}`;class Wm{constructor(e=Object.create(null)){this.state=e}get(e){return this.state[e]}set(e){this.state={...this.state,...e}}clear(){this.state=Object.create(null)}getState(){return this.state}}const Qm=(0,Rt.y)("LOAD_MODULES_CONFIG"),Zm=(0,Rt.y)("SET_MODULE_STATE"),eg=(0,Rt.y)("ADD_SERVER_FAILED_MODULE"),tg=(0,Rt.y)("CLEAR_SERVER_FAILED_MODULE"),ag=(0,Rt.y)("CLEAR_MODULE_STATE"),rg=(0,Mt.L)("module",{modulesConfig:{},modulesState:{},modulesInnerStore:{},serverFailedModules:[]}).on(Qm,((e,t)=>({...e,modulesConfig:t,modulesInnerStore:fo()(((e,t)=>new Wm),t)}))).on(Zm,((e,{name:t,state:a})=>({...e,modulesState:{...e.modulesState,[t]:{...e.modulesState[t],...a}}}))).on(ag,((e,t)=>({...e,modulesState:{...e.modulesState,[t]:void 0}}))).on(eg,((e,t)=>e.serverFailedModules.includes(t)?e:{...e,serverFailedModules:[...e.serverFailedModules,t]})).on(tg,((e,t)=>e.serverFailedModules.includes(t)?{...e,serverFailedModules:e.serverFailedModules.filter((e=>e!==t))}:e));rg.prototype.rehydrate=function(e){const{modulesInnerStore:t}=e;this.state={...e,modulesInnerStore:fo()((e=>new Wm(e.state)),t)}};const ng=(0,rr.createContext)({loader:void 0}),og={config:{},navigate:{url:{query:{}}},params:{}},sg=(e,t)=>{if(!e)return og;const a=(e=>{const{path:t,parentName:a,properties:r,...n}=e.config??{};return{...n,...r,path:wf()("/",t)?t:`${t}/`,parent:a}})(e);return{...e,config:a,navigate:{url:t},url:a.path,query:t.query,parsedUrl:t}},ig=Hm()(Ic()(Hf()("type","headerSlim"),Hf()("type","header"))),cg=_n()($c()("properties"),ig),ug=e=>{const t={...e};return e.method&&(t.path=e.method,delete t.method),e.httpMethod&&(t.method=e.httpMethod,delete t.httpMethod),e.payload&&(t.method&&"GET"!==t.method.toUpperCase()&&"DELETE"!==t.method.toUpperCase()?(t.body=e.payload,delete t.payload):(t.query=e.query?{...e.query,...e.payload}:e.payload,delete t.payload)),t},lg=(0,u.V3)("dynamicPubsubSubscriptions",{multi:!0});let dg=class{};var pg;dg=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:Ka,useFactory:({createPubsub:e})=>{const t=e(),a=t.subscribe.bind(t),r=t.publish.bind(t);return{fallback:!0,subscribe:(e,t)=>v()(e)?a(e,t):a(e.type,(e=>Promise.resolve(t(e)).then((e=>[e])))),publish:(e,...t)=>v()(e)?r(e,...t):r(e.type,e.payload)}},deps:{createPubsub:Ja}}),(0,c.J)({provide:P.customerStart,scope:f.s.REQUEST,useFactory:e=>function(){(({pubsub:e,pubsubSubscriptions:t,pageService:a,papiClient:r,tinkoffApi:n,authenticator:o,resourceLoader:s})=>{const i=Object.assign({"Tinkoff:get:currentRoute":()=>sg(a.getCurrentRoute(),a.getCurrentUrl()),"Tinkoff:module:request:platform":e=>r.request(ug(e)).then((({payload:e})=>e)),"Tinkoff:module:navigate":e=>a.navigate(e),"Tinkoff:get:headerVariations":()=>{const e=a.getContent();return e?cg(e.content):{}},"Tinkoff:module:request:tinkoff":e=>n.request((e=>{const{query:t={},sessionid:a,wuid:r,...n}=ug(e),o={};return a&&(o.sessionid=a),r&&(o.wuid=r),{...n,query:{...o,...t}}})(e)).then((({payload:e})=>e)),"Tinkoff:module:actions:logout":()=>o?.logout(),"Tinkoff:module:request:resources":({name:e,httpMethod:t,useCache:a=!0,timeout:r})=>s.getResources(e,{method:t,cache:a,timeout:r})},...$r()(t||[]));Jt()(((t,a)=>{e.subscribe(a,((...e)=>Promise.resolve(t(...e)).then((e=>[e]))))}),i)})(e)},multi:!0,deps:{pubsub:Ka,pageService:Pt.Y9,papiClient:_c.J2,tinkoffApi:Qu,pubsubSubscriptions:{token:lg,optional:!0,multi:!0},authenticator:{token:hl,optional:!0},resourceLoader:Ku,store:L.kR}})]})],dg);let hg=pg=class{static forRoot({pubsubSubscriptions:e}){return{mainModule:pg,providers:[{provide:lg,multi:!0,useValue:e}]}}};hg=pg=(0,Qt.__decorate)([(0,s.Y)({imports:[dg],providers:[{provide:"createDynamicModulesLoader",useFactory:({logger:e})=>new Gm({log:e("dynamic-components")}),deps:{logger:k.Fp},scope:f.s.SINGLETON},{provide:"dynamicModulesLoader",useFactory:({store:e,loader:t,logger:a})=>(r,n)=>{const o=a("dynamic-components"),{modulesConfig:s}=e.getState(rg),{featureToggle:i}=e.getState(),c=((e,t,a,r={})=>{const n=$c()(t,e);if(!n)return null;!a&&$c()(`module:${t}:beta`,r)&&(a=n.beta),a||(a=n.latest);const o=n.path||e.clientPath||e.defaultPath,s=n.path||e.serverPath||e.defaultPath;if(!o||!s)return null;const i=s.replace(/\/$/,""),c=`${o.replace(/\/$/,"")}/${t}/${a}`,u=`${i}/${t}/${a}`;return{name:`${t}`,version:`${a}`,js:Xm(`${c}/${t}_client.js`),css:n.withoutCSS?void 0:Xm(`${c}/${t}.css`),serverJs:Xm(`${u}/${t}_server.js`)}})(s,r,n,i);if(c)return t.load(c);o.error(`module ${r} is not found in moduleConfig`)},deps:{loader:"createDynamicModulesLoader",store:L.kR,logger:k.Fp}},{provide:Is,useFactory:({loader:e})=>{const t={loader:e};return e=>(0,Ys.jsx)(ng.Provider,{value:t,children:e})},deps:{loader:"dynamicModulesLoader"},multi:!0},{provide:L.Ym,useValue:rg,multi:!0},(0,c.J)({provide:P.customerStart,useFactory:({renderMode:e,store:t})=>"streaming"!==e?Qn():function(){window.__TRAMVAI_MODULES_STATE&&window.__TRAMVAI_MODULES_STATE.forEach((e=>{t.dispatch(Zm(e))}))},deps:{renderMode:(0,u.jt)(Vs),store:L.kR}})]})],hg);var fg=a(72478),mg=a(10950);const gg=(0,Rt.y)("Set analytics config"),vg=(0,Mt.L)("analytics",{}).on(gg,((e,t)=>({...e,config:t}))),yg=[{provide:L.Ym,multi:!0,useValue:[vg]},(0,c.J)({provide:P.resolvePageDeps,multi:!0,useFactory:({tracking:e,pageService:t})=>function(){e.extend(Uc()("analytics",{},t.getMeta()))},deps:{tracking:sf.t3,pageService:Pt.Y9}}),(0,c.J)({provide:sf.ZY,useFactory:({store:e})=>{const{config:t={}}=e.getState(vg);return t},deps:{store:L.kR}})],bg=(0,u.V3)("DPP_SERVICE"),_g=(0,Rt.y)("UPDATE_ROLES"),Eg={[oh.$d]:(0,oh.Me)()},Sg=(0,Mt.L)("roles",Eg).on(_g,((e,t)=>t)),wg="userType",kg={Visitor:0,"Client-Light":10,Applicant:20,"Client-Heavy":30},Og=e=>kg[e]||0;let Tg=!1;const Cg=(e,t)=>{const{tracking:a,logger:r,cookies:n}=t,o=r("analytics:tracking:user-type"),s=n.get(wg)||"Visitor",i=Og(s),c=(e=>{let t;switch(!0){case(0,oh.o2)(e):t="Client-Light";break;case(0,oh.C5)(e):t="Client-Heavy";break;default:t="Visitor"}return t})(e),u=Og(c);let l=s;u>=i&&(l=c,((e,t,a)=>{t.debug({message:"New user level",userType:a}),e.set({name:wg,value:a,expires:63072e3,noSubdomains:!0})})(n,o,c)),a.extend({userType:l,userStatus:(0,oh.QO)(e)?"Logged In":"Not Logged In"}),!Tg&&u>i&&(0,oh.QO)(e)&&(Tg=!0,a.event("ibSuccess"))},Rg=(e,t)=>{e.requested&&t.extend({userId:e.userId||"1111",ssoId:e.ssoId||null})},Mg={essentials:"Essential",functional:"Functionality",analytics:"Statistics",marketing:"Marketing"},Ng=[(0,c.J)({provide:P.init,useFactory:({store:e,tracking:t,cookies:a,logger:r})=>()=>{const n=e.getState(Sg);n&&(Cg(n,{tracking:t,cookies:a,logger:r}),e.subscribe(Sg,(e=>Cg(e,{tracking:t,cookies:a,logger:r}))))},deps:{store:L.kR,tracking:sf.t3,logger:k.Fp,cookies:na.T}}),(0,c.J)({provide:P.init,useFactory:({tracking:e,store:t})=>()=>{const a=t.getState(xt);a&&(Rg(a,e),t.subscribe(xt,(t=>Rg(t,e))))},deps:{store:L.kR,tracking:sf.t3}}),(0,c.J)({provide:P.customerStart,deps:{dppService:{token:bg,optional:!0},tracking:sf.t3},useFactory:({dppService:e,tracking:t})=>async()=>{if(!e)return;const a=await t.callUtil("getConsentVault");if(!a)return;let r=()=>{};r=e.subscribeToAccept((async e=>{a.update(((e,t)=>Object.entries(e).reduce(((e,[a,r])=>(e[t[Mg[a]]]=r,e)),{}))(e,a.categories),"keep"),r()}))}})],xg={prefix:"platform/stable",integrity:{client:"",express:"",tramvai:""}};var Ag;let Pg=Ag=class{static forRoot({atmContainer:e,ttm:t,twtBundle:a,mode:r}){const n=[];return e&&n.push({provide:sf.cY,useValue:e}),t&&n.push({provide:sf.Te,useValue:t}),a&&n.push({provide:sf.SG,useValue:a}),r&&n.push({provide:sf.ty,useValue:r}),{mainModule:Ag,providers:n}}};Pg=Ag=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:O.sQ,multi:!0,useValue:[{key:"CONFIG_API",dehydrate:!1,validator:_([y,b("/")])},{key:"APP_VERSION",optional:!0,dehydrate:!0}]}),(0,c.J)({provide:sf.t3,useFactory:({logger:e,store:t,eventeaReady:a,appInfo:r,envManager:n,statistClient:o})=>{const{config:s={}}=t.getState(vg),i=window.twtConfig=window.twtConfig||{};i.logger=e("analytics:tracking"),i.disableUserInfo=!0;const{atmContainer:c,containers:u}=s?.atm||{};c&&(i.atmContainerName=c),u&&(i.atmContainers=u);const l=s?.ttm;l&&(i.ttm=l),o&&(i.statistClient=o);const d=new fg.Z;d.resolve((0,mg.A)());const p={appName:r.appName,appVersion:n.get("APP_VERSION"),proxyVersion:df,tramvaiVersion:"5.53.44",eventeaReady:a};d.event=(e,t)=>(d.callUtil("tramSendEvent",e,t,p),d);const h=d.extend;return d.extend=e=>{const t=h.call(d,e);return d.callUtil("tramPostData",e,p),t},d},deps:{logger:k.Fp,store:L.kR,eventeaReady:(0,u.jt)(sf.dZ),envManager:O.vC,appInfo:h.Qo,statistClient:(0,u.jt)(Ct.E)}}),(0,c.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:({tracking:e})=>()=>{e.updateLocation()},deps:{tracking:sf.t3}}),{provide:P.init,useFactory:function(e){const{resourceLoader:t,logger:a,envManager:r,twtBundle:n,atmContainer:o,ttm:s,requestManager:i,statistClient:c}=e,u=a("analytics:twt-loader");if("server"===(e=>{const{envManager:t,mode:a}=e;switch(!0){case"client"===a:case"server"!==a&&"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"):return"client";default:return"server"}})(e)||"true"===i.getParsedUrl().query.disableAnalytics)return()=>Promise.resolve();return function(){(async function(){let e;try{e=await t.getResources("analytics_config")}catch(t){e={},u.error(t,"Failed to load analytics_config")}const i=window.twtConfig=window.twtConfig||{};o&&(i.atmContainerName=o);const l=e?.atm?.containers;l&&(i.atmContainers=l),s&&(i.ttm=s),c&&(i.statistClient=c),function(e,t,a,r){const n=t||"platform",o=a?.twt?.bundles?.[n]||xg,s=r.get("TWA_CDN_URL")||o?.baseUrl||"https://cdn.tbank.ru/twa/";if(!s)return void e.error("twt cdn url is not provided");const i={id:"twtScriptClient",onload:"this.setAttribute('loaded', 'true');",onerror:"this.setAttribute('loaded', 'error');",crossorigin:"anonymous"};o.integrity&&o.integrity.client&&(i.integrity=o.integrity.client);const c=document.createElement("script");c.src=`${s}${o.prefix}/client.js`;for(const e of Object.keys(i))c.setAttribute(e,i[e]);document.head.appendChild(c)}(a,n,e,r)})().catch((e=>{u.error(e,"Something wrong happened in analytics:registerScripts method")}))}},multi:!0,deps:{resourceLoader:Ku,logger:k.Fp,envManager:O.vC,requestManager:oa,atmContainer:(0,u.jt)(sf.cY),ttm:(0,u.jt)(sf.Te),twtBundle:(0,u.jt)(sf.SG),mode:(0,u.jt)(sf.ty),statistClient:(0,u.jt)(Ct.E)}},...yg,...Ng]})],Pg);const Ig=(0,u.V3)("GEO_API_SERVICE");class Lg extends Bu{constructor({logger:e,httpClient:t,requestManager:a}){super(t),this.logger=e({name:"geo-api-client"}),this.requestManager=a}requestRegions(e,t={}){const{feature:a,query:r,parentId:n}=e,o={...t,path:"regions/query",query:{...t.query,feature:a,query:r,parentId:n},timeout:500};return this.request(o).then((({payload:e})=>e.regions))}requestNearestRegion(e,t={}){const{feature:a="presentInPg",required:r=!0,regionId:n}=e,o={...t,path:"regions/nearest",query:{...t.query,feature:a,required:r},timeout:500};return!n||Number.isNaN(Number(n))?(o.query.ip=void 0,o.cache=!1):o.query.regionId=n,this.request(o).then((({payload:e})=>e.region))}}let qg=class{};qg=(0,Qt.__decorate)([(0,s.Y)({imports:[Gl],providers:[(0,c.J)({provide:Ig,useFactory:({httpClientFactory:e,envManager:t,logger:a,requestManager:r})=>{const n=e({name:"geo",baseUrl:t.get("GEO_API")},{isResponseValid:e=>Ml()(["status"],"Ok",e)});return new Lg({logger:a,httpClient:n,requestManager:r})},deps:{logger:k.Fp,httpClientFactory:Zu,envManager:O.vC,requestManager:oa}}),(0,c.J)({provide:O.sQ,useValue:[{key:"GEO_API"}],multi:!0})]})],qg);let Dg=class{};Dg=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],Dg);let jg=class{};jg=(0,Qt.__decorate)([(0,s.Y)({providers:[{provide:"additionalLabelNames",useValue:["unsafe_ignore_in_alerting"],multi:!0},{provide:"getAdditionalLabelValues",useValue:e=>e.url.includes("/undefinedcollect")?{unsafe_ignore_in_alerting:"undefinedcollect"}:e.headers?.["appsec-scanner"]?{unsafe_ignore_in_alerting:"appsec-scanner"}:e.headers?.["x-bug-bounty"]?{unsafe_ignore_in_alerting:"x-bug-bounty"}:e.query?.previewToken?{unsafe_ignore_in_alerting:"previewToken"}:e.query?.preview_creative?{unsafe_ignore_in_alerting:"preview_creative"}:{},multi:!0}]})],jg);const Fg=(0,Rt.y)("UPDATE_UI_MODULES_CONFIG"),Ug=(0,Mt.L)("uiModulesConfig",{}).on(Fg,((e,t)=>t)),Vg=[{provide:L.Ym,useValue:Ug,multi:!0}];let Bg=class{};Bg=(0,Qt.__decorate)([(0,s.Y)({providers:[...Vg]})],Bg);const Hg=(0,u.V3)("UIMODULE_CONFIG_KEYS",{multi:!0}),Yg=(0,u.V3)("FOOTER_COMPONENT_TOKEN"),$g=(0,u.V3)("FOOTER_CONFIG_TRANSFORM_TOKEN"),Jg=(0,u.V3)("FOOTER_OPEN_MODEL_CALLBACK_TOKEN"),Kg=(0,u.V3)("FOOTER_HANDLE_METRICS_TOKEN"),zg=()=>(0,Ys.jsx)("div",{});var Gg=a(70430),Xg=a.n(Gg),Wg=a(33689),Qg=a.n(Wg),Zg=a(78705),ev=a.n(Zg),tv=a(84056),av=a.n(tv);const rv=e=>t=>{const[a,r]=(0,rr.useState)(!1);return(0,rr.useEffect)((()=>{if(!t.current||a)return;const n=new IntersectionObserver(((e,t)=>{e.forEach((({isIntersecting:e})=>{e&&(t.disconnect(),r(!0))}))}),e);return n.observe(t.current),()=>{n.disconnect()}}),[t]),a},nv={__html:""},ov=rv({root:null,rootMargin:"200px 0px 0px 0px"}),sv=({mode:e,children:t,useObserver:a=ov,wrapper:r="div",wrapperProps:n={},serverCache:o,cacheKey:s,cacheEnabled:i})=>{const c=(0,rr.useRef)(null);return a(c)||"static"===e?nr().createElement(r,{...n},t):nr().createElement(r,{ref:c,suppressHydrationWarning:!0,dangerouslySetInnerHTML:nv,...n})};sv.displayName="LazyRender";const iv=ev()([[Xg(),nr().createElement],[Qg(),nr().cloneElement],[v(),Za()],[av(),nu()("")]]),cv=(0,Ys.jsx)("div",{}),uv=(0,Ys.jsx)("div",{});class lv extends rr.Component{constructor(e){super(e);const{loader:t,serverFailed:a}=this.props,r=t?.(e.moduleName,e.moduleVersion,{lazy:!!e.lazy}),n=co()(r);this.state={module:n||!r||a?null:r.default,failed:!r}}componentDidMount(){const{loader:e,serverFailed:t,moduleName:a,moduleVersion:r,lazy:n}=this.props,o=e?.(a,r,{lazy:!!n});co()(o)?o.then((e=>this.setState({module:e.default}))).catch((()=>this.setState({failed:!0}))):t&&o&&this.setState({module:o.default})}render(){const{error:e=cv,loading:t=uv,moduleProps:a,moduleInitialState:r,moduleInnerStore:n}=this.props,{module:o,failed:s}=this.state;return o?(0,Ys.jsx)(o,{...a,moduleInnerStore:n,moduleInitialState:r}):iv(s?e:t)}}lv.displayName="ModuleWrapper";const dv={root:null,rootMargin:"200px 0px 0px 0px"},pv=e=>{const{moduleName:t,moduleVersion:a,loader:r,lazyMode:n,lazyObserverOptions:o,lazyWrapper:s,lazyWrapperProps:i}=e,c=(0,rr.useMemo)((()=>(({moduleName:e,moduleVersion:t,loader:a,lazyObserverOptions:r})=>{const n=rv(r||dv);return r=>{const o=n(r),[s,i]=(0,rr.useState)(!1);return(0,rr.useEffect)((()=>{o&&a&&Promise.resolve(a(e,t)).catch(Qn()).then((()=>{i(!0)}))}),[o]),s}})({moduleName:t,moduleVersion:a,loader:r,lazyObserverOptions:o})),[t,a,r,o]);return(0,Ys.jsx)(sv,{useObserver:c,wrapper:s,wrapperProps:i,mode:n,children:(0,Ys.jsx)(lv,{...e})})},hv=e=>(0,Ys.jsx)(ng.Consumer,{children:({loader:t})=>e.lazy?(0,Ys.jsx)(pv,{...e,loader:t,lazyMode:void 0}):(0,Ys.jsx)(lv,{...e,loader:t})}),fv=e=>{const{moduleName:t,moduleProps:a}=e,r=(0,xi.x)(k.Fp),n=(0,xi.x)(L.kR),o=(0,xi.x)(Vs),s=(0,rr.useMemo)((()=>"streaming"===o?n.getState(rg).modulesState[t]:void 0),[]),{modulesState:i,modulesInnerStore:c}=Li(rg),u={moduleInitialState:i[t]??s,moduleInnerStore:c[t]instanceof Wm?c[t]:new Wm(c[t])};return(0,Ys.jsx)(hv,{...e,...u,serverFailed:n.getState().module.serverFailedModules.includes(t),moduleProps:{logger:r,...a}})};fv.displayName="ModuleInnerWrapper";const mv=({deferred:e,children:t})=>{if(e.isResolved())return t;if(e.isRejected())throw e.rejectReason;throw e.promise},gv=({name:e,logger:t,fallback:a})=>a?(0,Ys.jsx)(a,{}):null,vv=({children:e,reactRenderMode:t,moduleName:a,logger:r,fallback:n,deferred:o})=>(0,Ys.jsx)(rr.Suspense,{fallback:"streaming"===t?null:(0,Ys.jsx)(gv,{name:a,logger:r,fallback:n}),children:"streaming"===t?(0,Ys.jsx)(mv,{deferred:o,children:e}):e}),yv=(0,rr.memo)((e=>{const{moduleName:t,moduleVersion:a,fallback:r}=e,n=(0,xi.x)(k.Fp),o=(0,xi.x)(Vs),{loader:s}=(0,rr.useContext)(ng),i=(0,rr.useMemo)((()=>new lo),[]);return(0,rr.useMemo)((()=>{if("streaming"===o){const r=s?.(t,a,{lazy:!!e.lazy});co()(r)?r.then(i.resolve).catch(i.reject):r?i.resolve(r):i.reject(new Error(`${t}@${a} module loading failed`))}}),[]),(0,Ys.jsx)(Ci,{fallback:e.error??zg,children:vv({children:(0,Ys.jsx)(fv,{...e}),reactRenderMode:o,logger:n,moduleName:t,deferred:i,fallback:r})})}));yv.displayName="ModuleWrapper";const bv=(e,t)=>"string"==typeof e?{[e]:t}:"object"==typeof e?e:null;var _v=a(98873),Ev=a.n(_v);var Sv=a(12098),wv=a.n(Sv);function kv(e){return!!e.synchronized}function Ov(e){return!!e.supposed}function Tv(e){return!!e.retina}function Cv(e){return e.width<=wv().PHONE_SMALL}function Rv(e){return e.width>=wv().TABLET_S}function Mv(e){return e.width>=wv().TABLET_L}function Nv(e){return e.width>=wv().DESKTOP_S}function xv(e){return e.width>=wv().DESKTOP_M}function Av(e){return e.width>=wv().DESKTOP_MD}function Pv(e){return e.width>=wv().DESKTOP_L}function Iv(){const e=(0,gh.v)("media",(({media:e})=>e));return(0,rr.useMemo)((()=>function(e){return{fromClientHints:kv(e),supposed:Ov(e),isRetina:Tv(e),isPhone:!Rv(e),isPhoneSmall:Cv(e),isTablet:Rv(e),isTabletS:Rv(e),isTabletL:Mv(e),isMobile:!Nv(e),isDesktop:Nv(e),isDesktopS:Nv(e),isDesktopM:xv(e),isDesktopMd:Av(e),isDesktopL:Pv(e)}}(e)),[e])}const Lv=_n()(Ll()("auth"),Hr()(["query"],{})),qv=Ev()(((e,t)=>{const a=sg(e,t);return{...a,url:a.parsedUrl?.path}}),((e,t)=>e===t)),Dv=_n()((jv={openModal:{token:Jg,optional:!0},transformConfig:{token:$g,optional:!0},pubsub:Ka,handleMetrics:{token:Kg,optional:!0}},e=>ar()((function(t){const a=(0,xi.x)(jv);return(0,Ys.jsx)(e,{...t,...a})}),e)),(e=>{const t=({uiModulesConfig:{footerConfig:e},router:{currentRoute:t,currentUrl:a},roles:r,featureToggle:n})=>({isAuth:(0,oh.QO)(r),isPreAuth:Lv(a)||!1,isClient:(0,oh.C5)(r),currentRoute:qv(t,a),footerConfig:e,featureToggle:n,userRoles:r,inheritedPhone:t.config.footerPhone});return function(a){const r=(0,gh.v)(["uiModulesConfig","featureToggle","router",{store:"roles",optional:!0}],t),n=Iv(),o=a.transformConfig??Za(),s=a.handleMetrics||Za();return(0,Ys.jsx)(e,{...a,...r,media:n,transformConfig:o,handleMetrics:s})}}));var jv;const Fv={style:{marginTop:"auto",minHeight:"1px"}},Uv=_n()(rr.memo,Dv)((({variation:e,lazyWrapperProps:t,cacheKey:a,cacheEnabled:r,serverCache:n,...o})=>(0,Ys.jsx)(yv,{moduleName:"footer",lazy:!0,lazyWrapperProps:t||Fv,moduleProps:{...o,variation:bv(e,o)}})));let Vv=class{};Vv=(0,Qt.__decorate)([(0,s.Y)({imports:[Bg],providers:[(0,c.J)({provide:Yg,useValue:Uv}),(0,c.J)({provide:Hg,multi:!0,useValue:"footerConfig"})]})],Vv);const Bv=(0,u.V3)("HEADER_MENU_TRANSFORM_TOKEN"),Hv=(0,u.V3)("HEADER_CONFIG_TRANSFORM_TOKEN"),Yv=_n()(Ll()("auth"),Hr()(["query"],{})),$v=Ev()(((e,t)=>{const a=sg(e,t);return{...a,url:a.parsedUrl?.path}}),((e,t)=>e===t)),Jv=({featureToggle:e,router:{currentRoute:t,currentUrl:a},roles:r,environment:{TINKOFF_API:n,SME_URL:o},menuCounters:s})=>({authorized:(0,oh.QO)(r),isPreAuth:Yv(t.parsedUrl)||!1,currentRoute:$v(t,a)||{currentRoute:{config:{}}},featureToggle:e,userRoles:r,tinkoffApi:n,smeUrl:o,menuCounters:s}),Kv=_n()(rr.memo,(e=>function(t){const{appInfo:a,transformMenu:r,transformConfig:n,pubsub:o}=(0,xi.x)({appInfo:h.Qo,pubsub:Ka,transformMenu:{token:Bv,optional:!0},transformConfig:{token:Hv,optional:!0}}),s=Iv(),i=(0,gh.v)(["featureToggle","router","environment",{store:"menuCounters",optional:!0},{store:"roles",optional:!0},{store:"region",optional:!0}],Jv),{appName:c}=a??{},u=(0,rr.useMemo)((()=>r??Za()),[r]),l=(0,rr.useMemo)((()=>n??Za()),[n]);return(0,Ys.jsx)(e,{...t,...i,transformMenu:u,transformConfig:l,media:s,appId:c,pubsub:o})}))((({variation:e,...t})=>(0,Ys.jsx)(yv,{moduleName:"header",moduleProps:{...t,variation:bv(e,t)}}))),zv=(0,u.V3)("HEADER_COMPONENT_TOKEN");let Gv=class{};Gv=(0,Qt.__decorate)([(0,s.Y)({imports:[Bg],providers:[{provide:Cs,multi:!0,useValue:[{type:Zi.asIs,slot:"body:start",payload:'<input id="menuPrimaryToggle" type="checkbox" class="h-menu-primary-toggle" hidden />'}]},{provide:zv,useValue:Kv},{provide:Hg,multi:!0,useValue:"headerConfig"}]})],Gv);let Xv=class{};Xv=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:[]})],Xv);let Wv=class{};Wv=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:[]})],Wv);let Qv=class{};Qv=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:[]})],Qv);const Zv=(e,t)=>function(a){const r=(0,rr.useMemo)((()=>({style:{marginTop:"auto",minHeight:"1px"},"data-module-type":e})),[]);return(0,Ys.jsx)(t,{...a,variation:e,lazyWrapperProps:r})};var ey=a(78018);const ty=({children:e})=>{const t=Iv();return(0,Ys.jsx)(ey.MediaProvider,{value:t,children:e})};var ay=a(15194),ry=a.n(ay);const ny=(0,u.V3)("makeHeaderFunctionToken"),oy=[{provide:ny,useValue:(e,t)=>function(a){return(0,Ys.jsx)(t,{...a,variation:e})}},{provide:Qd,multi:!0,useFactory:({HeaderComponent:e,makeHeaderFunc:t})=>({type:"headerSlim",component:t("headerSlim",e)}),deps:{HeaderComponent:zv,makeHeaderFunc:ny}},{provide:Qd,multi:!0,useFactory:({HeaderComponent:e,makeHeaderFunc:t})=>({type:"header",component:t("header",e)}),deps:{HeaderComponent:zv,makeHeaderFunc:ny}},{provide:Qd,multi:!0,useFactory:({FooterComponent:e})=>({type:"productFooter",component:Zv("productFooter",e)}),deps:{FooterComponent:Yg}},{provide:Qd,multi:!0,useFactory:({FooterComponent:e})=>({type:"advertFooter",component:Zv("advertFooter",e)}),deps:{FooterComponent:Yg}},{provide:O.sQ,multi:!0,useValue:[{key:"TINKOFF_API",validator:_([y,b("/")])},{key:"SME_URL",validator:y,optional:!0}]},{provide:Fs,multi:!0,useValue:{wrappers:{layout:e=>t=>(0,Ys.jsx)("div",{className:ry().layout_wrapper,children:(0,Ys.jsx)(ty,{children:(0,Ys.jsx)(e,{...t})})})}}}];let sy=class{};sy=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:oy})],sy);let iy=class{};iy=(0,Qt.__decorate)([(0,s.Y)({imports:[Ia,hg,Vv,Gv,Xv,Wv,Qv,sy],providers:[]})],iy);let cy=class{};cy=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],cy);const uy=(0,u.V3)("INSTALL_TYPE"),ly=[{provide:"boundaryCollect",useFactory:e=>{let t=!1;return a=>{if(!t)if(t=!0,void 0!==a)e.eventea.send({project:"application-health",event:"app-start-fail",payload:{errorMessage:a.message,errorStack:a.stack}});else{let t;try{window.performance.mark("application-health-app-start-success"),t=window.performance.measure("application-health-app-start-success-duration","navigationStart","application-health-app-start-success")?.duration}catch(e){}e.eventea.send({project:"application-health",event:"app-start-success",payload:{userRole:e.getUserRole(),installType:e.installType,durationFromNavigationStart:t}})}}},deps:{eventea:Yh.Bv,getUserRole:"getUserRole",installType:uy}},{provide:Rs,useFactory:({boundaryCollect:e})=>e,deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:ki,useFactory:({boundaryCollect:e})=>e,deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:uy,useValue:"unknown"},{provide:"getUserRole",scope:f.s.SINGLETON,useFactory:({context:e})=>()=>{const{roles:t}=e.getState();return t?oh.TF(t)?"anonymous":oh.C5(t)?"client":oh.QO(t)?"lightClient":"unknown":"inaccessible"},deps:{context:Sa.l}},(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"application-health"}})],dy=(0,n.J)({name:"MonitoringApplicationHealthModule",providers:ly}),py={provide:Rs,useFactory:({eventea:e})=>()=>{try{const t=new PerformanceObserver((a=>{for(const r of a.getEntries()){const a=r.processingStart-r.startTime;e.send({project:"application-health",event:"client-perf",payload:{fid:a}}),t.disconnect()}}));t.observe({type:"first-input",buffered:!0})}catch(e){}},deps:{eventea:Yh.Bv},multi:!0},hy=(0,n.J)({name:"MonitoringClientPerfModule",providers:[py]}),fy=[(0,c.J)({provide:P.init,useFactory({tracking:e,logger:t}){const a=t({name:"personalized-landing-metrics",defaults:{remote:!0}});return e?()=>{window.addEventListener("load",(()=>{setTimeout((()=>{const t=mc();e.waitFor("personalizedLandingMetrics").then((()=>{const{personalizedLandingMetrics:r}=e.state;if(!r)throw new Error("personalizedLandingMetrics is missed in tracking");const{enrichmentTechInfo:n={},state:o}=r,{dcoAppliedStatus:s}=n;a.info({event:"dco-applied-info",dcoAppliedStatus:s,dcoState:o,backend:"backend"in t?t.backend:void 0,pageDownload:"pageDownload"in t?t.pageDownload:void 0,"first-paint":"first-paint"in t?t["first-paint"]:void 0,domInteractive:"domInteractive"in t?t.domInteractive:void 0,domComplete:"domComplete"in t?t.domComplete:void 0,pageLoadTime:"pageLoadTime"in t?t.pageLoadTime:void 0})}),(e=>{a.error({event:"dco-applied-info-error",error:e})})).catch((e=>{a.error({event:"dco-monitoring-error",error:e})}))}),0)}))}:(a.error({event:"dco-monitoring-error",error:new Error("@tramvai/module-analytics not connected")}),()=>{})},deps:{tracking:{token:sf.t3,optional:!0},logger:k.Fp},multi:!0})],my=(0,n.J)({name:"MonitoringDcoModule",providers:fy}),gy=[(0,c.J)({provide:Kg,useFactory:({eventea:e})=>t=>{e.send({project:"application-health",event:"footer-rendered",payload:{firstLevelRendersTotal:Number(t.firstLevel),secondLevelRendersTotal:Number(t.secondLevel),thirdLevelRendersTotal:Number(t.thirdLevel)}})},deps:{eventea:Yh.Bv}})],vy=(0,n.J)({name:"MonitoringNavigationModule",providers:gy}),yy=(0,n.J)({name:"MonitoringModule",imports:[bf,dy,hy,my,vy],providers:[]});let by=class{};by=(0,Qt.__decorate)([(0,s.Y)({imports:[bf],providers:[(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"pwa"}}),(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"general-web"}})]})],by);let _y=class{};_y=(0,Qt.__decorate)([(0,s.Y)({imports:[bf],providers:[(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"form-builder"}})]})],_y);let Ey=class{};Ey=(0,Qt.__decorate)([(0,s.Y)({imports:[bf],providers:[(0,c.J)({provide:Yh.eW,multi:!0,useValue:{project:"boxy"}})]})],Ey);let Sy=class{};Sy=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],Sy);const wy=/[&<>"']/,ky={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",39:"&#039;"};function Oy(e=""){return function(e,t,a){if(0===e.length||!1===t.test(e))return e;let r=0,n=0,o="",s="";for(;n<e.length;n++){const t=e.charCodeAt(n);t in a&&(s=a[t],n!==r&&(o+=e.slice(r,n)),o+=s,r=n+1)}return n!==r&&(o+=e.slice(r,n)),o}(e,wy,ky)}var Ty=a(2012),Cy=a.n(Ty);const Ry="x-service",My="dcoData",Ny="dcoTrackingData",xy="beforeRedirectPageUrl";var Ay=a(59770);function Py(e){let t;try{a=e,t=(0,Ay.W)(JSON.stringify(a))}catch(e){}var a;return t||""}var Iy=a(57471),Ly=a.n(Iy),qy=a(60411),Dy=a.n(qy);const jy=["utm_source","utm_content","utm_campaign","utm_medium","utm_term","sid","wm"],Fy=(e,t)=>"dco.id"===e?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(t):void 0!==e&&void 0!==t,Uy=jy.reduce(((e,t)=>({...e,[t]:!0})),{}),Vy="utm_source",By=/; */,Hy=/, */,Yy=e=>Ly()(((e,t)=>!Uy[t]),e),$y=(e,t)=>Object.keys(e).sort().map((a=>{const r=t[a]||e[a];return Fy(a,r)?`${a}=${e[a]}`:null})).filter(Boolean).join("; "),Jy=(e,t,a,r)=>{const n=(e=>{if(!e)return e;const t={};return Object.keys(e).forEach((a=>{if(Object.prototype.hasOwnProperty.call(e,a))try{t[encodeURIComponent(a)]=encodeURIComponent(e[a])}catch(e){}})),t})((e=>!!e.utm_source&&Dy()(jy,e))(e));return n?$y({...Yy(a),...n},t):t[Vy]?$y(a,t):$y({...Yy(a),[Vy]:r||""},t)},Ky=["protocol","host","pathname","query"];function zy(e,t,a){let r={...e};var n;return void 0!==a&&(r.query={...r.query,dco_ic:a}),r={...r,query:(n={...r.query,...t.query},fo()((e=>{if(Xs()(e)){const t=Vn()(e);return 1===t.length?t[0]:t}return e}),n))},r=Dy()(Ky,r),"/"!==r.pathname.slice(-1)&&(r.pathname+="/"),(e=>{const t=an("");return tn(un(t,e)).href})(r)}var Gy=a(52158),Xy=a.n(Gy);const Wy=[{dcoAppliedStatus:"not_match",dcoAppliedEntity:"pageContent"}];function Qy(e){return fn()(e)||Xy()(Wy)}class Zy{constructor({logger:e,...t}){this.parseUrl=Cy()(3,rn),this.sanitizeReferrer=Cy()(3,Oy),this.parseCookie=Cy()(3,(e=>{const t=((e="")=>e.split(By).reduce(((e,t)=>{const a=t.indexOf("=");return{...e,[t.slice(0,a).replace(/^\s+/,"")]:t.slice(a+1)}}),{}))(e);return{rawUserCookie:t,decodedUserCookie:fo()((e=>function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e)),t)}})),this.logger=e({name:"dco-client"}),this.getClientParameters="clientParametersFactory"in t?t.clientParametersFactory:()=>t}getParsedClientParameters(){const{pageUrl:e,userHeaders:t}=this.getClientParameters(),a=fo()((e=>Array.isArray(e)?e.join(","):e),t);return{pageUrl:this.parseUrl(e),pageReferrer:this.sanitizeReferrer(a.referer),userHeaders:a,...this.parseCookie(a.cookie)}}getDcoRequestParams({appId:e,service:t}){const{pageUrl:a,decodedUserCookie:r,rawUserCookie:n,pageReferrer:o,userHeaders:s}=this.getParsedClientParameters(),{query:i}=a,c={"x-app-id":e,"x-dco-user-data":Jy(i,r,n,o)};return t?c[Ry]=t:s[Ry]&&(c[Ry]=s[Ry]),{headers:c,payload:{...i,trackingState:Py({dco:{referrer:o,beforeRedirectPageUrl:r[xy]}})}}}getUserResponseParams(e){const{pageUrl:t,decodedUserCookie:a,pageReferrer:r}=this.getParsedClientParameters();this.latestResponse=e;const{dcoResponse:n,dcoResponseHeaders:o}=e,s=(e=>{const t=[];return Qr()((a=>{const r=e[a];Fy(a,r)&&t.push({name:a,value:r,expires:31536e3,noSubdomains:!0})}),Object.keys(e).sort()),t})(((e="")=>e.split(Hy).reduce(((e,t)=>{const[a,r]=t.split("=");return{...e,[a]:r}}),{}))(o["x-dco-set-context"])),{dcoTracking:i,dco:c}=n,u=!fn()(c)&&!fn()(c.state),l=Qy(i);if(u&&n.redirectUrl)return s.push({name:xy,value:t.pathname,expires:60},{name:My,value:Py(c),expires:60},{name:Ny,value:Py(i),expires:60}),{redirectUrl:zy(rn(n.redirectUrl),t,il()(["state","ic"],c)),redirectCode:n.redirectCode,cookieSet:s};const{dco:d,dcoTracking:p}=((e,t)=>{const a=e[My],r=e[Ny],n={};if(a)try{n.dco=JSON.parse(a)}catch(e){t.error(e,`error occurred while parsing dco cookie ${My}`)}if(r)try{n.dcoTracking=JSON.parse(r)}catch(e){t.error(e,`error occurred while parsing dco cookie ${Ny}`)}return n})(a,this.logger);d&&s.push({name:My,value:"",expires:new Date(0)}),p&&s.push({name:Ny,value:"",expires:new Date(0)});const h=u||!d?c:d,f=l||Qy(p)?i:p,m=function({dcoData:e,dcoTrackingData:t,query:a,dcoResponseHeaders:r,decodedUserCookie:n,referrer:o}){const s=Hr()(["dco_ic"],"",a),i=il()(["x-dco-ic"],r),c={dcoTracking:t,personalizedLandingMetrics:e,dco:{referrer:o,ic:il()(["state","ic"],e)||i||s}};return n.beforeRedirectPageUrl&&(c.dco.beforeRedirectPageUrl=n.beforeRedirectPageUrl),c}({referrer:r,query:t.query,dcoData:h,dcoTrackingData:f,dcoResponseHeaders:o,decodedUserCookie:a});return{cookieSet:s,dcoData:h,trackingData:m}}getDcoResponseStatus(){return this.latestResponse?.dcoResponse?.dco?.techInfo?.["response-status"]}}const eb=(0,Rt.y)("Set DCO tracking data"),tb=(0,Mt.L)("dcoTracking",{}).on(eb,((e,{path:t,data:a})=>({...e,[t]:a}))),ab=[{provide:L.Ym,multi:!0,useValue:[tb]}];let rb=class{};rb=(0,Qt.__decorate)([(0,s.Y)({providers:[...ab,(0,c.J)({provide:O.sQ,multi:!0,scope:f.s.REQUEST,useValue:[{key:"DCO_SERVICE",optional:!0,dehydrate:!0}]}),(0,c.J)({provide:"dcoClient",scope:f.s.REQUEST,useFactory:({logger:e,requestManager:t})=>new Zy({logger:e,clientParametersFactory:()=>({pageUrl:t.getUrl(),userHeaders:t.getHeaders()})}),deps:{logger:k.Fp,requestManager:oa}}),(0,c.J)({provide:mi,multi:!0,scope:f.s.REQUEST,useFactory:({cookieManager:e,context:t,dcoClient:a,routesFallback:r,envManager:n,domainResolve:o,requestManager:s})=>i=>async c=>{if(s.getHeader("x-tramvai-static-page-revalidate"))return i(c);r&&i(c).then((({route:e,payload:t})=>{e&&("string"!=typeof t&&"page"in t&&t.page.matchedUrlParams?r.set({...e,alias:c.url.pathname},{appId:c.appId}):r.set(e,{appId:c.appId}))})).catch((()=>{}));const u=a.getDcoRequestParams({appId:c.appId,service:n.get("DCO_SERVICE")}),[l,d]=await Promise.all([i({...c,shouldSetFallback:!1,requestOptions:{...c.requestOptions,headers:u.headers,query:u.payload,cache:!1}}),o()]);if(!Jo()(l.payload))return l;const p=a.getUserResponseParams({dcoResponseHeaders:l.headers,dcoResponse:l.payload});if(p.cookieSet.forEach((t=>e.set(t))),"trackingData"in p&&t.dispatch(eb({path:c.url.pathname,data:p.trackingData})),"redirectUrl"in p){const e=Hs()(new RegExp(`^https://(?:${d}|${d.replace(/^www\./,"")})`),"",p.redirectUrl);return{...l,payload:{...l.payload,redirectUrl:e},route:{...l.route,name:"dco-redirect",redirect:{url:e,code:+p.redirectCode,preserveQuery:!1}}}}return l},deps:{cookieManager:na.T,context:Sa.l,routesFallback:{token:vi,optional:!0},envManager:O.vC,domainResolve:fi,requestManager:oa,dcoClient:"dcoClient"}}),(0,c.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:({store:e,tracking:t})=>async({to:a,url:r})=>{const n=a?.actualPath||a?.path||r?.pathname;if(!n)return;const o=e.getState(tb);o[n]&&t?.extend(o[n])},deps:{tracking:{token:sf.t3,optional:!0},store:L.kR}})]})],rb);const nb=(0,u.V3)("service worker params",{multi:!0}),ob=(0,u.V3)("service worker init command line"),sb=(0,u.V3)("pwa disable meta theme_color");var ib=a(59993),cb=a(36805),ub=a.n(cb),lb=a(62491),db=a.n(lb),pb="NOT_FOUND",hb=function(e,t){return e===t};function fb(e,t){var a,r,n="object"==typeof t?t:{equalityCheck:t},o=n.equalityCheck,s=void 0===o?hb:o,i=n.maxSize,c=void 0===i?1:i,u=n.resultEqualityCheck,l=function(e){return function(t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var r=t.length,n=0;n<r;n++)if(!e(t[n],a[n]))return!1;return!0}}(s),d=1===c?(a=l,{get:function(e){return r&&a(r.key,e)?r.value:pb},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var a=[];function r(e){var r=a.findIndex((function(a){return t(e,a.key)}));if(r>-1){var n=a[r];return r>0&&(a.splice(r,1),a.unshift(n)),n.value}return pb}return{get:r,put:function(t,n){r(t)===pb&&(a.unshift({key:t,value:n}),a.length>e&&a.pop())},getEntries:function(){return a},clear:function(){a=[]}}}(c,l);function p(){var t=d.get(arguments);if(t===pb){if(t=e.apply(null,arguments),u){var a=d.getEntries().find((function(e){return u(e.value,t)}));a&&(t=a.value)}d.put(arguments,t)}return t}return p.clearCache=function(){return d.clear()},p}function mb(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o,s=0,i={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(i=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=i.memoizeOptions,l=void 0===u?a:u,d=Array.isArray(l)?l:[l],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var a=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+a+"]")}return t}(r),h=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),f=e((function(){for(var e=[],t=p.length,a=0;a<t;a++)e.push(p[a].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(f,{resultFunc:c,memoizedResultFunc:h,dependencies:p,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),f}}var gb=mb(fb);const vb=gb($c()("currentRegion"),$c()("deliveryRegion"),((e,t)=>t||e)),yb=gb(vb,(e=>_n()(Ic()($c()("namePrepositional"),$c()("name")),ub()({}))(e))),bb=gb($c()("currentRegion"),(e=>_n()($c()("name"),ub()({}))(e))),_b=gb($c()("capitalsByRegions"),(e=>_n()(Vn(),gn())(e))),Eb=gb((e=>e.currentRegionCapital),(e=>il()(["capitalsByRegions",bb(e)])(e)),((e,t)=>e||t)),Sb=e=>({name:e}),wb=gb(Uc()("cityList",[]),zo()(Sb)),kb=gb($c()("searchQuery"),Uc()("list",[]),((e,t)=>db()((t=>_u()(e,t.name.toLowerCase())),t))),Ob=gb(_b,$c()("searchQuery"),((e,t)=>{const a=zo()(Sb,e);return db()((e=>_u()(t,e.name.toLowerCase())),a||[])})),Tb=r;let Cb=class{};Cb=(0,Qt.__decorate)([(0,s.Y)({imports:[iy,Gt,rb,rh,Dg,jg,cy,yy,by,Ey,_y,Sy,ec],providers:[{provide:ny,useValue:(e,t)=>function(a){const{toggleRegionPopup:r}=(0,xi.x)({toggleRegionPopup:{optional:!0,token:ib.E}}),n=(0,Ii.x)(),o=(0,rr.useCallback)((()=>{if(r)return n.executeAction(r,{})}),[r,n]),{currentRegion:s}=(0,gh.v)({store:"region",optional:!0},(({region:e})=>({currentRegion:Tb.getDeliveryCityPrepositional(e)})));return(0,Ys.jsx)(t,{...a,applicationOpenPopup:o,currentRegion:s,variation:e})}},{provide:_c.pW,useValue:!0},{provide:sf.dZ,useValue:!0},{provide:sb,useValue:!0},(0,c.J)({provide:Ft,useFactory:({pageService:e})=>t=>{const a=e?.getConfig()?.metaThemeColor;t.updateMeta(10,{themeColor:{tag:"meta",attributes:{name:"theme-color",content:a||"#ffffff"}}})},deps:{pageService:Pt.Y9}})]})],Cb);const Rb=(0,s.Y)({providers:[]})(class{}),Mb=(0,s.Y)({providers:[]})(class{}),Nb=(0,s.Y)({imports:[Rb,Mb],providers:[]})(class{});var xb=a(60488);const Ab=(0,u.V3)("reactQuery queryClient"),Pb=(0,Rt.y)("UPDATE_SESSION"),Ib=(0,Mt.L)("session",{}).on(Pb,((e,t)=>t));var Lb=a(67744),qb=a.n(Lb),Db=a(56257),jb=a.n(Db),Fb=a(98799),Ub=a.n(Fb),Vb=a(68989),Bb=a.n(Vb),Hb=a(55500),Yb=a.n(Hb);const $b=_n()(db()((e=>!!e)),jb()(","),Hr()(["config","requiredRoles"],"")),Jb=Hr()(["config","accessLevel"],0),Kb=Hr()(["config","authenticateFailureRedirectUrl"],""),zb=Hr()(["config","failureRedirectWithQueryParams"],!1);function Gb(e,t=[]){const a=Yb()(e);return Ub()((t=>Ub()((a=>{var r;return!!(null===(r=e[a])||void 0===r?void 0:r[t])}),a)),t)}function Xb(e,t){return 0===function(e,t){const a=[];return e===t||Vn()(Bb()(Yb()(e),Yb()(t))).forEach((r=>{const n=Uc()(r,{},e),o=Uc()(r,{},t);Vn()(Bb()(Yb()(n),Yb()(o))).forEach((e=>{(null==n?void 0:n[e])!==(null==o?void 0:o[e])&&a.push(e)}))})),a}(e,t).length}const Wb="DYNAMIC",Qb=Uc()(Wb,{}),Zb=e=>ih()(Boolean,Qb(e)),e_=(e,t)=>{const a=$b(e),r=((e=0)=>Mm({[km]:{}},Tm[e]))(Jb(e));return a.length?!Gb(t,a):((e,t)=>{const a=Zb(e),r=Zb(t);return!(a||!r)||!(a&&!r)&&function(e,t){const a=Nm(e),r=Nm(t);if(a===r)return!1;for(let e=Am-1;e>=0;e--){const t=Om[e];if(!a[t]&&r[t])return!0}return!1}(e,t)})(t,r)},t_=({route:e,url:t,roles:a,redirectType:r="",accessDeniedRedirectUrl:n})=>{const o=null==n?void 0:n();if(o)return o;if(xm(a))return"/mybank/";const{path:s,query:i}=t;if(qb()("/login/",t.pathname))return;const c=zb(e),u=Kb(e);return u?cn(u,c?i:{}).path:cn("/login/",{redirectTo:s,redirectType:Hr()(["config","loginRedirectType"],r,e)}).path};class a_{constructor({strategies:e=[],timingCallbacks:t}){this.isAuthenticateFinishedPromise=null,this.isAuthenticateFinishedPromiseResolve=null,this.strategies=e,this.timingCallbacks=t}async authenticate(){var e,t,a,r,n,o,s,i,c,u,l,d,p;null===(t=null===(e=this.timingCallbacks)||void 0===e?void 0:e.onAuthStart)||void 0===t||t.call(e),this.isAuthenticateFinishedPromise=new Promise((e=>{this.isAuthenticateFinishedPromiseResolve=e}));for(let e=0,t=this.strategies.length;e<t;++e){const t=this.strategies[e],l=null!==(a=t.name)&&void 0!==a?a:`unknown:${e}`;null===(n=null===(r=this.timingCallbacks)||void 0===r?void 0:r.onAuthStrategyStart)||void 0===n||n.call(r,l);const{status:d,payload:p}=await this.authenticateBy(t);if(null===(s=null===(o=this.timingCallbacks)||void 0===o?void 0:o.onAuthStrategyResolved)||void 0===s||s.call(o,l,"success"===d),"success"===d)return null===(c=null===(i=this.timingCallbacks)||void 0===i?void 0:i.onAuthResolved)||void 0===c||c.call(i,!0),null===(u=this.isAuthenticateFinishedPromiseResolve)||void 0===u||u.call(this),p}null===(d=null===(l=this.timingCallbacks)||void 0===l?void 0:l.onAuthResolved)||void 0===d||d.call(l,!1),null===(p=this.isAuthenticateFinishedPromiseResolve)||void 0===p||p.call(this)}async authenticateBy(e){return new Promise((t=>{const a={pass:()=>t({status:"pass"}),success:e=>t({status:"success",payload:e})};e.authenticate(a)}))}}class r_{constructor({sessionManager:e}){this.sessionManager=e}authenticate({success:e,pass:t}){this.sessionManager.authenticate().then(e).catch(t)}get name(){return"SessionStrategy"}}class n_ extends a_{constructor({strategies:e,sessionManager:t,timingCallbacks:a}){super({strategies:e,timingCallbacks:a}),this.prolongateSession=async e=>this.sessionManager.prolongateSession(e),this.sessionManager=t,this.authenticateDeferred=(()=>{let e,t;return{promise:new Promise(((a,r)=>{e=a,t=r})),resolve:e,reject:t}})()}async logout(){return this.sessionManager.logout()}async runAuthenticateFlow(){return this.sessionManager.runAuthenticateFlow()}}const o_="module:authenticate:auth",s_="AUTH_JUNIOR_MOCK_ENABLED",i_=[{provide:L.Ym,useValue:Ib,multi:!0},{provide:L.Ym,useValue:Lm,multi:!0},{provide:Pt.sU,multi:!0,useFactory:({store:e,authenticateDeferred:t,onRouteGuardRedirect:a,accessDeniedRedirectUrl:r})=>async({to:n,url:o})=>{await t.promise;const{requested:s}=e.getState(Ib),i=e.getState(Lm);if(s&&e_(n,i)){const e=t_({route:n,url:o,roles:i,accessDeniedRedirectUrl:r});return a&&await a(e),e}},deps:{store:L.kR,authenticator:hl,authenticateDeferred:"authenticateDeferred",onRouteGuardRedirect:(0,u.jt)(Ol),accessDeniedRedirectUrl:(0,u.jt)(Sl)}},{provide:Mn,useFactory:({context:e})=>({key:"auth",fn:t=>{const{requiredCoreRoles:a,requiredRoles:r=a}=t.conditions;if(r){const a=e.getState(Lm),n=e.getState(Ib);if(!Gb(a,r))return t.forbid();const o=(({guid:e,accessLevel:t,campaign:a})=>{const r={guid:e,accessLevel:t};return a&&(r.campaignId=a.id),r})(n);mh()(t.getState(),o)||(t.allow(),t.setState(o))}}}),multi:!0,deps:{context:Sa.l}},{provide:hl,useFactory:function({strategies:e,sessionManager:t,timingCallbacks:a}){const r=$r()(e||[]);return new n_({sessionManager:t,strategies:r.concat(new r_({sessionManager:t})),timingCallbacks:a})},deps:{sessionManager:Mf,strategies:{token:vl,optional:!0},timingCallbacks:{token:yl,optional:!0}}},{provide:O.sQ,multi:!0,useValue:[{key:s_,optional:!0}]}],c_=(0,Rt.y)("AUTH_STATE_CHANGED");function u_({apiClient:e,pubsub:t,cookie:a,env:r,context:n,initialState:o,sessionCookieName:s,logger:i}){return new Nf({initialState:o,apiClient:e,cookie:a,dispatcher:function({payload:e}){const o=n.getStore("session").getState(),s=function(e){if(!r.get(s_))return e;if(!e.hasSsoSession)return e;const t=a.get("auth:junior:mock");return void 0===t?e:{...e,isJunior:"false"!==t}}(function(e){const{sessionId:t,...a}=e.session,{accessLevel:r,guid:o}=n.getStore("session").getState();return Object.assign(a,{guid:r===a.accessLevel?o:(new Date).getTime()})}(e)),i=n.getStore("roles").getState(),c=((e,t)=>{var a;const r=null===(a=t.campaign)||void 0===a?void 0:a.id;return r?((e,t,a="CLIENT")=>{const r=Em(e,km,wm(Cm)),n={[`${a}_${t}`]:!0},o=Qb(e);return Bd()(((e,t)=>e===o[t]),n)?r:{...r,[Wb]:n}})(e,r,t.accessLevel):Mm(((e,t)=>{var a;const r=null!==(a=Uc()(t,{},e))&&void 0!==a?a:{};return Bd()((e=>!1===e),r)?e:{...e,[t]:Sm(r)}})(e,Wb),t.accessLevel)})(i,s);return Promise.all([n.dispatch(Pb(s)),n.dispatch(Pm(c))]).then((()=>(Xb(i,c)&&o.hasSsoSession===e.session.hasSsoSession||n.dispatch(c_({session:o,newSession:s,roles:i,newRoles:c})),t.publish(o_,{currentSession:o,...e,roles:i,newRoles:c}))))},sessionCookieName:s,logger:i})}const l_=({authenticator:e,sessionLifetimeController:t,pubsub:a,context:r,pageService:n,logger:o,customRedirectUrl:s,queryClient:i,authenticateDeferred:c,onResolveAuthenticate:u,onAccessDeniedRedirect:l,onLogoutRedirect:d,onHasAccess:p,accessDeniedRedirectUrl:h,isClientAuth:f})=>{o.debug("SSO browser authenticateFactory initialized");const m=e=>{e&&t.startProlongateSessionOnUserActivity(),(0,xb.FO)(e)&&t.startPollingAuthorizedSessionStatus()};return a.subscribe(o_,(async e=>{m(e.session),i&&(async(e,t)=>{await e.refetchQueries({predicate:({options:e})=>{var a;const r=null===(a=e.tramvaiOptions)||void 0===a?void 0:a.conditions;if(!(null==r?void 0:r.requiredRoles)&&!(null==r?void 0:r.requiredCoreRoles))return!1;const{roles:n,newRoles:o}=t;return!Xb(n,o)}})})(i,e);const t=await(async({customRedirectUrl:e,pageService:t,logger:a,payload:r,context:n,onLogoutRedirect:o})=>{var s;const i=a("auth:pubsub"),{roles:c,newRoles:u,session:l}=r,d=xm(c)&&!xm(u)||Zb(c)&&!Zb(u);if(d){const a=!l.sessionId,r=!!l.sessionId,d=(({customRedirectUrl:e,pageService:t,sessionExpired:a,context:r})=>{var n,o,s;const i=t.getConfig()||{},{pageComponent:c}=i,u=t.getComponent(c),l=a?"sessionExpired":"himselfLogout";return(null==e?void 0:e())||(null===(n=null==i?void 0:i.redirects)||void 0===n?void 0:n[l])||(null===(s=null===(o=null==u?void 0:u.redirects)||void 0===o?void 0:o[l])||void 0===s?void 0:s.call(o,r,{sessionExpired:a}))})({customRedirectUrl:e,pageService:t,sessionExpired:r,context:n});let p=d,h={};if(!d){const e={config:t.getConfig()||{}},n=!e_(e,c)&&e_(e,u);if(a&&n)p="/";else if(n){const e=r?"sessionExpired":"";p=t_({route:t.getCurrentRoute(),url:t.getCurrentUrl(),roles:u,redirectType:e})}else p="./",h=null===(s=t.getCurrentUrl())||void 0===s?void 0:s.query}i.debug(`force redirect to ${p} after ${a?"user logout":"session expired"}`),o&&await o(p),await t.navigate({url:p,query:h})}return d})({customRedirectUrl:s,pageService:n,payload:e,logger:o,context:r,onLogoutRedirect:d});t||await(async({pageService:e,logger:t,payload:a,onAccessDeniedRedirect:r,accessDeniedRedirectUrl:n})=>{const o=t("auth:access"),s=e.getCurrentRoute(),i=e.getCurrentUrl(),{newRoles:c}=a;if(e_(s,c)){o.debug({event:"page-access-denied"});const t=t_({route:s,url:i,roles:c,accessDeniedRedirectUrl:n});return r&&await r(t),e.navigate({url:t,replace:!0}),!0}return!1})({logger:o,pageService:n,payload:e,onAccessDeniedRedirect:l,accessDeniedRedirectUrl:h})})),function(){return e.authenticate().then((()=>{const e=r.getStore(Ib).getState(),t=r.getStore(Lm).getState();!function({route:e,logger:t,roles:a,onHasAccess:r}){const n=t("auth:check-has-access");!e_(e,a)&&(n.debug({event:"has-access"}),null==r||r())}({route:n.getCurrentRoute(),logger:o,onHasAccess:p,roles:t}),m(e)})).finally((()=>{f()&&c.resolve(),u.resolve()}))}},d_=()=>{let e,t;return{promise:new Promise(((a,r)=>{e=a,t=r})),resolve:e,reject:t}},p_={authenticator:hl,sessionLifetimeController:gl,pubsub:Ka,context:Sa.l,pageService:Pt.Y9,logger:k.Fp,customRedirectUrl:{token:bl,optional:!0},queryClient:(0,u.jt)(Ab),authenticateDeferred:"authenticateDeferred",onResolveAuthenticate:_l,onAccessDeniedRedirect:(0,u.jt)(El),onHasAccess:(0,u.jt)(wl),onLogoutRedirect:(0,u.jt)(kl),accessDeniedRedirectUrl:(0,u.jt)(Sl),isClientAuth:Tl};let h_=class{};h_=(0,Qt.__decorate)([(0,s.Y)({imports:[la],providers:[...i_,{provide:Mf,useFactory:({apiClient:e,pubsub:t,cookie:a,env:r,context:n,sessionCookieName:o,logger:s})=>u_({apiClient:e,pubsub:t,env:r,cookie:a,context:n,sessionCookieName:o,initialState:{session:n.getStore("session").getState()},logger:s}),deps:{cookie:na.T,env:O.vC,apiClient:Qu,pubsub:Ka,context:Sa.l,sessionCookieName:{token:ml,optional:!0},logger:k.Fp}},{provide:gl,useClass:xb.ZP,deps:{sessionManager:Mf}},(0,c.J)({provide:Tl,useFactory:({envManager:e,renderModeFactory:t})=>()=>{const a="function"==typeof t?t():t;return"true"===e.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")||"client"===a},deps:{envManager:O.vC,renderModeFactory:Us}}),(0,c.J)({provide:P.customerStart,useFactory:e=>e.isClientAuth()?l_(e):Qn(),deps:p_,multi:!0}),(0,c.J)({provide:P.generatePage,useFactory:e=>e.isClientAuth()?Qn():l_(e),deps:p_,multi:!0}),{provide:"authenticateDeferred",useFactory:({isClientAuth:e})=>{var t;const a=d_();return e()||null===(t=a.resolve)||void 0===t||t.call(a),a},deps:{isClientAuth:Tl}},{provide:_l,useValue:d_()}]})],h_);const f_=(0,Rt.y)("Set master data"),m_=(0,Rt.y)("Set short link"),g_=(0,Rt.y)("Set mgm products"),v_=(0,Rt.y)("Set mgm available products"),y_=(0,Mt.L)("mgm",{masterData:{},products:[],availableProducts:[],shortLink:""}).on(f_,((e,t)=>({...e,masterData:t}))).on(m_,((e,t)=>({...e,shortLink:t}))).on(g_,((e,t)=>({...e,products:t}))).on(v_,((e,t)=>({...e,availableProducts:t}))),b_=(e="")=>"f"===e?"false":e,__=[{provide:nh.rw,scope:f.s.REQUEST,useClass:class{constructor({context:e}){this.getAllProducts=()=>il()(["products"],this._getMgmState()),this.getAvailableProducts=()=>il()(["availableProducts"],this._getMgmState()),this.getCurrentProduct=()=>{const e=this.getAllProducts();return Hm()((({current:e})=>!!e),e)},this.getMasterData=()=>il()(["masterData"],this._getMgmState()),this.getShortLink=()=>il()(["shortLink"],this._getMgmState()),this.getFormDependencies=()=>(({masterData:e,currentProduct:t,shortLink:a})=>fn()(e)?{}:{master_id:e.accountId,partner_id:e.offerZeroCd,master_name:e.fullName||e.master_name||"",name_publication_agreement:b_(e.name_publication_agreement)||"","offer.0.cd":Hr()(["slaveBonusCode"],"",t||{}),short_link:a})({masterData:this.getMasterData(),currentProduct:this.getCurrentProduct(),shortLink:this.getShortLink()}),this._getMgmState=()=>this._context.getStore("mgm").getState(),this._context=e;const t=this.getFormDependencies();Object.keys(t).forEach((e=>{this[e]=t[e]}))}},deps:{context:Sa.l}},{provide:L.Ym,multi:!0,useValue:y_}];var E_;let S_=E_=class{static forRoot(e){const t=[];return e.mgmProductCode&&t.push((0,c.J)({provide:nh.mb,useValue:e.mgmProductCode})),{mainModule:E_,providers:t}}};S_=E_=(0,Qt.__decorate)([(0,s.Y)({providers:__})],S_);var w_=a(71715),k_=a.n(w_);const O_=(0,Rt.y)("DCO_FEATURE_TOGGLES_INITIALIZED"),T_=(0,Rt.y)("DCO_FEATURE_TOGGLES_LOADED"),C_=(0,Mt.L)("tramvai_dcoFeatureToggle",{}).on(O_,((e,t)=>k_()((e=>e.path),Object.entries(t).map((([e,t])=>({path:e,value:t,flagKey:e,flagMetadata:{}})))))).on(T_,((e,t)=>({...e,...k_()((e=>e.flagKey),t)}))),R_=(0,n.J)({name:"DcoFeatureToggleModule",providers:[(0,c.J)({provide:L.Ym,multi:!0,useValue:C_})]});var M_=a(21858);const N_=rr.useLayoutEffect;var x_=a(14771),A_=a(82318);const P_=(0,A_.P)({name:"setCobrowsingStateAction",fn:function(e,t){return e.dispatch((0,M_.xZ)(t))},conditions:{onlyBrowser:!0,requiredCoreRoles:[oh.t1.REGISTERED]}});var I_=a(1860),L_=a(31437),q_=a(27169);const D_=()=>{window?.cobrowsing?.closeAllStreams()},j_=({cobrowsing:e,roles:t})=>{const a=(0,oh.QO)(t),r=a?"authorized":"anonymous";return{...e,cobrowsingEnabled:Hr()(["cobrowsingEnabled",r],!1,e),fullstoryEnabled:Hr()(["fullstoryEnabled",r],!1,e),isAuth:a}},F_=()=>{const{cobrowsingEnabled:e,fullstoryEnabled:t,isCobrowsingReady:a,cobrowsingState:r,loaded:n,isAuth:o}=(0,gh.v)([M_.d$,{store:"roles",optional:!0}],j_),s=(i=r,c=nr().useRef(i),N_((function(){c.current=i})),c);var i,c;const[u,l,d]=(0,Af.o)([P_,I_.X,L_.WM]),[p,h]=(0,rr.useState)(!0),[f,m]=(0,rr.useState)(),g=(0,rr.useCallback)((()=>setTimeout((()=>{/^disconnect/.test(s.current)&&u(q_.S.Hide)}),1e4)),[s,u]),v=(0,rr.useCallback)((()=>setTimeout((()=>{s.current===q_.S.Error&&(h(!0),u(q_.S.DisconnectError),g())}),3e3)),[s,g,u]),y=(0,rr.useMemo)((()=>e=>{switch(e.type){case x_.ReceiveMessageTypes.SESSION_REQUEST:h(!1),u(q_.S.Show);break;case x_.ReceiveMessageTypes.SESSION_CLOSE:h(!0),u(q_.S.Disconnect),g();break;case x_.ReceiveMessageTypes.CONNECTION_LOST:h(!1),u(q_.S.Error),(0,x_.send)(x_.SendMessageTypes.SESSION_CLOSE,"handleConnectionLost"),v();break;case x_.ReceiveMessageTypes.BAD_CONNECTION:u(q_.S.Connect);break;case x_.ReceiveMessageTypes.GOOD_CONNECTION:u(q_.S.Connected);break;case x_.ReceiveMessageTypes.NO_CONNECTION:h(!1),u(q_.S.NoConnection);break;case x_.ReceiveMessageTypes.MARK_AREA:m(e.data)}}),[v,g,u]),b=(0,rr.useMemo)((()=>({handleApproveClick:()=>{h(!0),u(q_.S.Connect),(0,x_.send)(x_.SendMessageTypes.SESSION_CONFIRMATION,"handleApproveClick")},handleConnectedClick:()=>{h(!1)},handleOnDenyClick:()=>{h(!0),u(q_.S.Deny),(0,x_.send)(x_.SendMessageTypes.SESSION_REFUSE,"handleOnDenyClick"),g()},handleOnDisconnectClick:()=>{h(!0),u(q_.S.Disconnect),(0,x_.send)(x_.SendMessageTypes.SESSION_CLOSE,"handleOnDisconnectClick"),g()},handleOnCloseClick:()=>{h(!0)},handleOnCloseError:()=>{h(!0),u(q_.S.DisconnectError),g()},handleNoConnectionRefresh:()=>{h(!0),u(q_.S.DisconnectNoConnection),(0,x_.send)(x_.SendMessageTypes.SESSION_CLOSE,"handleNoConnectionClose"),g()}})),[g,u]);return(0,rr.useEffect)((()=>{n&&e&&l({onMessage:y,disableStream:!o}).then((()=>t&&d())).catch((()=>{}))}),[y,e,t,n,l,d,o]),(0,rr.useEffect)((()=>D_),[]),window?.cobrowsing&&a?{collapsed:p,markData:f,cobrowsingState:r??"hide",handlers:b}:{collapsed:p,handlers:b,cobrowsingState:"hide"}},U_=nr().lazy((()=>a.e("cobrowsing-ui").then(a.bind(a,57156))));function V_(){const e=F_(),{handlers:t,collapsed:a,cobrowsingState:r,markData:n}=e||{};return r&&"hide"!==r&&(0,Ys.jsx)(rr.Suspense,{fallback:"",children:(0,Ys.jsx)(U_,{handlers:t,collapsed:a,markData:n,cobrowsingState:r})})}V_.displayName="Cobrowsing";const B_=(0,u.V3)("SEND_CUSTOM_DATA");let H_=class{};H_=(0,Qt.__decorate)([(0,s.Y)({providers:[{provide:L.Ym,multi:!0,useValue:[M_.dm]},{provide:Fs,useValue:{components:{cobrowsing:V_}},multi:!0},{provide:B_,useValue:function(...e){return(0,x_.send)(x_.SendMessageTypes.CUSTOM_DATA,...e)}}]})],H_);const Y_="SsoTimeout";class $_{constructor({sessionManager:e,envManager:t,cookieManager:a,store:r,logger:n,apiAuthMethod:o}){this.sessionManager=e,this.store=r,this.logger=n,this.envManager=t,this.cookieManager=a,this.apiAuthMethod=o}async onAuthComplete(e){return function({sessionId:e,accessLevel:t,hasSsoToken:a}={}){return!(!e||!t||t===oh.t1.ANONYMOUS&&!a)}(e)?this.sessionManager.updateSessionStatus(e.sessionId):Promise.reject()}shouldPass(){const e=this.store.getState(Sg);return(0,oh.QO)(e)}async authenticate({success:e,pass:t}){return this.shouldPass()?t():this.authenticateViaHiddenFrame().then(this.onAuthComplete.bind(this)).then(e).catch(t)}createHiddenAuthFrame(){const e=function(e,{origin:t="web,ib5,platform",...a}={},r=null){const n=e.get("SSO_AUTH_TINKOFF_API")||e.get("TINKOFF_API");return cn(`${n}${r||"session/authorize"}`,{origin:t,...a})}(this.envManager,{prompt:"none"},this.apiAuthMethod),t=document.createElement("iframe");return t.style.width="0px",t.style.height="0px",t.style.position="absolute",t.style.left="-4000px",t.src=e.toString(),t}createAuthMessageHandler(){let e=()=>{};const t=new Promise((t=>{const a=e=>{(function({data:e}){return!(!e||e.data||"string"!=typeof e.messageCode||"authComplete"!==e.messageCode&&"authError"!==e.messageCode&&"authPrepareError"!==e.messageCode)})(e)&&t(e.data)};e=()=>window.removeEventListener("message",a),window.addEventListener("message",a)}));return{promise:t,unsubscribe:e}}perfStart(e="sso-perf"){const t=Date.now();return a=>{const r=Date.now()-t;this.logger.info({type:a,event:e,message:`${r}`})}}async authenticateViaHiddenFrame(){const e=this.perfStart(),t=this.createHiddenAuthFrame(),a=this.createAuthMessageHandler();return document.body.appendChild(t),Promise.race([a.promise,(r=1e4,new Promise(((e,t)=>setTimeout((()=>{return t((e=Y_,Object.assign(new Error("SSO timeout"),{type:e})));var e}),r))))]).then((t=>(e("iframe-check"),t))).catch((t=>{throw t&&t.type===Y_?e("iframe-check-timeout"):this.logger.error({event:"iframe-check-error",error:t}),t})).finally((()=>{a.unsubscribe(),document.body.removeChild(t)}));var r}get name(){return"SsoStrategy"}}let J_=class{};J_=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:vl,useFactory:function({logger:e,...t}){return new $_({logger:e("auth:sso"),...t})},deps:{sessionManager:fl,cookieManager:na.T,envManager:O.vC,logger:k.Fp,store:L.kR,apiAuthMethod:{token:Cl,optional:!0}},multi:!0})]})],J_);let K_=class{};K_=(0,Qt.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:"serviceWorker",useFactory:({serviceWorkerUrl:e,serviceWorkerParams:t})=>function(){if("serviceWorker"in navigator){let a="";if(t?.length){const e=[];for(const a of t){const t="function"==typeof a?a():a;t&&Object.keys(t).forEach((a=>{e.push(`${encodeURIComponent(a)}=${encodeURIComponent(t[a])}`)}))}a=e.join("&")}return navigator.serviceWorker.register(`${e}${a?`?${a}`:""}`)}return Promise.reject(new Error("ServiceWorker not supported"))},deps:{serviceWorkerUrl:"pwaServiceWorkerUrl",serviceWorkerParams:{token:nb,optional:!0}}}),(0,c.J)({provide:"pwaServiceWorkerUrl",useValue:"/sw.js"}),(0,c.J)({provide:P.init,multi:!0,useFactory:({serviceWorkerCommandLine:e,di:t})=>function(){t.register({provide:e?P[e]:P.customerStart,useFactory:({serviceWorker:e,logger:t})=>function(){e().catch((e=>{t.warn({event:"serviceworker-initialise-error",error:e})}))},deps:{serviceWorker:"serviceWorker",logger:k.Fp}})},deps:{di:ya.Z,serviceWorkerCommandLine:{token:ob,optional:!0}}})]})],K_);let z_=class{};var G_;z_=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],z_),function(e){e.fatal="fatal",e.error="error",e.warning="warning",e.log="log",e.info="info",e.debug="debug",e.critical="critical"}(G_||(G_={}));const X_=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,W_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Q_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Z_="?",eE=/^(?:(\w+):)\/\/(?:([\w-]+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tE(e){return(e&&e.message||"No error message").split("\n").filter((e=>!!e))[0]}function aE(e){try{const t=function(e){if(!e.stack)return null;const t=[],a=e.stack.split("\n");let r,n;for(let o=0;o<a.length;++o){if(r=X_.exec(a[o]))n={filename:r[2]&&0===r[2].indexOf("address at ")?r[2].substr(11):r[2],function:r[1]||Z_,lineno:r[3]?+r[3]:null,colno:r[4]?+r[4]:null};else if(r=Q_.exec(a[o]))n={filename:r[2],function:r[1]||Z_,lineno:+r[3],colno:r[4]?+r[4]:null};else{if(!(r=W_.exec(a[o])))continue;0!==o||r[5]||void 0===e.columnNumber||(t[0].column=e.columnNumber+1),n={filename:r[3],function:r[1]||Z_,lineno:r[4]?+r[4]:null,colno:r[5]?+r[5]:null}}!n.function&&n.lineno&&(n.function=Z_),t.push(n)}return t.length?{value:tE(e),type:e.name,stacktrace:{frames:t.reverse()}}:null}(e);if(t)return t}catch(e){}return{value:tE(e),type:e&&e.name,stacktrace:{frames:[]}}}class rE{constructor(e){if(e&&e.dsn){const t=eE.exec(e.dsn),a=t?t.slice(1):[],r=a[5].split("/"),n=r.slice(0,-1).join("/");this.apiUrl=a[0]+"://"+a[3]+(a[4]?":"+a[4]:"")+(n?"/"+n:"")+"/api/"+r.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+a[1]+(a[2]?",sentry_secret="+a[2]:"")}this.environment=e&&e.environment}prepare(e){return{...this.getRequestBlank(),exception:{values:[aE(e)]}}}report(e){this.send(this.prepare(e))}send(e){this.apiUrl&&e&&this.createRequest(e)}createRequest(e){const t=new XMLHttpRequest;t.open("POST",this.apiUrl,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Sentry-Auth",this.authHeader||""),t.send(JSON.stringify(e))}getRequestBlank(){return{platform:"javascript",event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),sdk:{name:"micro-sentry.javascript.core",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}}function nE(e,t){return"[object RegExp]"===Object.prototype.toString.call(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}const oE=100;function sE(){return window}class iE extends rE{constructor(e,t=sE()){super(e),this.options=e,this.window=t,this.breadcrumbsKeyName="breadcrumbs",this.destroyed=!1,this._state={};const{plugins:a=[],beforeSend:r=(e=>e),beforeBreadcrumb:n=(e=>e),blacklistUrls:o=[],ignoreErrors:s=[],release:i,maxBreadcrumbs:c=oE}=this.options||{}||[];this.plugins=a.map((e=>new e(this))),this.beforeSend=r,this.beforeBreadcrumb=n,this.blacklistUrls=o,this.ignoreErrors=s,this.release=i,this.maxBreadcrumbs=c>=0?c:oE}get state(){return this._state}clearState(){this._state={}}setTags(e){return this.setKeyState("tags",{...e}),this}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}setExtra(e,t){return this.extendState({extra:{[e]:t}}),this}setExtras(e){return this.setKeyState("extra",{...e}),this}setUser(e){return this.setKeyState("user",e?{...e}:void 0),this}clone(){const e=new iE({...this.options,plugins:[]});return e.extendState(this.state),e}withScope(e){const t=this.clone();e(t),t.destroy(),this.setBreadcrumbs(void 0)}addBreadcrumb(e){const t=this.beforeBreadcrumb(e);t&&(this.extendState({[this.breadcrumbsKeyName]:[{timestamp:Date.now()/1e3,...t}]}),this.trimBreadcrumbs())}setBreadcrumbs(e){this.setKeyState(this.breadcrumbsKeyName,e),this.trimBreadcrumbs()}captureMessage(e,t){this.send({...this.getRequestBlank(),message:e,level:t})}destroy(){this.destroyed=!0,this.plugins.forEach((e=>{e.destroy&&e.destroy()}))}isIgnoredError(e){return!!this.ignoreErrors.length&&this.getPossibleEventMessages(e).some((e=>this.ignoreErrors.some((t=>nE(e,t)))))}extractQueryString(e){let t=e;if(t){t.startsWith("/")&&(t=`http://prefix${t}`);try{const e=new URL(t).search.slice(1);return e.length?e:void 0}catch(e){return}}}getRequestBlank(){const e=this.window.location.toString();return{request:{url:e,query_string:this.extractQueryString(e),headers:{"User-Agent":this.window.navigator.userAgent}},...super.getRequestBlank(),sdk:{name:"micro-sentry.javascript.browser",version:"0.0.0"},...this.state}}send(e){if(this.destroyed||this.isDeniedUrl(e)||this.isIgnoredError(e))return;const t=this.beforeSend({release:this.release,...e});t&&(super.send(t),this.setBreadcrumbs(void 0))}getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:a=""}=e.exception.values&&e.exception.values[0]||{};return[`${a}`,`${t}: ${a}`]}catch(e){return[]}return[]}isDeniedUrl(e){if(!this.blacklistUrls.length)return!1;const t=this.getEventFilterUrl(e);return!!t&&this.blacklistUrls.some((e=>nE(t,e)))}getEventFilterUrl(e){try{if(e.exception){const t=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return t&&t[t.length-1].filename||null}return null}catch(e){return null}}extendState(e){this._state=Object.keys(e).reduce(((t,a)=>{const r=this._state[a],n=Array.isArray(r)?r:null,o=e[a],s=Array.isArray(o)?o:null;return{...t,[a]:n||s?[...n||[],...s||[]]:{..."string"!=typeof r?r:{},..."string"!=typeof o?o:{}}}}),this._state)}setKeyState(e,t){this._state[e]=t}getKeyState(e){return this._state[e]}trimBreadcrumbs(){const e=this.getKeyState(this.breadcrumbsKeyName);e&&(e.length??0)>this.maxBreadcrumbs&&this.setKeyState(this.breadcrumbsKeyName,this.maxBreadcrumbs>0?e.slice(-this.maxBreadcrumbs):[])}}const cE=(0,u.V3)("MICRO_SENTRY_INSTANCE_TOKEN"),uE=(0,u.V3)("MICRO_SENTRY_OPTIONS_TOKEN",{multi:!0}),lE=(0,u.V3)("MICRO_SENTRY_INLINE_ERROR_INTERCEPTOR_KEY_TOKEN"),dE=[(0,c.J)({provide:lE,useValue:"__MICRO_SENTRY_MODULE_INLINE_ERROR_INTERCEPTOR__"}),(0,c.J)({provide:O.sQ,useValue:[{key:"SENTRY_DSN",validator:y},{key:"SENTRY_ENVIRONMENT",optional:!0},{key:"SENTRY_RELEASE",optional:!0}]}),(0,c.J)({provide:cE,useFactory:({microSentryOptions:e,envManager:t})=>{const a={environment:t.get("SENTRY_ENVIRONMENT"),release:t.get("SENTRY_RELEASE"),dsn:t.get("SENTRY_DSN")},r=(e??[]).reduce(((e,t)=>({...e,...t})),a);return new iE(r)},deps:{envManager:O.vC,microSentryOptions:{token:uE,optional:!0}}}),(0,c.J)({provide:P.init,useFactory:({microSentry:e,microSentryInlineErrorInterceptorKey:t})=>function(){const a=window[t];for(a.onError=t=>{e?.report(t)};a?.errorsQueue?.length;){const e=a.errorsQueue.pop();a.onError(e)}return e},deps:{microSentry:cE,microSentryInlineErrorInterceptorKey:lE}})],pE=(0,n.J)({name:"TramvaiMicroSentryModule",providers:dE,imports:[]}),hE=(0,u.V3)("MICRO_SENTRY_CUSTOM_TAGS",{multi:!0}),fE=(0,n.J)({name:"TramvaiTinkoffMicroSentryModule",imports:[pE],providers:[(0,c.J)({provide:uE,useFactory:({appInfo:e,envManager:t,wuid:a,requestManager:r,requestTags:n})=>{const{appName:o}=e,s=t.get("APP_VERSION"),i=t.get("APP_RELEASE"),c=t.get("SENTRY_RELEASE")??i??s,u=(n??[]).reduce(((e,t)=>({...e,...t})),{}),l={release:c,beforeSend:e=>{const{href:t}=window.location,n=(e=>{const[t,a]=e.split("?");if(!a)return e;const r=new URLSearchParams(a);return r.forEach(((e,t)=>{const a=Kf[t.toLowerCase()]||Za();r.set(t,a(e,t))})),`${t}?${decodeURIComponent(r.toString())}`})(t),[i,c]=n.split("?"),l=r.getClientIp()??void 0;return e.user={id:a,ip_address:l,...e?.user??{}},e.request={...e?.request??{},url:i,query_string:c},e.tags={url:i,query:c,wuid:a,"app.name":o,"app.version":s,"app.platform":"browser",ip:l,userAgent:e?.request?.headers?.["User-Agent"]??"unknown",...e?.tags??{},...u},e}};return l},deps:{appInfo:h.Qo,envManager:O.vC,requestManager:oa,wuid:{token:T.$,optional:!0},requestTags:{token:hE,optional:!0}}})]}),mE=(0,Rt.y)("REGION_CURRENT_SET"),gE=(0,Rt.y)("REGION_CITY_LIST_SET"),vE=(0,Rt.y)("REGION_TAPI_SPECIFY_SET"),yE=(0,Rt.y)("REGION_POPUP_VISIBILITY");function bE(e,t){return{...e,suggestList:t.list,suggestValue:t.value}}const _E=(0,Mt.L)("region",{currentRegion:{},cityList:[],suggestList:[],suggestValue:"",popupVisible:!1}).on(mE,((e,t)=>({...e,currentRegion:t}))).on(gE,((e,t)=>{const a={...e,cityList:t};return e.currentRegion.id||(a.currentRegion=t[0]),a})).on(vE,bE).on(yE,(e=>({...e,...bE(e,{list:[],value:""}),popupVisible:!e.popupVisible}))),EE=(0,A_.P)({name:"regionPopupToggleVisibility",fn:e=>e.dispatch(yE())}),SE={value:"",list:[]},wE=(0,A_.P)({name:"loadRegionSuggestList",fn:(e,t,a)=>{if(!t)return e.dispatch(vE(SE));const r=a.logger({name:"region:load-region-suggest-list"});return a.geoApiService.requestRegions({feature:"selectable",query:t},{silent:!0}).then((e=>e.slice(0,10))).then((e=>e.map((e=>({...e,namePrepositional:e.namePrepositional||e.name}))))).then((a=>e.dispatch(vE({value:t,list:a})))).catch((t=>e.dispatch(vE(SE)).then((()=>r.error(t)))))},deps:{geoApiService:Ig,logger:k.Fp}}),kE=(0,A_.P)({name:"setCurrentRegion",fn:(e,t,{cookie:a})=>(a.get("rid")!==t.id&&a.set({name:"rid",value:t.id}),e.dispatch(mE(t))),deps:{cookie:na.T}}),OE=(0,A_.P)({name:"loadDeliveryCity",fn:(e,t,a)=>a.adminResourcesService.getResources("app_form_landing_delivery_cities_cases").then((e=>e.map((e=>({id:e.id,name:e.name,namePrepositional:e.prepositional}))))).then((t=>e.dispatch(gE(t)))).catch((e=>{a.logger({name:"region:load-delivery-city"}).error(e)})),deps:{adminResourcesService:Ku,logger:k.Fp}});class TE extends nr().PureComponent{constructor(){super(...arguments),this.state={PopupComponent:e=>null},this.handleRegionSelect=e=>{const{setCurrentRegion:t,regionPopupToggleVisibility:a}=this.props;t(e),a()}}componentDidMount(){const{isMobileDevice:e}=this.props;if(e)return this.setState({PopupComponent:Or({chunkName:()=>"tinkoff-boxy-module-mobile-popup-region",requireSync(e){return a(this.resolve(e))},isReady(e){const t=this.resolve(e);return!!a.m[t]},importAsync:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("a02474c4d2584228"),a.e("0e62c58c969ece9f"),a.e("tinkoff-boxy-module-mobile-popup-region")]).then(a.bind(a,60062)),requireAsync(e){return this.resolve(e),this.importAsync(e).then((e=>e))},resolve:()=>60062})});this.setState({PopupComponent:Or({chunkName:()=>"tinkoff-boxy-module-desktop-popup-region",requireSync(e){return a(this.resolve(e))},isReady(e){const t=this.resolve(e);return!!a.m[t]},importAsync:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("a02474c4d2584228"),a.e("0e62c58c969ece9f"),a.e("tinkoff-boxy-module-desktop-popup-region")]).then(a.bind(a,1582)),requireAsync(e){return this.resolve(e),this.importAsync(e).then((e=>e))},resolve:()=>1582})})}render(){const{popupVisible:e,regionPopupToggleVisibility:t,loadRegionSuggestList:a,suggestList:r,suggestValue:n,cityList:o}=this.props,{PopupComponent:s}=this.state;return(0,Ys.jsx)(s,{opened:e,onClose:t,onChangeRegionField:a,suggestList:r,defaultList:n?[]:o,onRegionSelect:this.handleRegionSelect})}}function CE(e){return"mobile"===il()(["device","type"],e)}function RE(e){const{popupVisible:t}=e;return t?(0,Ys.jsx)(TE,{...e}):null}TE.displayName="PopupIndependent";const ME=e=>{const t=(0,Ii.x)(),{boxyPubsub:a,popupShowAction:r}=(0,xi.x)({boxyPubsub:{optional:!0,token:"boxyPubsub"},popupShowAction:ib.E}),n=(0,rr.useCallback)((e=>{"showRegionPopup"===("object"==typeof e&&e?.type)&&t.executeAction(r)}),[t,r]);(0,rr.useEffect)((()=>a?.subscribe("page-maker-action",n)),[a,n]);const o=(0,gh.v)(["region","userAgent"],(({region:e,userAgent:t})=>({cityList:e.cityList,popupVisible:e.popupVisible,suggestList:e.suggestList,suggestValue:e.suggestValue,isMobileDevice:CE(t)})));(0,rr.useEffect)((()=>{o.popupVisible&&!o.cityList.length&&t.executeAction(OE,{})}),[o.popupVisible,o.cityList,t]);const[s,i,c]=(0,Af.o)([EE,wE,kE]);return o.cityList.length?(0,Ys.jsx)(RE,{...e,...o,regionPopupToggleVisibility:s,loadRegionSuggestList:i,setCurrentRegion:c}):null},NE=[(0,c.J)({provide:Fs,multi:!0,useValue:[{components:{regionPopup:ME}}]})];let xE=class{};xE=(0,Qt.__decorate)([(0,s.Y)({imports:[qg,Ia],providers:[...NE,{provide:ib.E,useValue:EE},{provide:L.Ym,useValue:_E,multi:!0}]})],xE);let AE=class{};AE=(0,Qt.__decorate)([(0,s.Y)({imports:[],providers:[]})],AE);let PE=class{};var IE,LE;PE=(0,Qt.__decorate)([(0,s.Y)({providers:[]})],PE);let qE=(IE=(0,s.Y)({providers:[{provide:P.resolveUserDeps,multi:!0,useFactory:({userAgent:e,pageService:t})=>function(){(({userAgent:e,properties:t})=>{const a=Hr()(["preventPwaBannerFor"],"miui browser",t);return!(!v()(a)||!e?.browser?.name)&&a.split(",").map((e=>e.trim())).includes(e.browser.name)})({userAgent:e,properties:t.getConfig()})&&window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault()}))},deps:{userAgent:Na,pageService:Pt.Y9}}]}),IE(LE=class{})||LE);const DE=(0,u.V3)("CONFIG_MAP_HTTP_CLIENT_TOKEN"),jE=(0,c.J)({provide:DE,useFactory:({factory:e,envManager:t})=>e({name:"config-map-api",cacheTime:3e5,baseUrl:t.get("RESOURCES_CDN_URL")}),deps:{factory:_c.FB,envManager:O.vC}}),FE=(0,Rt.y)("Set invite friend"),UE=(0,Mt.L)("inviteFriend",{name:"Ваш друг",success:!1}).on(FE,((e,t)=>({...e,name:t.name||"Ваш друг",success:t.success??!1})));var VE=a(50137);const BE=(0,po.H)({name:"get-invite-code-data",async fn({inviteCode:e,replaceMap:t}){const{httpClient:a,environmentManager:r,logger:n}=this.deps;let o;try{o=(await a.get(`${r.get("ORIGINATION_API")}referralData?${e}`)).payload}catch(e){n({name:"invite-friend:load error"}).error(e)}if(!(o&&o.success&&o.result&&o.result.inviterCompanyName))return{success:!1};const{inviterCompanyName:s}=o.result,i=t&&t[s],c=i?`<nobr>${i}</nobr>`:(0,VE.O)(o.result.inviterCompanyName).replace(/\s/g,"&thinsp;");return{success:!0,product:o.result.product,name:c}},conditions:{onlyServer:!0},deps:{httpClient:_c.bV,environmentManager:O.vC,logger:k.Fp}}),HE=(0,po.H)({name:"get-invite-code-data",async fn(){const{configMapHttpClient:e,logger:t}=this.deps;try{return(await e.get("resources/sme_inviteFriend_map.json")).payload}catch(e){return t({name:"invite-friend:config-map load fail"}).error(e),{}}},conditions:{onlyServer:!0},deps:{configMapHttpClient:DE,logger:k.Fp}}),YE="invite-master-data";var $E;let JE=(0,s.Y)({providers:[jE,{provide:L.Ym,multi:!0,useValue:UE},(0,c.J)({provide:mi,multi:!0,scope:f.s.REQUEST,useFactory:({context:e,cookieManager:t})=>a=>async r=>{const n=await a({...r});if(!Jo()(n.payload))return n;const o=n.route?.config?.inviteFriend;if(o){const{query:a}=r.url,{invite_code:o,invite_code2:s,short_link:i,shortLink:c}=a;let u=((e,t,a,r)=>{let n;const o=t??a??r;return o?n=`inviteCode2=${encodeURIComponent(o)}`:e&&(n=`inviteCode=${encodeURIComponent(e)}`),n})(o,s,i,c);if(!u){const e=t.get(YE);if(!e)return n;u=e}const{replaceMap:l,redirectMap:d}=await e.executeAction(HE),p=await e.executeAction(BE,{inviteCode:u,replaceMap:l});if(!p.success)return n;t.set({name:YE,value:u,expires:1800}),await e.dispatch(FE(p));const h="/business/invite-friend/"===r.url.pathname,f=d&&d[p.product];if(h&&f)return{...n,payload:{...n.payload,redirectUrl:f},route:{...n.route,name:"invite-friend-redirect",redirect:{url:f,code:301,preserveQuery:!0}}}}return n},deps:{context:Sa.l,cookieManager:na.T}})]})($E=class{})||$E;var KE=a(68643),zE=a.n(KE),GE=a(48714),XE=a.n(GE);const WE=(e={},t=Za())=>{const a=zE()(e),r=[a];for(;r.length>0;){const e=r.shift();"object"==typeof e&&null!==e&&Object.entries(e).forEach((([a,n])=>{"string"==typeof n?e[a]=t(n):r.push(n)}))}return a},QE=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря","января"],ZE=(e,t)=>new Date(t,e+1,0).getDate(),eS=e=>{const t=(new Date).getDate(),a=(new Date).getMonth(),r=(new Date).getFullYear(),[,n]=e.split("_"),o=parseInt(n,10);if(0===o)return"";const s=t+1>=ZE(a,r),i=s?a+1:a,c=s?1:t,u=ZE(i,r)/o;for(let e=1;e<=o;e+=1){const t=Math.floor(u*e);if(t>c+1)return`${t} ${QE[i]}`}return""},tS={datePatch:()=>e=>{const t=(e||"").match(/\$dateplus_\d+/g);if(!t||0===t.length)return e;let a=e;for(let e=0,r=t.length;e<r;e+=1){const r=eS(t[e]);a=a.replace(t[e],r)}return a},inviteFriend:e=>t=>{const{name:a="Ваш друг"}=e?.getStore("inviteFriend")?.getState(),r=(t||"").match(/\$recommenderName/g);if(!r||0===r.length)return t;let n=t;for(let e=0,t=r.length;e<t;e+=1)n=n.replace(r[e],a);return n}};var aS;let rS=(0,s.Y)({providers:[(0,c.J)({provide:mi,multi:!0,scope:f.s.REQUEST,useFactory:({context:e})=>t=>async a=>{const r=await t({...a});if(!Jo()(r.payload))return r;const n=r?.route?.config?.variationPatches;if(!n)return r;let o=zE()(r.route?.config?.content?.content);const s="string"==typeof n?n.split(","):[];if(o&&s&&s.length)for(const t of s)"function"==typeof tS[t]&&(o=WE(o,tS[t](e)));return XE()(["route","config","content","content"],o,r)},deps:{context:Sa.l}})]})(aS=class{})||aS;const nS={"/$%7B%23w=%23context.get('com.opensymphony.xwork2.dispatcher.HttpServletResponse').getWriter(),%23w.print('Nessus%20Response:%20'),%23w.println('struts_2_3_14_3_command_execution-260413097'),%23w.flush(),%23w.close()%7D.action":!0,"/$%7B260413097+5%7D.action":!0,"/%3Cmeta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22%3E":!0,"/+CSCOT+/oem-customization?app=AnyConnect&type=oem&platform=..&resource-type=..&name=%2bCSCOE%2b/portal_inc.lua":!0,"/+CSCOT+/translation-table?type=mst&textdomain=%2bCSCOE%2b/portal_inc.lua&default-language&lang=../":!0,"/.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./.%7C./winnt/win.ini":!0,"/..../..../..../..../..../..../..../..../..../windows/win.ini":!0,"/....4.2.1....json":!0,"/.../.../.../.../.../.../.../.../.../etc/passwd":!0,"/.../.../.../.../.../.../.../.../.../windows/win.ini":!0,"/..htaccess.swp":!0,"/.1.json":!0,"/.DS_Store":!0,"/.Dockerfile":!0,"/.axiom/accounts/do.json":!0,"/.azure-pipelines.yml":!0,"/.bluemix/pipeline.yml":!0,"/.build.sh":!0,"/.buildkite/pipeline.yml":!0,"/.bzr/branch/branch.conf":!0,"/.c9/metadata/environment/.env":!0,"/.children....4.2.1....json":!0,"/.children.1.json":!0,"/.children.json/FNZ.css":!0,"/.children.json/FNZ.html":!0,"/.children.json/FNZ.ico":!0,"/.children.json/FNZ.png":!0,"/.children.json?FNZ.css":!0,"/.children.json?FNZ.html":!0,"/.children.json?FNZ.ico":!0,"/.circleci/circle.yml":!0,"/.circleci/config.yml":!0,"/.circleci/ssh-config":!0,"/.cobalt":!0,"/.codefresh/codefresh.yml":!0,"/.codeship.yml":!0,"/.coveralls.yml":!0,"/.db.yaml":!0,"/.docker/.env":!0,"/.docker/config.json":!0,"/.dockerfile":!0,"/.drone.yml":!0,"/.env":!0,"/.env-example":!0,"/.env.backup":!0,"/.env.dev":!0,"/.env.dev.local":!0,"/.env.development.local":!0,"/.env.development.sample":!0,"/.env.dist":!0,"/.env.example":!0,"/.env.live":!0,"/.env.local":!0,"/.env.prod.local":!0,"/.env.production":!0,"/.env.production.local":!0,"/.env.stage":!0,"/.env.travis":!0,"/.environment":!0,"/.envrc":!0,"/.envs":!0,"/.env~":!0,"/.git-credentials":!0,"/.git/HEAD":!0,"/.git/config":!0,"/.github/workflows/CI.yml":!0,"/.github/workflows/automerge.yml":!0,"/.github/workflows/ci-daily.yml":!0,"/.github/workflows/ci-issues.yml":!0,"/.github/workflows/coverage.yml":!0,"/.github/workflows/lint.yml":!0,"/.github/workflows/main.yml":!0,"/.github/workflows/snyk.yml":!0,"/.github/workflows/test.yml":!0,"/.github/workflows/tests.yml":!0,"/.gitlab-ci.yml":!0,"/.htaccess.bak":!0,"/.htaccess.copy":!0,"/.htaccess.old":!0,"/.htaccess.tmp":!0,"/.htaccess.~1~":!0,"/.htaccess~":!0,"/.jenkins.sh":!0,"/.json":!0,"/.json/FNZ.css":!0,"/.json/FNZ.html":!0,"/.json/FNZ.ico":!0,"/.json/FNZ.png":!0,"/.json?FNZ.css":!0,"/.json?FNZ.html":!0,"/.json?FNZ.ico":!0,"/.keys.yml":!0,"/.keys.yml.swp":!0,"/.semaphore/semaphore.yml":!0,"/.sql":!0,"/.sqlite_history":!0,"/.ssh/known_hosts":!0,"/.ssh/known_hosts.old":!0,"/.svn/entries":!0,"/.travis.sh":!0,"/.travis.yml":!0,"/.travis.yml.swp":!0,"/.travis.yml~":!0,"/.tugboat":!0,"/.user.ini":!0,"/.vscode/":!0,"/.vscode/.env":!0,"///etc....4.2.1....json":!0,"///etc.1.json":!0,"///etc.children....4.2.1....json":!0,"///etc.children.1.json":!0,"///etc.children.json":!0,"///etc.children.json/FNZ.css":!0,"///etc.children.json/FNZ.html":!0,"///etc.children.json/FNZ.ico":!0,"///etc.children.json/FNZ.png":!0,"///etc.children.json?FNZ.css":!0,"///etc.children.json?FNZ.html":!0,"///etc.children.json?FNZ.ico":!0,"///etc.json":!0,"///etc.json/FNZ.html":!0,"///etc.json/FNZ.ico":!0,"///etc.json/FNZ.png":!0,"///etc.json?FNZ.css":!0,"///etc.json?FNZ.ico":!0,"//blog/wp-includes/wlwmanifest.xml":!0,"/07-accessing-data/end/vue-heroes/.env":!0,"/08-routing/begin/vue-heroes/.env":!0,"/08-routing/end/vue-heroes/.env":!0,"/09-managing-state/begin/vue-heroes/.env":!0,"/09-managing-state/end/vue-heroes/.env":!0,"/1.sql":!0,"/1637238146/facts/target.tinkoff.ru":!0,"/2.sql":!0,"/2011.sql":!0,"/2019.sql":!0,"/2020.sql":!0,"/2021.sql":!0,"/3-sequelize/final/.env":!0,"/31_structure_tests/.env":!0,"/404.php.bak":!0,"/7/0/33/1d/www.citysearch.com/search?what=x&where=place%22%3E%3Csvg+onload=confirm(document.domain)%3E":!0,"/AddMissingPrimaryKeys.sql":!0,"/Agent.sql":!0,"/Application.properties":!0,"/Assignment3/.env":!0,"/AuthN_AgentTokenMapping.sql":!0,"/AuthN_Example_Authentication.sql":!0,"/AuthZ.sql":!0,"/Autodiscover/Autodiscover.xml":!0,"/BitKeeper/etc/config":!0,"/CGI/Java/Serviceability?adapter=device.statistics.configuration":!0,"/CSCOnm/servlet/login/login.jsp":!0,"/Chai/.env":!0,"/Clear.sql":!0,"/CodeGolf.Web/ClientApp/.env":!0,"/ContainerRegistry/.env":!0,"/CreateDatabase.sql":!0,"/Default.aspx":!0,"/Dump.sql":!0,"/Exercise.Frontend/.env":!0,"/Exercise.Frontend/train/.env":!0,"/FIRST_CONFIG/.env":!0,"/FileZilla.xml":!0,"/HUNIV_migration/.env":!0,"/Home.do":!0,"/Imagebord/.env":!0,"/InstantCV/server/.env":!0,"/Kubernetes/.env":!0,"/LoginPage.do":!0,"/MM/":!0,"/MSWSMTP/Common/Authentication/Logon.aspx":!0,"/MyErrors.log":!0,"/NASApp/nessus/":!0,"/NCMContainer.cc":!0,"/Nerastus.sql":!0,"/OA_HTML/bin/sqlnet.log":!0,"/OA_HTML/jtfLOVInProcess.jsp%3FAAA=AAAAAAAAAA'%22%3E%3Csvg/onload=alert('20nrNKTNm1Men2t4muePO1fzKIp')%3E":!0,"/OA_HTML/oksAutoRenewalHelp.jsp%3Fthanks='%22%3E%3Csvg/onload=alert('20nrNKTNm1Men2t4muePO1fzKIp')%3E":!0,"/OEMSettings.ini":!0,"/Oracle.sql":!0,"/Orion/Login.asp":!0,"/Permissions.sql":!0,"/RenameForeignKeys.sql":!0,"/Resources/config/services.yml":!0,"/RoleMemberships.sql":!0,"/RulesAndDefaults.sql":!0,"/SQLServer.sql":!0,"/Sametime/buildinfo.txt":!0,"/Scheduling.sql":!0,"/Script.PostDeployment.sql":!0,"/Script.PreDeployment.sql":!0,"/Serve_time_server/.env":!0,"/Sets.sql":!0,"/Shared.sql":!0,"/Signatures.sql":!0,"/SilverStream":!0,"/SilverStream/Meta/Tables/?access-mode=text":!0,"/Simple_server/.env":!0,"/SiteScope/":!0,"/Socketio/.env":!0,"/Sources/API/.env":!0,"/SpotiApps/.env":!0,"/TQbGt85vhBOO.asp":!0,"/TQbGt85vhBOO.cgi":!0,"/TQbGt85vhBOO.html":!0,"/TQbGt85vhBOO.inc":!0,"/TQbGt85vhBOO.php":!0,"/Tagging.sql":!0,"/Tests/Application/.env":!0,"/Trace.axd":!0,"/Travel_form/.env":!0,"/User_info/.env":!0,"/ViewerFrame?Mode=Motion":!0,"/Views.sql":!0,"/VncViewer.jar":!0,"/WEB-INF./web.xml":!0,"/WEB_VMS/LEVEL15/":!0,"/_debug_toolbar/":!0,"/_netrc":!0,"/_profiler/phpinfo":!0,"/_profiler/phpinfo.php":!0,"/_search?pretty":!0,"/_vti_bin/fpcount.exe":!0,"/_vti_bin/shtml.dll/_vti_rpc":!0,"/access.sql":!0,"/account.sql":!0,"/account/login/?next=/":!0,"/accounts.sql":!0,"/acl.sql":!0,"/acme-challenge/.env":!0,"/acopia/":!0,"/actions-server/.env":!0,"/active.log":!0,"/actuator/env":!0,"/actuator/heapdump":!0,"/admin.sql":!0,"/admin/airflow/login":!0,"/admin/configs/application.ini":!0,"/admin/download/backup.sql":!0,"/admin/errors.log":!0,"/admin/logs/error.log":!0,"/admin/logs/errors.log":!0,"/adminer.sql":!0,"/adminer/.env":!0,"/administration.sql":!0,"/administration_profile.sql":!0,"/adminuser.sql":!0,"/adodb-sessions.mysql.sql":!0,"/adodb-sessions.oracle.clob.sql":!0,"/adodb-sessions.oracle.sql":!0,"/ads/www/delivery/lg.php?dest=http://example.com":!0,"/adserve/www/delivery/lg.php?dest=http://example.com":!0,"/adserver/www/delivery/lg.php?dest=http://example.com":!0,"/affiliates.sql":!0,"/agora/.env":!0,"/all.sql":!0,"/alter.sql":!0,"/anaconda/.env":!0,"/ansible/push_ssh_keys.yml":!0,"/ansible/push_ssh_keys_remote.yml":!0,"/apache.conf":!0,"/api":!0,"/api.dev.env":!0,"/api/.env":!0,"/api/?a=proxy:unix:aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|http://reddit.com/?":!0,"/api/DownloadUrlResponse.ashx?url=file://C:/windows/win.ini":!0,"/api/config":!0,"/api/login":!0,"/api/profile":!0,"/api_smartapp/storage/":!0,"/app-order-client/.env":!0,"/app.properties":!0,"/app/.env":!0,"/app/client/.env":!0,"/app/code/community/Nosto/Tagging/.env":!0,"/app/config/.env":!0,"/app/config/config.yml":!0,"/app/config/config_dev.yml":!0,"/app/config/config_prod.yml":!0,"/app/config/config_test.yml":!0,"/app/config/parameters.yml":!0,"/app/config/routing_dev.yml":!0,"/app/config/services.yml":!0,"/app/frontend/.env":!0,"/app1-static/.env":!0,"/app2-static/.env":!0,"/app_dir/.env":!0,"/app_nginx_static_path/.env":!0,"/apple-touch-icon-120x120-precomposed.png":!0,"/apple-touch-icon-120x120.png":!0,"/apple-touch-icon-precomposed.png":!0,"/apple-touch-icon.png":!0,"/appliance/":!0,"/application/.env":!0,"/application/configs/application.ini":!0,"/application/logs/application.log":!0,"/application/logs/default.log":!0,"/apps.properties":!0,"/apps/zxtm/login.cgi":!0,"/appveyor.yml":!0,"/archive.sql":!0,"/artifactory/ui/repodata?deploy=true":!0,"/assets/js/conf/global_config.js":!0,"/ats/show.aspx?cr=100290&fm=36&email=garfield":!0,"/auth.sql":!0,"/auth/login":!0,"/autodiscover/autodiscover.xml":!0,"/av-centerd":!0,"/aws.sh":!0,"/axis2-web/HappyAxis.jsp":!0,"/b.sql":!0,"/b4qqi88f.dll?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.do?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.do?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.fts?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.htm?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.htm?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.idc?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.idc?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.jspa?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.kspx?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.mscgi?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.mscgi?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/b4qqi88f.x?<meta%20http-equiv=Set-Cookie%20content=%22testnbbl=3916%22>":!0,"/b4qqi88f.x?<script>document.cookie=%22testnbbl=3916;%22<\/script>":!0,"/babel-plugin-dotenv/test/fixtures/prod-env/.env":!0,"/back.sql":!0,"/backend/.env":!0,"/backend/src/.env":!0,"/backup.sh":!0,"/backup.sql":!0,"/backup/.env":!0,"/backup/data.sql":!0,"/backup/database.sql":!0,"/backup/db.sql":!0,"/backup/db_backup.sql":!0,"/backup/dbdump.sql":!0,"/backup/dump.sql":!0,"/backup/mysql.sql":!0,"/backup/site.sql":!0,"/backup/wordpress.sql":!0,"/backup2011.sql":!0,"/backup2018.sql":!0,"/backup_db.sql":!0,"/backups.sql":!0,"/backups.sql.old":!0,"/backups/data.sql":!0,"/backups/database.sql":!0,"/backups/db.sql":!0,"/backups/db_backup.sql":!0,"/backups/dbdump.sql":!0,"/backups/dump.sql":!0,"/backups/mysql.sql":!0,"/backups/site.sql":!0,"/backups/wordpress.sql":!0,"/bamboo-specs/bamboo.yml":!0,"/bamboo.yml":!0,"/base.dump.sql":!0,"/base.sql":!0,"/base_dir/.env":!0,"/basic-network/.env":!0,"/bd.sql":!0,"/bdb.sql":!0,"/bill/install/mysql.sql":!0,"/bitcoind/.env":!0,"/blankon/.env":!0,"/blazeds/messagebroker/http":!0,"/blazeds/messagebroker/httpsecure":!0,"/blobs.sql":!0,"/blocks.sql":!0,"/blog.sql":!0,"/blog/":!0,"/blue/.env":!0,"/board/acp/lib/inserts.sql":!0,"/bobo.sql":!0,"/bookchain-client/.env":!0,"/bootstrap/.env":!0,"/boxes/oracle-vagrant-boxes/ContainerRegistry/.env":!0,"/boxes/oracle-vagrant-boxes/Kubernetes/.env":!0,"/boxes/oracle-vagrant-boxes/OLCNE/.env":!0,"/broadWeb/bwRoot.asp":!0,"/buck.sql":!0,"/bucoffea/.env":!0,"/buddy.yml":!0,"/build-intl-wiki.sql":!0,"/build.properties":!0,"/build.rss.properties":!0,"/build/.env":!0,"/buildkite.yml":!0,"/c/version.js":!0,"/ca.tinkoff.ru.rar":!0,"/ca.tinkoff.ru.sql":!0,"/ca.tinkoff.ru.sql.bz2":!0,"/ca.tinkoff.ru.sql.gz":!0,"/ca.tinkoff.ru.sql.z":!0,"/ca.tinkoff.ru.z":!0,"/ca.tinkoff.ru.zip":!0,"/ca.tinkoff.ru/errors.log":!0,"/ca.tinkoff.ru_db.sql":!0,"/calendar.sql":!0,"/cardea/backend/.env":!0,"/cards/debit-cards/":!0,"/categories.sql":!0,"/cd.sql":!0,"/cfcache.map":!0,"/cfg/shortcuts":!0,"/cgi-bin/.env":!0,"/cgi-bin/Count.cgi":!0,"/cgi-bin/FormHandler.cgi":!0,"/cgi-bin/FormMail.cgi":!0,"/cgi-bin/TQbGt85vhBOO.cfm":!0,"/cgi-bin/TQbGt85vhBOO.cgi":!0,"/cgi-bin/TQbGt85vhBOO.html":!0,"/cgi-bin/TQbGt85vhBOO.php":!0,"/cgi-bin/TQbGt85vhBOO.php3":!0,"/cgi-bin/TQbGt85vhBOO.pl":!0,"/cgi-bin/TQbGt85vhBOO.shtml":!0,"/cgi-bin/acp/lib/inserts.sql":!0,"/cgi-bin/agorn.cgi":!0,"/cgi-bin/bugreport.cgi":!0,"/cgi-bin/camctrl.cgi":!0,"/cgi-bin/cart.cgi":!0,"/cgi-bin/client_execute.cgi?tUD=0":!0,"/cgi-bin/clwarn.cgi":!0,"/cgi-bin/config.exp":!0,"/cgi-bin/count.cgi":!0,"/cgi-bin/ctrldirect.cgi":!0,"/cgi-bin/faqmanager.cgi":!0,"/cgi-bin/guestbook.cgi":!0,"/cgi-bin/guestimage.html":!0,"/cgi-bin/hi":!0,"/cgi-bin/index.cgi":!0,"/cgi-bin/index.pl":!0,"/cgi-bin/index.sh":!0,"/cgi-bin/kvm.cgi?&file=login":!0,"/cgi-bin/login":!0,"/cgi-bin/login.cgi":!0,"/cgi-bin/mailit.pl":!0,"/cgi-bin/mt-static/mt-check.cgi":!0,"/cgi-bin/mt-static/mt-load.cgi":!0,"/cgi-bin/mt/mt-check.cgi":!0,"/cgi-bin/mt/mt-load.cgi":!0,"/cgi-bin/nagios3/status.cgi":!0,"/cgi-bin/ncbook/book.cgi":!0,"/cgi-bin/printenv":!0,"/cgi-bin/printenv.cgi":!0,"/cgi-bin/quickstore.cgi":!0,"/cgi-bin/search":!0,"/cgi-bin/search/search.cgi":!0,"/cgi-bin/status":!0,"/cgi-bin/urlcount.cgi":!0,"/cgi-bin/wa.cgi":!0,"/cgi-mod/index.cgi":!0,"/cgi/mid.cgi":!0,"/challenge/.env":!0,"/challenges/.env":!0,"/changeuser.sql":!0,"/check_proxy.html":!0,"/chiminey/.env":!0,"/ci/distelli-manifest.yml":!0,"/ci/distelli.yml":!0,"/ci/phpci.yml":!0,"/ci/pipeline.yml":!0,"/ci/push_ssh_keys.yml":!0,"/ci/push_ssh_keys_remote.yml":!0,"/ci/solano.yml":!0,"/circle.yml":!0,"/click?url=//www.me6.com/":!0,"/client-app/.env":!0,"/client/.env":!0,"/client/mutual-fund-app/.env":!0,"/client/src/.env":!0,"/clients.sql":!0,"/clients.sqlite":!0,"/clld_dir/.env":!0,"/cloud-provider.yaml":!0,"/clusters/local":!0,"/cmd/testdata/expected/dot_env/.env":!0,"/cms.sql":!0,"/cms/application/configs/application.ini":!0,"/code/api/.env":!0,"/code/web/.env":!0,"/codecancare/":!0,"/codefresh.yml":!0,"/codenames-frontend/.env":!0,"/codeship-services.yml":!0,"/codeship.yml":!0,"/collab-connect-web-application/server/.env":!0,"/collected_static/.env":!0,"/com.sql":!0,"/com/novell/webaccess/WebAccessUninstall.ini":!0,"/comments.sql":!0,"/commoncgi/servlet/CCGIServlet?ApHost=PDT_InterScan_NT&CGIAlias=PDT_InterScan_NT&File=logout.htm":!0,"/community/.env":!0,"/compile.sh":!0,"/compliancepolicyelements.inc.php?search=True&searchField=antani'+union+select+(select+concat(0x223e3c42523e5b70726f6a6563742d646973636f766572795d)+limit+0,1),NULL,NULL,NULL,NULL+--+&searchColumn=elementName&searchOption=contains":!0,"/conf/.env":!0,"/conf/push_ssh_keys.yml":!0,"/conf/push_ssh_keys_remote.yml":!0,"/conf/solano.yml":!0,"/config.php.bak":!0,"/config.properties":!0,"/config.sh":!0,"/config.sql":!0,"/config.yml":!0,"/config/cable.yml":!0,"/config/cucumber.yml":!0,"/config/database.yml":!0,"/config/database.yml.sqlite3":!0,"/config/databases.yml":!0,"/config/db.sql":!0,"/config/error_log":!0,"/config/getuser?index=0":!0,"/config/locales/devise.en.yml":!0,"/config/locales/en.yml":!0,"/config/locales/ja.yml":!0,"/config/locales/simple_form.en.yml":!0,"/config/parameters.yml":!0,"/config/push_ssh_keys_remote.yml":!0,"/config/s3.yml":!0,"/config/secrets.yml":!0,"/config/solano.yml":!0,"/config/user.xml":!0,"/configuration.php-dist":!0,"/configurations.do":!0,"/conn.php.bak":!0,"/console.properties":!0,"/console/login/LoginForm.jsp":!0,"/contact.sql":!0,"/content../.git/config":!0,"/content.sql":!0,"/content/.env":!0,"/content/oTUl5vOSn3.mp3":!0,"/copy.sql":!0,"/core/.env":!0,"/core/app/.env":!0,"/core/orionSplashScreen.do":!0,"/corporate/payout/salary/help/about/add-employees/639708":!0,"/countries.sql":!0,"/country.sql":!0,"/courier/web/1000@/wmLogin.html":!0,"/cp/.env":!0,"/create-data.sql":!0,"/create-schema.sql":!0,"/create.sql":!0,"/create_db.sql":!0,"/create_tables.sql":!0,"/createdb.sql":!0,"/cron/.env":!0,"/cronlab/.env":!0,"/crt_db.sql":!0,"/cryo_project/.env":!0,"/cs/idcplg?IdcService=GET_ENVIRONMENT&IsJson=1":!0,"/css/.env":!0,"/currency.sql":!0,"/customers.sql":!0,"/customers.sql.gz":!0,"/customers.sqlite":!0,"/d/.env":!0,"/darkstat/":!0,"/data.sql":!0,"/data.sql.sql":!0,"/data.sqlite":!0,"/data/.env":!0,"/data/admin/allowurl.txt":!0,"/data_mysql.sql":!0,"/database.php.bak":!0,"/database.sql":!0,"/database.sqlite":!0,"/database.yml":!0,"/database.yml.sqlite3":!0,"/database/.env":!0,"/database/structure.sql":!0,"/database_backup.sql":!0,"/database_mysql.sql":!0,"/databasefat.sql":!0,"/databases.yml":!0,"/dataset2/.env":!0,"/datenbank.sql":!0,"/db":!0,"/db-schema.sql":!0,"/db.php.bak":!0,"/db.sql":!0,"/db.sql.sql":!0,"/db.sqlite":!0,"/db.sqlite3":!0,"/db.yaml":!0,"/db/dump.sql":!0,"/db/robomongo.json":!0,"/db1.sqlite":!0,"/db_acl.sql":!0,"/db_backup.sql":!0,"/db_backup.sql.sql":!0,"/db_install.sql":!0,"/db_mysql.sql":!0,"/db_rebuild_autoincrement.sql":!0,"/db_schema.sql":!0,"/dbadmin.sql":!0,"/dbadmin.sql.sql":!0,"/dbase.sql":!0,"/dbase.sql.sql":!0,"/dbdump.sql":!0,"/dbscript.sql":!0,"/dbtables.sql":!0,"/dbtest1.sql":!0,"/dbtest2.sql":!0,"/ddb.sql":!0,"/de.yml":!0,"/debug/pprof/":!0,"/default.php.bak":!0,"/default.properties":!0,"/default/.env":!0,"/defaults.properties":!0,"/definitely404page404.htm":!0,"/delete.sql":!0,"/delivery/.env":!0,"/demo.sql":!0,"/demo/.env":!0,"/demo/zh_cn.sql":!0,"/deploy.sh":!0,"/deploy/.env":!0,"/deploymentmanager/index.jsp":!0,"/deposit/":!0,"/dev/.env":!0,"/developer/.env":!0,"/developerslv/.env":!0,"/devices.inc.php?search=True&searchField=antani'+union+select+(select+concat(0x223e3c42523e5b70726f6a6563742d646973636f766572795d)+limit+0,1),NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL+--+&searchColumn=n.id&searchOption=contains":!0,"/df_main.sql":!0,"/directories/.env":!0,"/dist/.env":!0,"/distelli.yml":!0,"/django-blog/.env":!0,"/dlibrary/null?oldfile=../../../../../../windows/win.ini&library=null":!0,"/docker-compose-dev.yml":!0,"/docker-compose.dev.yml":!0,"/docker-compose.override.yml":!0,"/docker-compose.prod.yml":!0,"/docker-compose.production.yml":!0,"/docker-compose.staging.yml":!0,"/docker-compose.yml":!0,"/docker/postgres/.env":!0,"/docs/_config.yml":!0,"/dodoswap-client/.env":!0,"/dolyame/xyrabarberz/":!0,"/domcfg.nsf":!0,"/drop.sql":!0,"/drop_table.sql":!0,"/drupalbackup.sql":!0,"/dtp/stylesheet":!0,"/dump.sql":!0,"/dump.sql.old":!0,"/dump.sql.tgz":!0,"/dump.sqlite":!0,"/dump_file.sql":!0,"/dungeon.sql":!0,"/dvd.sql":!0,"/dzit.properties":!0,"/e2e/.env":!0,"/elmah.axd":!0,"/emails.sql":!0,"/en-bz//www.me6.com/":!0,"/en.yml":!0,"/eng/about_bank":!0,"/eng/about_bank/":!0,"/env":!0,"/env.dev.js":!0,"/env.development.js":!0,"/env.js":!0,"/env.production.js":!0,"/env.sh":!0,"/env.test.js":!0,"/env/.env":!0,"/env/dockers/mariadb-test/.env":!0,"/env/dockers/php-apache/.env":!0,"/env/example/.env":!0,"/env/template/.env":!0,"/environments/local/.env":!0,"/environments/production/.env":!0,"/error/.env":!0,"/error/error.log":!0,"/error_log":!0,"/error_report/install/mysql.sql":!0,"/errors.log":!0,"/errors/.env":!0,"/etc....4.2.1....json":!0,"/etc.1.json":!0,"/etc.children....4.2.1....json":!0,"/etc.children.1.json":!0,"/etc.children.json":!0,"/etc.children.json/FNZ.css":!0,"/etc.children.json/FNZ.html":!0,"/etc.children.json/FNZ.ico":!0,"/etc.children.json/FNZ.png":!0,"/etc.children.json?FNZ.css":!0,"/etc.children.json?FNZ.html":!0,"/etc.children.json?FNZ.ico":!0,"/etc.json":!0,"/etc.json/FNZ.css":!0,"/etc.json/FNZ.html":!0,"/etc.json/FNZ.ico":!0,"/etc.json?FNZ.css":!0,"/etc.json?FNZ.html":!0,"/etc.json?FNZ.ico":!0,"/etc/passwd":!0,"/event/index.do":!0,"/events../.git/config":!0,"/ews/index.htm":!0,"/example.sql":!0,"/example/.env":!0,"/example_storage_db.sql":!0,"/examples.sql":!0,"/examples/drupal-separate-services/.env":!0,"/examples/react-dashboard/backend/.env":!0,"/examples/sdl-first/.env":!0,"/examples/sdl-first/prisma/.env":!0,"/examples/web/.env":!0,"/exapi/.env":!0,"/explorer.html":!0,"/export.sql":!0,"/export/.env":!0,"/f360/login.jsp":!0,"/fastlane/.env":!0,"/favicon.ico":!0,"/favicons/.env":!0,"/favs/.env":!0,"/features":!0,"/fedex/.env":!0,"/file":!0,"/file.sql":!0,"/filemanager/upload.php":!0,"/files.sql":!0,"/files/.env":!0,"/fileserver/.env":!0,"/filezilla.xml":!0,"/films/.env":!0,"/firebird_schema.sql":!0,"/fisdom/fisdom/.env":!0,"/fixtures/blocks/.env":!0,"/fixtures/fiber-debugger/.env":!0,"/fixtures/flight/.env":!0,"/fixtures/kitchensink/.env":!0,"/flask_test_uploads/.env":!0,"/flex2gateway/http":!0,"/flex2gateway/httpsecure":!0,"/flu/403.html":!0,"/fm/.env":!0,"/forum.sql":!0,"/forum/acp/lib/inserts.sql":!0,"/fr.yml":!0,"/framework.sql":!0,"/front/src/.env":!0,"/frontend/momentum-fe/.env":!0,"/frontend/react/.env":!0,"/ftpmaster/.env":!0,"/ftpsync.settings":!0,"/fullbackup.sql":!0,"/fullwebsite.sql":!0,"/functions.sql":!0,"/gemini-iptv/get_prc.php":!0,"/gemini-iptv/vod.json":!0,"/genfiles.properties":!0,"/getcfg.php":!0,"/global.asa":!0,"/grid-demo.sql":!0,"/groups.sql":!0,"/guestbook.sql":!0,"/hc/error/":!0,"/header.php":!0,"/header.php.bak":!0,"/heapdump":!0,"/help/introduction/release-notes.html":!0,"/home.htm":!0,"/home.jsf?autoScroll=0%2c275)%3b%2f%2f--%3e%3c%2fscript%3e%3cscript%3ealert('myfaces_tomahawk_autoscroll_xss.nasl'":!0,"/home.sql":!0,"/home.sql.sql":!0,"/homeaction.php":!0,"/hosts":!0,"/htdocs/.env":!0,"/html/.env":!0,"/html/en/index.htm":!0,"/html/iscscada.htm":!0,"/http/.env":!0,"/https://example.com//":!0,"/i18n.sql":!0,"/icon/.env":!0,"/icons/.env":!0,"/id_dsa":!0,"/id_rsa":!0,"/ifx/?LO=../../../../../etc/passwd":!0,"/ikiwiki/.env":!0,"/image_data/.env":!0,"/images.sql":!0,"/images/.env":!0,"/imc":!0,"/img/.env":!0,"/import.sql":!0,"/include/db.sql":!0,"/index.JSP":!0,"/index.do":!0,"/index.html":!0,"/index.jsp":!0,"/index.php":!0,"/index.php?option=com_jeformcr&view=../../../../../../../../etc/passwd%00":!0,"/index.php?option=com_jvehicles&controller=../../../../../../../../../../etc/passwd%00":!0,"/index.php?option=com_mtfireeagle&controller=../../../../../../../../../../etc/passwd%00":!0,"/index.php?option=com_tweetla&controller=../../../../../../../etc/passwd%00":!0,"/index.php?plot=;wget%20http://c670ror93jqt9g1srmugcgmymoeypbw1s.interactsh.com":!0,"/index.php?plot=;wget%20http://c670ror93jqt9g1srmugcgmypzoypb4mg.interactsh.com":!0,"/index.sql":!0,"/indexes.sql":!0,"/info.php":!0,"/infos.php":!0,"/init.sql":!0,"/init_db.sql":!0,"/ins/travel-product//ius9yr.4rt.one":!0,"/ins/travel-product/@ewajvz.4rt.one":!0,"/ins/travel-product/awesome":!0,"/ins/travel-product/http://drb9ui.4rt.one":!0,"/ins/travel-product/https://0zoxt5.4rt.one":!0,"/ins/travel-product/preload":!0,"/ins/travel-product/xawesome%22%3C":!0,"/ins/travel-product@n6f7ej.4rt.one":!0,"/insert.sql":!0,"/insert_data.sql":!0,"/install":!0,"/install.php?profile=default":!0,"/install.sh":!0,"/install.sql":!0,"/install/.env":!0,"/install/data/data_en_us.sql":!0,"/install/lib/ajaxHandlers/ajaxServerSettingsChk.php?rootUname=%3b%63%61%74%20%2f%65%74%63%2f%70%61%73%73%77%64%20%23":!0,"/install_1-1.sql":!0,"/insurance/fonts/Roboto-Regular.ttf":!0,"/insurance/health/stylesheet":!0,"/insurance/property/xyrabarberz/":!0,"/insurance/xyrabarberz/health/":!0,"/insurance/xyrabarberz/travel/":!0,"/insurancexyrabarberz/health/":!0,"/insurancexyrabarberz/travel/":!0,"/interwiki.sql":!0,"/intikal/storage/":!0,"/intrusions.sql":!0,"/invest/":!0,"/invoker/EJBInvokerServlet":!0,"/item.fts?href=%22%3E%3Cscript%3Ealert(%22ftgate_44002.nasl%22)%3C%2Fscript%3E%3B":!0,"/items/.env":!0,"/ivc2/Backup/IVC1/html/index.htm":!0,"/javascript/.env":!0,"/jdbc.properties":!0,"/joomla.sql":!0,"/js-plugin/.env":!0,"/js../.git/config":!0,"/js/.env":!0,"/js/hpsum/hpsum-version.js":!0,"/jsrelay/.env":!0,"/jupyter/.env":!0,"/jwt/private.pem":!0,"/khanlinks/.env":!0,"/kibana/.env":!0,"/knzpartners.tinkoff.ru.7z":!0,"/knzpartners.tinkoff.ru.lz":!0,"/knzpartners.tinkoff.ru.pem":!0,"/knzpartners.tinkoff.ru.sql.bz2":!0,"/knzpartners.tinkoff.ru.sql.gz":!0,"/knzpartners.tinkoff.ru.sql.lz":!0,"/knzpartners.tinkoff.ru.sql.rar":!0,"/knzpartners.tinkoff.ru.sql.tar.gz":!0,"/knzpartners.tinkoff.ru.sql.xz":!0,"/knzpartners.tinkoff.ru.sqlite":!0,"/knzpartners.tinkoff.ru.xz":!0,"/knzpartners.tinkoff.ru.z":!0,"/knzpartners.tinkoff.ru.zip":!0,"/knzpartners.tinkoff.ru_db.sql":!0,"/kodenames-server/.env":!0,"/kolab-syncroton/.env":!0,"/lab/.env":!0,"/lang.properties":!0,"/langue.sql":!0,"/laravel/.env":!0,"/last.sql":!0,"/latest/.env":!0,"/layout/.env":!0,"/lcds/messagebroker/http":!0,"/lcds/messagebroker/httpsecure":!0,"/lcgi/sewse.nlm?sys:/novonyx/suitespot/docs/sewse/misc/test.jse":!0,"/legal/.env":!0,"/lgtm.yml":!0,"/lib.model.schema.sql":!0,"/lib/.env":!0,"/libs/granite/core/content/login.html":!0,"/linux/.env":!0,"/loadtextfile.htm":!0,"/loans/auto-loan/":!0,"/localhost.sql":!0,"/localhost/.env":!0,"/localhost_backup.sql":!0,"/log.log":!0,"/log.sql":!0,"/log.sqlite":!0,"/log.txt":!0,"/log/access.log":!0,"/log/debug.log":!0,"/log/error.log":!0,"/log/errors.log":!0,"/log/mobile.log":!0,"/log/system.log":!0,"/log/vpn.log":!0,"/log4j.properties":!0,"/login":!0,"/login.do":!0,"/login.htm":!0,"/login.html":!0,"/login.html?1600":!0,"/login.jsp":!0,"/login.php":!0,"/login.php.bak":!0,"/login.sql":!0,"/login.web":!0,"/login/":!0,"/login/login":!0,"/login1.htm":!0,"/login?to=www.me6.com%2f":!0,"/login?user=**%3Cscript%3EJavaScript:alert('cpanel_login_user_xss.nasl')%3B%3C%2Fscript%3E":!0,"/logs.sqlite":!0,"/logs.txt":!0,"/logs/access.log":!0,"/mail.properties":!0,"/mails.sql":!0,"/mailsms/s?func=ADMIN:appState&dumpConfig=/":!0,"/main.cgi?next_file=main.htm":!0,"/main.php.bak":!0,"/main.sql":!0,"/main_internet.php":!0,"/manager/controllers/default/resource/tvs.php?class_key=../../../../../../../../../../windows/win.ini%00":!0,"/manifest.webmanifest":!0,"/map/sitemap.xml":!0,"/mapviewer/omserver?getv=t":!0,"/media../.git/config":!0,"/member.sql":!0,"/members.sql":!0,"/members.sqlite":!0,"/menu.sql":!0,"/message/install/mysql.sql":!0,"/messagebroker/http":!0,"/messagebroker/httpsecure":!0,"/meta/main.yml":!0,"/micro-app-react-communication/.env":!0,"/mindsweeper/gui/.env":!0,"/minified/.env":!0,"/misc/.env":!0,"/mod_gzip_status":!0,"/model.sql":!0,"/module/info/include/mysql/phpcms_info.sql":!0,"/monerod/.env":!0,"/mongodb/config/dev/.env":!0,"/monitoring/compose/.env":!0,"/moodledata/.env":!0,"/moods.sql":!0,"/moto/application/configs/application.ini":!0,"/mp3.sql":!0,"/msks/.env":!0,"/mssql.sql":!0,"/mssql_basic.sql":!0,"/mssql_schema.sql":!0,"/multinews.sql":!0,"/munki_repo/.env":!0,"/music/.env":!0,"/mve/help/en/inventory/am_about.html":!0,"/mxhelp/cgi-bin/namazucgi?lang=/../../../../../../../../../../../../../boot.ini":!0,"/my.ppk":!0,"/my.sql":!0,"/mysql-reset.sql":!0,"/mysql.data.sql":!0,"/mysql.initial.sql":!0,"/mysql.lang.data.sql":!0,"/mysql.sql":!0,"/mysql.structure.sql":!0,"/mysql_basic.sql":!0,"/mysql_data.sql":!0,"/mysql_db_install.sql":!0,"/mysql_db_remove.sql":!0,"/mysql_debug.sql":!0,"/mysql_demo.sql":!0,"/mysql_innodb.sql":!0,"/mysql_install.sql":!0,"/mysql_myisam.sql":!0,"/mysql_schema.sql":!0,"/mysql_structure.sql":!0,"/mysql_test_db.sql":!0,"/mysql_zencart.sql":!0,"/mysqldump.sql":!0,"/nacos/":!0,"/nagios/cgi-bin/status.cgi":!0,"/name/.env":!0,"/netflow/html/aboutus.jsp":!0,"/netmri/config/userAdmin/login.tdf":!0,"/new.sql":!0,"/new_game.sql":!0,"/new_install.sql":!0,"/new_server.sql":!0,"/news-app/.env":!0,"/newsletter.sql":!0,"/nginx-server/.env":!0,"/nginx.conf":!0,"/nginx/.env":!0,"/niffler-frontend/.env":!0,"/nifi/":!0,"/nnm/main":!0,"/noVNC/.env":!0,"/no_such_file_W2pSAzxE.html":!0,"/node_modules/.env":!0,"/nosuchfile-808442213-618886140.jsp":!0,"/nuke.sql":!0,"/nul.dbm":!0,"/ofbizsetup/control/checkLogin":!0,"/old.sql":!0,"/oldsanta/.env":!0,"/oo/":!0,"/opcache/opcache.php":!0,"/opencart.sql":!0,"/openx/www/delivery/lg.php?dest=http://example.com":!0,"/ops/vagrant/.env":!0,"/optimize.sql":!0,"/option/.env":!0,"/oracle_schema.sql":!0,"/ordermgr/control/checkLogin":!0,"/orders.sql":!0,"/oscommerce.sql":!0,"/out?///www.me6.com%2f":!0,"/outputs/.env":!0,"/override.properties":!0,"/package.json":!0,"/packages/frontend/.env":!0,"/pacs/login.php?message=%3Cimg%20src=%22%22%20onerror=%22alert(1);%22%3E1%3C/img%3E":!0,"/page-editor/.env":!0,"/parameters.yml":!0,"/passwd.sql":!0,"/password.sql":!0,"/password.sqlite":!0,"/passwords.sqlite":!0,"/patch-archive-rev_id.sql":!0,"/patch-archive-text_id.sql":!0,"/patch-backlinkindexes.sql":!0,"/patch-bot.sql":!0,"/patch-cache.sql":!0,"/patch-categorylinks.sql":!0,"/patch-drop-user_newtalk.sql":!0,"/patch-drop_img_type.sql":!0,"/patch-email-authentication.sql":!0,"/patch-email-notification.sql":!0,"/patch-externallinks.sql":!0,"/patch-filearchive.sql":!0,"/patch-hitcounter.sql":!0,"/patch-image_name_primary.sql":!0,"/patch-image_name_unique.sql":!0,"/patch-img_exif.sql":!0,"/patch-img_media_type.sql":!0,"/patch-img_metadata.sql":!0,"/patch-img_width.sql":!0,"/patch-indexes.sql":!0,"/patch-interwiki-trans.sql":!0,"/patch-interwiki.sql":!0,"/patch-inverse_timestamp.sql":!0,"/patch-ipb_anon_only.sql":!0,"/patch-ipb_expiry.sql":!0,"/patch-ipb_optional_autoblock.sql":!0,"/patch-ipb_range_start.sql":!0,"/patch-ipblocks.sql":!0,"/patch-job.sql":!0,"/patch-langlinks.sql":!0,"/patch-linkscc.sql":!0,"/patch-linktables.sql":!0,"/patch-log_params.sql":!0,"/patch-logging-times-index.sql":!0,"/patch-logging-title.sql":!0,"/patch-logging.sql":!0,"/patch-math.sql":!0,"/patch-mimesearch-indexes.sql":!0,"/patch-objectcache.sql":!0,"/patch-oldestindex.sql":!0,"/patch-page_len.sql":!0,"/patch-page_no_title_convert.sql":!0,"/patch-pagelinks.sql":!0,"/patch-parsercache.sql":!0,"/patch-profiling.sql":!0,"/patch-querycache.sql":!0,"/patch-querycacheinfo.sql":!0,"/patch-querycachetwo.sql":!0,"/patch-random-dateindex.sql":!0,"/patch-rc-newindex.sql":!0,"/patch-rc-patrol.sql":!0,"/patch-rc_id.sql":!0,"/patch-rc_ip.sql":!0,"/patch-rc_len.sql":!0,"/patch-rc_type.sql":!0,"/patch-rc_user_text-index.sql":!0,"/patch-recentchanges-utindex.sql":!0,"/patch-redirect.sql":!0,"/patch-rename-group.sql":!0,"/patch-restructure.sql":!0,"/patch-rev_deleted.sql":!0,"/patch-rev_text_id.sql":!0,"/patch-searchindex.sql":!0,"/patch-ss_images.sql":!0,"/patch-ss_total_articles.sql":!0,"/patch-templatelinks.sql":!0,"/patch-trackbacks.sql":!0,"/patch-transcache.sql":!0,"/patch-user-realname.sql":!0,"/patch-user_editcount.sql":!0,"/patch-user_email_token.sql":!0,"/patch-user_groups.sql":!0,"/patch-user_nameindex.sql":!0,"/patch-user_newpass_time.sql":!0,"/patch-user_registration.sql":!0,"/patch-user_rights.sql":!0,"/patch-user_token.sql":!0,"/patch-userindex.sql":!0,"/patch-userlevels-defaultgroups.sql":!0,"/patch-userlevels-rights.sql":!0,"/patch-userlevels.sql":!0,"/patch-usernewtalk.sql":!0,"/patch-usernewtalk2.sql":!0,"/patch-val_ip.sql":!0,"/patch-validate.sql":!0,"/patch-watchlist-null.sql":!0,"/patch-watchlist.sql":!0,"/patch.sql":!0,"/personal.sqlite":!0,"/pfpcommon/papi/metrics/app-start":!0,"/pfpcommon/papi/metrics/html-opened":!0,"/pfpkasko/papi/metrics/html-opened":!0,"/pgsql.sql":!0,"/pgsql_db_install.sql":!0,"/pgsql_db_remove.sql":!0,"/php-fpm.conf":!0,"/php-opcache-status/":!0,"/phpbb_db_backup_data.sql":!0,"/phpci.yml":!0,"/phpcms.sql":!0,"/phpcounter.sql":!0,"/phpinfo.php":!0,"/phpmyadmin.sql":!0,"/pictures/.env":!0,"/platform-ui/":!0,"/platform/.env":!0,"/plc/webvisu.htm":!0,"/plesk-stat/":!0,"/pls/apex/f?p=nessuscheck":!0,"/pls/portal/DEV6_PORTAL_DEMO.ORG_CHART.SHOW":!0,"/pls/portal/DEV7_PORTAL_DEMO.ORG_CHART.SHOW":!0,"/pls/portal/DEV8_PORTAL_DEMO.ORG_CHART.SHOW":!0,"/plugin_static/.env":!0,"/plugins.sfGuardPlugin.lib.model.schema.sql":!0,"/pluto/portal/":!0,"/pma.sql":!0,"/pom.properties":!0,"/portal/diag/index.jsp":!0,"/postgres.sql":!0,"/postgres_basic.sql":!0,"/postgres_schema.sql":!0,"/postgresql.sql":!0,"/private-key":!0,"/private.properties":!0,"/private/.env":!0,"/prod/.env":!0,"/production/.env":!0,"/profile":!0,"/profile.sql":!0,"/project.properties":!0,"/properties/configuration.php?tab=Status":!0,"/proxy?url=https://bl0ra3aagncui55rsvmfxjphx83yrn.burpcollaborator.net%5canything@jobs.googleapis.com/":!0,"/ptz.htm":!0,"/public/":!0,"/public/.env":!0,"/public_html/.env":!0,"/push_ssh_keys_remote.yml":!0,"/pv-recycler-template.yaml":!0,"/qsoap.qap":!0,"/query.cgi":!0,"/query.sql":!0,"/rabbitmq-cluster/.env":!0,"/radio/application/configs/application.ini":!0,"/rails-api/react-app/.env":!0,"/rasax/.env":!0,"/react_todo/.env":!0,"/recoveryconsole/":!0,"/redmine/.env":!0,"/repo/.env":!0,"/reporter/client.jsp":!0,"/repos/.env":!0,"/repository/.env":!0,"/resources/.env":!0,"/resources/docker/.env":!0,"/resources/docker/mysql/.env":!0,"/resources/docker/phpmyadmin/.env":!0,"/resources/docker/rabbitmq/.env":!0,"/resources/docker/rediscommander/.env":!0,"/resourcesync/.env":!0,"/rest/.env":!0,"/restapi/.env":!0,"/results/.env":!0,"/revive/www/delivery/lg.php?dest=http://example.com":!0,"/robots.txt":!0,"/robots/.env":!0,"/root/.env":!0,"/rosterBack/.env":!0,"/roundcube/.env":!0,"/roundcube/logs/errors.log":!0,"/roundcube/logs/sendmail":!0,"/roundcubemail/.env":!0,"/routes/.env":!0,"/routes/error_log":!0,"/rovine.sql":!0,"/ru.yml":!0,"/rust-backend/.env":!0,"/s3.yml":!0,"/sabin/SiteAdmin.htm":!0,"/sales.sql":!0,"/sample.sql":!0,"/sample_data.sql":!0,"/sampledata.sql":!0,"/samples.sql":!0,"/samples/docker/deploymentscripts/.env":!0,"/sapi/debug/default/view":!0,"/sapmc/sapmc.html":!0,"/sawmill6cl.exe":!0,"/sawmill6cl.exe?ho+{COMPLETE_VERSION}":!0,"/scgi-bin/platform.cgi":!0,"/schema.mysql.sql":!0,"/schema.sql":!0,"/schema.sqlite.sql":!0,"/schema_data.sql":!0,"/schema_mysql.sql":!0,"/scmadmin/":!0,"/scmadmin/LocalIndex.html":!0,"/script.sql":!0,"/scripts/TQbGt85vhBOO.asp":!0,"/scripts/TQbGt85vhBOO.cgi":!0,"/scripts/TQbGt85vhBOO.inc":!0,"/scripts/TQbGt85vhBOO.php":!0,"/scripts/TQbGt85vhBOO.sh":!0,"/scripts/acp/lib/inserts.sql":!0,"/scripts/fake.cgi?arg=/%2e%2e/%2e%2e/%2e%2e/%2e%2e/%2e%2e/windows/win.ini":!0,"/scripts/fake.cgi?arg=/%2e%2e/%2e%2e/%2e%2e/%2e%2e/%2e%2e/winnt/win.ini":!0,"/scripts/fake.cgi?arg=/dir/%2e%2e/%2e%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd":!0,"/scripts/w3who.dll":!0,"/scrutinizer.yml":!0,"/sdk":!0,"/sdn/ui/app/index":!0,"/securecgi-bin/CSUserCGI.exe?ver":!0,"/security.sql":!0,"/self_upgrade.html":!0,"/semaphore.yml":!0,"/seminovos/application/configs/application.ini":!0,"/serve-browserbench/.env":!0,"/server-info":!0,"/server-status":!0,"/server.key":!0,"/server.properties":!0,"/server.sql":!0,"/server/config/.env":!0,"/server/storage/":!0,"/service/extdirect":!0,"/services/adminer/.env":!0,"/services/jaeger/.env":!0,"/services/redis-commander/.env":!0,"/services/registry/.env":!0,"/services/simcore/.env":!0,"/servlet/GetProductVersion":!0,"/servlet/webacc?error=webacc":!0,"/session.sql":!0,"/sessions.sql":!0,"/setting.sql":!0,"/settings.php":!0,"/settings.php.dist":!0,"/settings.php.save":!0,"/settings.php.swp":!0,"/settings.php.txt":!0,"/settings.sql":!0,"/setup":!0,"/setup.sql":!0,"/sftp-config.json":!0,"/sgdadmin/faces/jsp/Version.jsp":!0,"/shippable.yml":!0,"/shop.sql":!0,"/shop/.env":!0,"/shop/application/configs/application.ini":!0,"/site-library/.env":!0,"/site.sql":!0,"/site/.env":!0,"/sites/.env":!0,"/sitestatic/.env":!0,"/slr/application/configs/application.ini":!0,"/smconf.nsf":!0,"/smency.nsf":!0,"/smftypes.nsf":!0,"/smhelp.nsf":!0,"/smmsg.nsf":!0,"/smquar.nsf":!0,"/smtime.nsf":!0,"/snippets.inc.php?search=True&searchField=antani'+union+select+(select+concat(0x223e3c42523e5b70726f6a6563742d646973636f766572795d)+limit+0,1),NULL,NULL,NULL+--+&searchColumn=snippetName&searchOption=contains":!0,"/snmx-cgi/fxm.exe":!0,"/solano.yml":!0,"/solr/":!0,"/sources/.env":!0,"/spearmint/.env":!0,"/spec/dummy/config/database.yml":!0,"/spec/dummy/config/locales/en.yml":!0,"/spec/dummy/config/secrets.yml":!0,"/spider/uninstall/mysql.sql":!0,"/spikes/config-material-app/.env":!0,"/spipe?Source=nessus":!0,"/sql.sql":!0,"/sql/db.sql":!0,"/sql_data.sql":!0,"/sql_server.sql":!0,"/sqldump.sql":!0,"/sqlite.initial.sql":!0,"/sqlite.sql":!0,"/sqlite3.sql":!0,"/sqlite_schema.sql":!0,"/src/.env":!0,"/src/assembly/.env":!0,"/src/character-service/.env":!0,"/src/client/mobile/.env":!0,"/src/core/tests/dotenv-files/.env":!0,"/src/gameprovider-service/.env":!0,"/src/main/resources/config.yml":!0,"/src/renderer/.env":!0,"/srv6_controller/controller/.env":!0,"/ss_database_backup.sql":!0,"/ssl/localhost.key":!0,"/stackato-pkg/.env":!0,"/staff.sql":!0,"/staging/.env":!0,"/start.js":!0,"/startPage":!0,"/startup.sh":!0,"/state.sql":!0,"/static-collected/.env":!0,"/static-html/.env":!0,"/static/.env":!0,"/static/?a=proxy:unix:aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa|http://reddit.com/?":!0,"/static/dump.sql":!0,"/static_prod/.env":!0,"/static_root/.env":!0,"/staticfiles/.env":!0,"/stats/.env":!0,"/status%3E%3Cscript%3Ealert(31337)%3C%2Fscript%3E":!0,"/status%3E%3Cscript%3Ealert(31337)%3C/script%3E":!0,"/stcenter.nsf":!0,"/storage/.env":!0,"/stream/live.php":!0,"/streaming/clients_live.php":!0,"/structure.sql":!0,"/struts/webconsole.html":!0,"/style/.env":!0,"/styles/.env":!0,"/stylesheets.sql":!0,"/sw.js":!0,"/sws/data/sws_data.js":!0,"/swvm/ConsoleContainer.jsp":!0,"/symfony/.env":!0,"/system_api.php":!0,"/table.sql":!0,"/table_schema.sql":!0,"/tabledefs.sql":!0,"/tables.sql":!0,"/tarantella/cgi-bin/secure/ttawlogin.cgi/?action=bootstrap":!0,"/tasks/main.yml":!0,"/taxonomy.sql":!0,"/te%3Cimg%20src=x%20onerror=alert(42)%3Est":!0,"/teardown.sql":!0,"/tel:88007551110":!0,"/temanr9/.env":!0,"/temp.sql":!0,"/templates.sql":!0,"/templates/.env":!0,"/test-network/.env":!0,"/test-network/addOrg3/.env":!0,"/test.properties":!0,"/test.sql":!0,"/test.sqlite":!0,"/test/.env":!0,"/test/bdd/fixtures/sidetree-mock/.env":!0,"/test/dummy/config/database.yml":!0,"/test/dummy/config/locales/en.yml":!0,"/test/dummy/config/secrets.yml":!0,"/test/fixtures/.env":!0,"/test/fixtures/app_types/node/.env":!0,"/test/fixtures/node_path/.env":!0,"/test/fixtures/users.yml":!0,"/testB.sql":!0,"/testData.sql":!0,"/testRunner.sql":!0,"/test_PostgreSQL.sql":!0,"/testfiles/.env":!0,"/testing/.env":!0,"/testing/docker/.env":!0,"/tests/.env":!0,"/tests/Integration/Environment/.env":!0,"/tests/_data/dump.sql":!0,"/tests/drupal-test/.env":!0,"/tests/todo-react/.env":!0,"/testtbl.sql":!0,"/testwork_json/.env":!0,"/theme.sql":!0,"/theme/.env":!0,"/theme_static/.env":!0,"/this_page_should_not_exist.htm":!0,"/thumbs/.env":!0,"/tiedostot/.env":!0,"/time-tracker-mysql.sql":!0,"/tmp/.env":!0,"/todo.sql":!0,"/tool/view/phpinfo.view.php":!0,"/tools/.env":!0,"/transfer/drupalbackup.sql":!0,"/travel/flights/":!0,"/triton-help/en/first.htm":!0,"/ts/prime/.env":!0,"/u.sql":!0,"/ubuntu/.env":!0,"/ucsm/isSamInstalled.cgi":!0,"/uddi/default.aspx":!0,"/uddipublic/default.aspx":!0,"/ui/":!0,"/ui/.env":!0,"/ui/login.action":!0,"/ui/login/":!0,"/ui/vropspluginui/rest/services/getstatus":!0,"/unified-console.html":!0,"/uninstall.sql":!0,"/unixtime/.env":!0,"/unsplash-downloader/.env":!0,"/update.sql":!0,"/updates.sql":!0,"/upfiles/.env":!0,"/upgrade.sql":!0,"/upgrade_latest.sql":!0,"/upload":!0,"/upload.sql":!0,"/upload/mobile/index.php?c=category&a=asynclist&price_max=1.0%20AND%20(SELECT%201%20FROM(SELECT%20COUNT(*),CONCAT(0x7e,md5(1),0x7e,FLOOR(RAND(0)*2))x%20FROM%20INFORMATION_SCHEMA.CHARACTER_SETS%20GROUP%20BY%20x)a)''":!0,"/uploads/.env":!0,"/uploads/dump.sql":!0,"/urlmem-app/.env":!0,"/user.ini":!0,"/user.sql":!0,"/users.sql":!0,"/users.sqlite":!0,"/users.yml":!0,"/users/sign_in":!0,"/v2/_catalog":!0,"/v2/query":!0,"/var/jwt/private.pem":!0,"/vb.sql":!0,"/version.properties":!0,"/view.html":!0,"/view/hsrindex.shtml":!0,"/view/view.shtml":!0,"/vncviewer.jar":!0,"/vod_installer/.env":!0,"/vsapres/web20/core/login.aspx":!0,"/vue/vuecli/.env":!0,"/vue_CRM/.env":!0,"/wcd/system.xml":!0,"/web-determinations/?CookieSet=true":!0,"/web-dist/.env":!0,"/web.config":!0,"/web.sql":!0,"/web/":!0,"/web/.env":!0,"/web/signin":!0,"/web_app/WEB-INF/webapp.properties":!0,"/web_caps/webCapsConfig":!0,"/webadm/?q=moni_detail.do&action=gragh":!0,"/webalizer/":!0,"/webapps/login/index.html":!0,"/webct/about.jsp":!0,"/website.sql":!0,"/websocket/.env":!0,"/webstatic/.env":!0,"/well-known/.env":!0,"/wercker.yml":!0,"/whturk/.env":!0,"/willem.sql":!0,"/windows/win.ini":!0,"/winnt/win.ini":!0,"/wls_utc/":!0,"/wordpress.sql":!0,"/world.sql":!0,"/wp-admin/admin-ajax.php?action=duplicator_download&file=%2F..%2Fwp-config.php":!0,"/wp-admin/admin-ajax.php?action=duplicator_download&file=..%2F..%2F..%2F..%2F..%2Fetc%2Fpasswd":!0,"/wp-admin/install.php":!0,"/wp-cli.local.yml":!0,"/wp-cli.yml":!0,"/wp-config.php":!0,"/wp-config.php-backup":!0,"/wp-content/backup/data.sql":!0,"/wp-content/backup/database.sql":!0,"/wp-content/backup/db.sql":!0,"/wp-content/backup/db_backup.sql":!0,"/wp-content/backup/dbdump.sql":!0,"/wp-content/backup/dump.sql":!0,"/wp-content/backup/mysql.sql":!0,"/wp-content/backup/site.sql":!0,"/wp-content/backup/wordpress.sql":!0,"/wp-content/backups/data.sql":!0,"/wp-content/backups/database.sql":!0,"/wp-content/backups/db.sql":!0,"/wp-content/backups/db_backup.sql":!0,"/wp-content/backups/dbdump.sql":!0,"/wp-content/backups/dump.sql":!0,"/wp-content/backups/mysql.sql":!0,"/wp-content/backups/site.sql":!0,"/wp-content/backups/wordpress.sql":!0,"/wp-content/data.sql":!0,"/wp-content/database.sql":!0,"/wp-content/db.sql":!0,"/wp-content/db_backup.sql":!0,"/wp-content/dbdump.sql":!0,"/wp-content/dump.sql":!0,"/wp-content/fullbackup.sql":!0,"/wp-content/fullwebsite.sql":!0,"/wp-content/mysql.sql":!0,"/wp-content/plugins/all-in-one-event-calendar/app/view/agenda-widget.php?title=%3C%2Fscript%3E%3Cscript%3Ealert%28document.domain%29%3C%2Fscript%3E":!0,"/wp-content/plugins/forget-about-shortcode-buttons/assets/js/fasc-buttons/popup.php?source=1&ver=1%3C%2Fscript%3E%3Cscript%3Ealert%28document.domain%29%3C%2Fscript%3E":!0,"/wp-content/plugins/wpmudev-updates/keys/":!0,"/wp-content/site.sql":!0,"/wp-content/themes/oxygen-theme/download.php?file=../../../wp-config.php":!0,"/wp-content/uploads/data.sql":!0,"/wp-content/uploads/database.sql":!0,"/wp-content/uploads/db.sql":!0,"/wp-content/uploads/db_backup.sql":!0,"/wp-content/uploads/dbdump.sql":!0,"/wp-content/uploads/dump.sql":!0,"/wp-content/uploads/mysql.sql":!0,"/wp-content/uploads/site.sql":!0,"/wp-content/uploads/wordpress.sql":!0,"/wp-content/wordpress.sql":!0,"/wp-login.php":!0,"/wp-login.php.bak":!0,"/wp-setup.sh":!0,"/wp.sql":!0,"/wpbackup.sql":!0,"/wrcontrollite.ssi":!0,"/ws_utc/login.do":!0,"/www-data/.env":!0,"/www.sql":!0,"/www/delivery/lg.php?dest=http://example.com":!0,"/wwwroot.sql":!0,"/xampp/cgi.cgi":!0,"/xmldata?item=All":!0,"/xmldata?item=CpqKey":!0,"/xmldata?item=all":!0,"/xmlpserver/services/XMLPService":!0,"/xmlrpc.php":!0,"/xsql/demo/airport/airport.xsql?xml-stylesheet=none":!0,"/zzfaq.sql":!0,"/~nobody/etc/passwd":!0};var oS;let sS=(0,s.Y)({providers:[{provide:"getAdditionalLabelValues",multi:!0,useValue(e){try{if(nS[e.url])return{unsafe_ignore_in_alerting:"scamrequest"}}catch(e){return{}}return{}}}]})(oS=class{})||oS;var iS;let cS=(0,s.Y)({providers:[]})(iS=class{})||iS;const uS=(0,u.V3)("DADATA_API_HTTP_CLIENT"),lS=e=>Boolean(e&&e.suggestions),dS=e=>({...e,payload:e.payload?.suggestions});let pS=class{};pS=(0,Qt.__decorate)([(0,s.Y)({imports:[Gl],providers:[(0,c.J)({provide:uS,useFactory:({httpClientFactory:e,envManager:t,appInfo:a})=>e({name:"dadata-api",baseUrl:t.get("DADATA_API"),query:{appName:a.appName,appVersion:t.get("APP_VERSION")},modifyResponse:dS},{isResponseValid:lS}),deps:{httpClientFactory:Zu,logger:k.Fp,envManager:O.vC,appInfo:h.Qo}}),(0,c.J)({provide:O.sQ,multi:!0,useValue:[{key:"DADATA_API",validator:y}]})]})],pS);const hS=(0,n.J)({name:"TramvaiDnsCacheModule",imports:[],providers:[]}),fS=new Map([[50,"youtube_video_iframe_50_percent"],[90,"youtube_video_iframe_90_percent"]]),mS=(0,c.J)({provide:P.resolvePageDeps,deps:{pageService:Pt.Y9},useFactory:({pageService:e})=>async()=>{const t=e.getConfig();t?.youtubeTracking&&(a.g.onYouTubeIframeAPIReady=()=>{let e,t;a.g.addEventListener("message",(function(r){try{const n=JSON.parse(r.data);if("infoDelivery"!==n.event)return;if(!e){if(!n.info.duration)return;e=n.info.duration}const o=Math.floor(n.info.currentTime/e*100);o!==t&&fS.has(o)&&(a.g.tracking.event(fS.get(o)),t=o)}catch{}}))})}});var gS;let vS=(0,s.Y)({providers:[mS]})(gS=class{})||gS;var yS;let bS=(0,s.Y)({providers:[(0,c.J)({provide:P.resolvePageDeps,deps:{userAgent:Na,resourcesRegistry:Ns,envManager:O.vC,pageService:Pt.Y9},useFactory:({userAgent:e,resourcesRegistry:t,envManager:a,pageService:r})=>()=>{const n="businessSecrets"===r.getConfig().bundle?"https://cdn.tbank.ru/pwa-prod/pfpsme/media/fonts/business-secret.css":(e=>{switch(e){case"ios":return"https://www.cdn-tinkoff.ru/frontend-libraries/npm/react-kit-font/typography/ios.css";case"android":return"https://www.cdn-tinkoff.ru/frontend-libraries/npm/react-kit-font/typography/android.css";default:return"https://www.cdn-tinkoff.ru/frontend-libraries/npm/react-kit-font/typography/desktop.css"}})(e.mobileOS);"true"!==a.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")?t.register({type:Zi.style,slot:"head:core-styles",payload:n,attrs:{"data-critical":"true"}}):(e=>{const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)})(n)},multi:!0})]})(yS=class{})||yS;var _S,ES=a(41926),SS=a(23910);let wS=(0,s.Y)({providers:[{provide:L.Ym,multi:!0,useValue:SS.L}]})(_S=class{})||_S;var kS,OS=a(36440);let TS=(0,s.Y)({providers:[{provide:L.Ym,multi:!0,useValue:OS.G}]})(kS=class{})||kS;var CS;let RS=(0,s.Y)({providers:[]})(CS=class{})||CS;const MS=["/business/","/business/account/","/business/credit/","/business/registration/","/business/registration-ip/","/kassa/","/business/partnership/","/kassa/solution/tips/","/corporate/vygoda/","/software/speech-analytics/","/software/voicekit/","/business/seller/","/business/become-partners/","/business/deposit/","/business/open-api/","/business/turnover/iframe/form/opt-supl-biz/","/business/acquiring/te-calculator/","/business/fuel/driver-verification/","/business/credit/choose-loan/","/business/registration/documents-ip/","/software/statist/","/business/open-api/integrator/cashoff/","/business/website-builder/","/business/registration-ip/form/","/business/account/form/mgm-reg/","/business/invite-friend/registration/","/business/turnover/","/business/account/form/mgm/","/business/account/form/","/business/account/ip/","/business/credit/ip/","/business/loans/","/business/invite-friend/","/business/cashloan/","/business/registration-ooo/","/business/payments/acquiring/","/business/payments/online-cashbox/","/business/marketplace/","/business/accounting/","/corporate/","/business/promotion-service/"],NS=[(0,c.J)({provide:O.sQ,multi:!0,useValue:[{key:"EXTERNAL_MAPPING_URL",validator:e=>/^https.*active-mapping\.json$/.test(e)}]}),(0,c.J)({provide:ap,multi:!0,useFactory:({envManager:e})=>String(e.get("EXTERNAL_MAPPING_URL")),deps:{envManager:O.vC}})];var xS;let AS=(0,s.Y)({providers:[]})(xS=class{})||xS;var PS=a(96965),IS=a.n(PS);const LS=[/https:\/\/(.+\.)?tinkoff\.ru/,/https:\/\/(.+\.)?tbank\.ru/],qS=(0,c.J)({provide:ra,useValue:async e=>{await e.register(IS(),{origin:(e,t)=>{t(null,LS)}})}}),DS={provide:(0,u.V3)("get cdn icon path token"),useFactory:({envManager:e,requestManager:t})=>()=>{const a=e.get("ACDN_URL"),r="params/common_front/resourses/icons/";switch(t.getHost()){case"electronicsignature.ru":return`${a}${r}esignature/`;case"time-messenger.ru":return`${a}${r}time-messenger/`;default:return e.get("CDN_ICONS_PATH")}},deps:{envManager:O.vC,requestManager:oa}},jS=[[["partners-test.tbank.ru","partners.tbank.ru","partners.tinkoff.ru"],{account:"partners",container:"partners"}],[["electronicsignature.ru"],{account:"tinkoff-pwa",container:"electronicsignature"}],[["b2g.tbank.ru","b2g-qa.tbank.ru","b2g-qa.tcsbank.ru"],{account:"tinkoff-pwa",container:"b2g-tinkoff"}],[["ca.tinkoff.ru","ca-test.tinkoff.ru","ca.tbank.ru","ca-test.tbank.ru"],{account:"tinkoff-pwa",container:"ca-tinkoff"}],[["knzpartners.tinkoff.ru","knzpartners-test.tinkoff.ru","knzpartners.tbank.ru","knzpartners-test.tbank.ru"],{account:"tinkoff-pwa",container:"knzpartners-tinkoff"}]].reduce(((e,[t,a])=>(t.forEach((t=>{e[t]=a})),e)),{}),FS=(0,c.J)({provide:sf.Te,useFactory:({requestManager:e})=>{const t=rn(e.getUrl());return jS[t.hostname]},deps:{requestManager:oa}});var US,VS;const BS=e=>e.replace(/-/g,"_"),HS=(0,u.V3)("SME_FEATURE_TOGGLE_TOKEN");let YS=(US=(0,s.Y)({providers:[(0,c.J)({provide:HS,useClass:class{constructor({adminService:e,appInfo:t}){this.adminService=e,this.appInfo=t}async getStatus(e){let t;try{const{payload:e}=await this.adminService.request({path:"feature-toggle/public/api/platform/v1/getToggles",query:{path:BS(this.appInfo.appName)}});t=e}catch(e){t=null}if(!t||v()(t))return!1;const a=t.items.reduce(((e,t)=>(e[(e=>e.split("/").slice(1,1/0).join("/"))(t.path)]=t.value,e)),{});return a[e]}},deps:{adminService:Ju,appInfo:h.Qo}})]}),US(VS=class{})||VS);const $S=e=>({jsonrpc:"2.0",id:"pfpsme-prod-v0.58.0",method:"getManyVariablesVariants",params:{offset:0,limit:1e3,filters:{variablesGroupName:e,isDeleted:!1}}}),JS=(0,c.J)({provide:"router bundleInfoAdditional",useFactory:({allAppIdsResolve:e,bundleManager:t,integrationAdminService:a,domainResolve:r,httpClient:n,environmentManager:o,logger:s,featureToggle:i})=>{const c=s("route:bundle-info"),u=`${o.get("INTEGRATION_CONFIG_API")}variables/api/integration/v1/getManyVariablesVariants`;return async()=>{const o=await(r?.())||"";if(!o)throw new Error("Произошла непредвиденная ошибка, токен DOMAIN_RESOLVE_TOKEN не вернул домен приложения");const s=await i.getStatus("expandedBundleInfo"),l=[a.getRoutesByDomainAndAppId({filters:{domain:o,appIds:e()}}),a.getRoutesByDomainAndAppId({filters:{domain:o,appIds:["platform"],properties:{bundle:Object.keys(t.bundles).filter((e=>"mainDefault"!==e&&"__default"!==e))}}})],d=await Promise.all(l);let p;return p=s?await Promise.all($r()(d.map((e=>e.payload.routes))).map((e=>{if((e=>e.url?.includes("/:"))(e)){const t=(e=>(e.url.match(/\/:(\w+)/)??[])[1])(e);return t?n.request({url:u,method:"POST",requestType:"json",responseType:"json",body:$S(t),cache:!0,timeout:12e4,memoryCacheTtl:12e5}).then((({payload:a})=>(0===a.result.total&&c.warn({event:"no keys for dynamic variable",payload:{path:e.url}}),a.result.items.map((({key:a})=>({...e,url:e.url.replace(`:${t}`,a)})))))):(c.warn({event:"unable to extract dyn variable",payload:{path:e.url}}),Promise.resolve(e))}return Promise.resolve(e)}))).then((e=>e.flat())):$r()(d.map((e=>e.payload.routes))),p.map((e=>({path:e.url,name:e.name,config:{domain:e.domain,...e.properties}})))}},deps:{allAppIdsResolve:hi,bundleManager:Ya,integrationAdminService:Gu,domainResolve:fi,httpClient:_c.bV,environmentManager:O.vC,logger:k.Fp,featureToggle:HS}}),KS=(0,u.V3)("DCO_FEATURE_TOGGLE"),zS=(0,u.V3)("DCO_CONTEXT"),GS=[(0,c.J)({provide:KS,useValue:{"pwasme/toggles_eacq/eacq_no_email":!1}}),(0,c.J)({provide:zS,deps:{wuid:T.$,requestManager:oa,cookies:na.T},useFactory:({wuid:e,requestManager:t,cookies:a})=>({tenant:"pwasme",page_url:t.getParsedUrl()?.path,userIds:{"dco.id":a.get("dco.id")??"",ssoId:a.get("ssoId")??"",pcId:a.get("pcId")??"",__P__wuid:e??""}})})];var XS;let WS=(0,s.Y)({providers:[]})(XS=class{})||XS;const QS=(0,Rt.y)("setSeoSsrDataState"),ZS=(0,Mt.L)("seoSsrData",{}).on(QS,((e,{alias:t,data:a})=>({...e,[t]:a}))),ew=(0,c.J)({provide:L.Ym,multi:!0,useValue:ZS});var tw;let aw=(0,s.Y)({providers:[ew]})(tw=class{})||tw;const rw=new RegExp(["chrome(-extension)?://","moz-extension://","safari(-web)?-extension://","webkit-masked-url"].join("|"),"i");class nw{constructor(e){this.client=e;const t=e.isIgnoredError.bind(e);e.isIgnoredError=function(e){return t(e)||rw.test(JSON.stringify(e.exception))}}destroy(){}}const ow=(0,c.J)({provide:uE,multi:!0,useFactory:()=>({plugins:[nw]})});!function(e){let t;try{t=new va(e)}catch(e){throw e.appCreationError=!0,e}t.initialization("client").then((()=>t)).catch((e=>{throw e instanceof Error&&(e.appCreationError=!0),e}))}({name:"pfpsme",modules:[Yo.forRoot({config:async()=>({apis:["CONFIG_API","SSO_API","SSO_INT_API","SITEBUILDER_API","TWORK_AUTH_API","PLATFORM_CUSTOMER_MODIFIER_API","TSELLER_API"]})}),fE,Bo,Ba,TS,RS,di,H_,Qi,Cd.forRoot([(e,t)=>{const a=(r=e.getStore("router").getState(),il()(["currentRoute","url"],r));var r;const n="string"==typeof a&&a.indexOf("business/loan")>-1;t.updateMeta(10,{titleCustom:{tag:"meta",attributes:{name:"referrer",content:n?"no-referrer-when-downgrade":"strict-origin-when-cross-origin"}}})}]),Th,Gt,R_,hg,Rc,Gl,Wl,Pg,xE,qg,Nb,rS,JE,vS,At,Cb,WS,S_.forRoot({mgmProductCode:"RKO"}),h_,J_,Fm,K_,z_,qE,AE,pS,PE,i,sS,cS,ec,wS,hS,bS,AS,o,YS,aw,qm,pa],providers:[qS,...bf.forRoot({projects:[{project:"pwa-sme"},{project:"form-builder"},{project:"boxyCore"},{project:"pfp-acquiring"},{project:"general-web"},{project:"reformer"}]}).providers,{provide:O.sQ,multi:!0,useValue:[{key:"TINKOFF_WEB_SOCKET"},{key:"DADATA_API"},{key:"CONTRACTOR_PAPI"},{key:"BUSINESS_API"},{key:"SME_API"},{key:"SME_OPEN_API"},{key:"SME_REGISTRATION_API"},{key:"SME_LOANS_URL"},{key:"SME_LOANS_OFFERS_API",dehydrate:!1},{key:"BUSINESS_DEPOSIT_API"},{key:"RESOURCES_API"},{key:"RESOURCES_CDN_URL"},{key:"RESOURCES_SCHEMA_ID"},{key:"SME_RESOURCES_API"},{key:"TINKOFF_API"},{key:"GEO_API"},{key:"SENTRY_DSN",optional:!0},{key:"ORIGINATION_API"},{key:"B_TO_B_CRM_API"},{key:"EACQ_API"},{key:"REQUEST_LIMITER_QUEUE",value:"5"},{key:"REQUEST_LIMITER_MELD",value:"20"},{key:"REQUEST_LIMITER_LIMIT",value:"10"},{key:"TRY_VOICE_KIT_HOST"},{key:"TRY_VOICE_KIT_CLIENT_ID"},{key:"TINKOFF_JOURNAL_API"},{key:"SECURE_PAY_API"},{key:"IMGPROXY_URL"},{key:"PAPI"},{key:"SSO_API"},{key:"SSO_INT_API",dehydrate:!1},{key:"SSO_REDIRECT_URI"},{key:"SSO_CLIENT_ID_REGISTRATION"},{key:"SSO_BUSINESS_REDIRECT_URI"},{key:"SSO_CLIENT_ID_TSELLER"},{key:"SSO_CLIENT_SECRET_TSELLER",dehydrate:!1},{key:"SSO_CLIENT_ID_MMA"},{key:"SSO_CLIENT_SECRET_MMA",dehydrate:!1},{key:"PLATFORM_CUSTOMER_MODIFIER_API",dehydrate:!1},{key:"CUSTOMER_MODIFIER_LOGIN",dehydrate:!1},{key:"CUSTOMER_MODIFIER_PASSWORD",dehydrate:!1},{key:"SITEBUILDER_API",dehydrate:!1},{key:"TSELLER_REDIRECT_URL"},{key:"SITE_BUILDER_REDIRECT_URL"},{key:"REGISTRATION_IP_REDIRECT_URL"},{key:"REGISTRATION_OOO_REDIRECT_URL"},{key:"SOCIAL_NETWORK_SHOP_REDIRECT_URL"},{key:"TENDER_PLATFORM_REDIRECT_URL"},{key:"TSELLER_API",dehydrate:!1},{key:"TSELLER_TOKEN",dehydrate:!1},{key:"TINKOFF_FUEL_API"},{key:"MINDBOX_API"},{key:"MINDBOX_ENDPOINT_ID"},{key:"MMA_REGISTRATION_SERVICE"},{key:"MMA_LANDING_SERVICE"},{key:"DEFAULT_SSO_LOGOUT_REDIRECT_URL"},{key:"ACDN_URL"},{key:"STATIST_CLIENT_URL"},{key:"BUSINESS_INT_PASSWORD",dehydrate:!1},{key:"BUSINESS_INT_LOGIN",dehydrate:!1},{key:"BUSINESS_INT_URL",dehydrate:!1},{key:"TWORK_AUTH_API",dehydrate:!1},{key:"PROFILES_PLATFORM_API",dehydrate:!1},{key:"MANAGER_ACCOUNT_URL"},{key:"DIRECTOR_ACCOUNT_URL"},{key:"BUSINESS_BUNDLE_API"},{key:"AMOCRM_SUBDOMAIN",dehydrate:!1},{key:"AMOCRM_TOKEN",dehydrate:!1},{key:"POLLS_WIDGET_URL",dehydrate:!1},{key:"POLLS_BASE_URL"},{key:"PFA_AUTH_API_KEY",dehydrate:!1},{key:"PFA_AUTH_NAME",dehydrate:!1}]},(0,c.J)({provide:tm.K8,useFactory:({pageService:e})=>e.getCurrentUrl().pathname,deps:{pageService:Pt.Y9}}),{provide:xs,useValue:" || !window.Promise || !Element.prototype.scrollTo"},{provide:Pt.Dk,multi:!0,useValue:[{name:"sso-redirect",path:"/business/sso-redirect",config:{pageComponent:"@/pages/sso-redirect",xFrameOptions:"allow","phone-meta-viewport-off":!0,meta:{seo:{metaTags:{robots:"noindex, nofollow"}}}}},{name:"sso-logout",path:"/business/sso-logout",config:{pageComponent:"@/pages/sso/logout",meta:{seo:{metaTags:{robots:"noindex, nofollow"}}}}}]},{provide:yi,useFactory:async({requestManager:e})=>{const t=rn(e.getUrl());return["tinkoff.ru","www.tinkoff.ru","tbank.ru","www.tbank.ru"].includes(t.hostname)?MS:[]},deps:{requestManager:oa}},FS,{provide:gi,multi:!0,useValue:[{from:{bundle:"platform/public/smeRkoLanding"},to:{bundle:"pfpsme/main"}},{from:{bundle:"platform/public/smeBoxyBundle"},to:{bundle:"pfpsme/main"}}]},{provide:Fs,multi:!0,useValue:{components:{regionPopupUp:ME}}},(0,c.J)({provide:Ct.MS,useValue:()=>a.g.tracking?.getEventeaEnrichment?.()||{}}),(0,c.J)({provide:tc,useValue:!1}),(0,c.J)({provide:ac,useFactory:({env:e})=>({maxEventLoopDelay:Number(e.get("REQUEST_LIMITER_MELD")),queue:Number(e.get("REQUEST_LIMITER_QUEUE")),limit:Number(e.get("REQUEST_LIMITER_LIMIT"))}),deps:{env:O.vC}}),{provide:"additionalLabelNames",useValue:["unsafe_ignore_in_alerting"],multi:!0},{provide:"getAdditionalLabelValues",useValue:e=>e.headers?.["appsec-scanner"]?{unsafe_ignore_in_alerting:"appsec-scanner"}:{},multi:!0},ES.N,{provide:Ch,multi:!0,useValue:["company_pages","pwasme"]},...GS,(0,c.J)({provide:mi,useFactory:({requestManager:e})=>t=>async a=>t({...a,requestOptions:{...a.requestOptions,headers:{...a.requestOptions.headers,"x-application-host":e.getHost()}}}),deps:{requestManager:oa}}),JS,(0,c.J)({provide:Cs,multi:!0,useFactory:({env:e})=>({type:Zi.inlineScript,slot:"body:tail",payload:`(function(w,i,d,g,e,t,p){w[e]=w[e]||function(){(w[e].a=w[e].a||[]).push(arguments)};\nw[e].l=1*new Date();t=i.createElement(d),p=i.getElementsByTagName(d)[0],t.async=1,t.src=g,p.parentNode.insertBefore(t,p)})\n(window, document, "script", "${new URL("widget.js",e.get("POLLS_WIDGET_URL")).toString()}", "pw"); `}),deps:{env:O.vC}}),(0,c.J)({provide:P.resolveUserDeps,deps:{wuid:T.$,env:O.vC,logger:k.Fp},useFactory({wuid:e,env:t,logger:a}){const r=a({name:"POLLS"});try{window.pw&&window.pw(t.get("APP_ID"),"init",{appVersion:t.get("APP_VERSION"),baseUrl:t.get("POLLS_BASE_URL"),preventInjectRoutingHandler:!0,trackingIdType:"wuid",trackingId:e})}catch(t){r.error({wuid:e,event:"Polls service initialization error",error:t})}return()=>{}}}),ow,DS,...NS],bundles:{mainDefault:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("2c26cecbf5df2de9"),a.e("a02474c4d2584228"),a.e("678fa105a34061a1"),a.e("542c21d7c27e17bb"),a.e("6dfa0239df057db9"),a.e("mainDefault")]).then(a.bind(a,35444)),"pfpsme/main":()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("2c26cecbf5df2de9"),a.e("a02474c4d2584228"),a.e("678fa105a34061a1"),a.e("542c21d7c27e17bb"),a.e("6dfa0239df057db9"),a.e("main")]).then(a.bind(a,32243)),"platform/pfpsme":()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("2c26cecbf5df2de9"),a.e("a02474c4d2584228"),a.e("678fa105a34061a1"),a.e("542c21d7c27e17bb"),a.e("6dfa0239df057db9"),a.e("pfpsme")]).then(a.bind(a,92044)),"platform/mpfpsme":()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("679e17f7a4075d9b"),a.e("6d5c6c82cf116baf"),a.e("2c26cecbf5df2de9"),a.e("a02474c4d2584228"),a.e("678fa105a34061a1"),a.e("542c21d7c27e17bb"),a.e("6dfa0239df057db9"),a.e("mpfpsme")]).then(a.bind(a,27291)),approvedLoans:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("28930fe709c0d99f"),a.e("2c26cecbf5df2de9"),a.e("ba43c8b704a57ef4"),a.e("approvedLoans")]).then(a.bind(a,36284)),dataCategoryArticles:()=>Promise.all([a.e("f49d3fad0aea893b"),a.e("6d5c6c82cf116baf"),a.e("2c26cecbf5df2de9"),a.e("542c21d7c27e17bb"),a.e("ba43c8b704a57ef4"),a.e("dataCategoryArticles")]).then(a.bind(a,94808)),iframe:()=>a.e("iframe").then(a.bind(a,93596)),businessSecrets:()=>a.e("businessSecrets").then(a.bind(a,2034))}})},36440:function(e,t,a){"use strict";a.d(t,{G:function(){return s}});var r=a(42353),n=a(58426);const o=(0,r.y)("Set approved loans"),s=(0,n.L)("approvedLoans",[]).on(o,((e,t)=>t))},23910:function(e,t,a){"use strict";a.d(t,{L:function(){return s}});var r=a(42353),n=a(58426);const o=(0,r.y)("Set articles and tags"),s=(0,n.L)("articles",{articles:[],tags:[]}).on(o,((e,t)=>t))},41926:function(e,t,a){"use strict";a.d(t,{N:function(){return c},f:function(){return i}});var r=a(59999),n=a(97570),o=a(9056),s=a(82571);const i=(0,r.V3)("SECURE_PAY_API_CLIENT"),c=(0,n.J)({provide:i,useFactory:({factory:e,envManager:t})=>e({name:"secure-pay-api",baseUrl:t.get("SECURE_PAY_API")}),deps:{factory:o.FB,envManager:s.vC}})},50137:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});const r=["ИП"],n=e=>{const[t,...a]=e?e.split(" "):[];let n=e;return t&&r.indexOf(t)>=0&&(n=a.reduce(((e,t)=>`${e} ${t[0].toUpperCase()}${t.substr(1).toLowerCase()}`),t)),n}},96965:function(e,t,a){"use strict";const r=a(76182),{addAccessControlRequestHeadersToVaryHeader:n,addOriginToVaryHeader:o}=a(65711),s={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",hook:"onRequest",preflightContinue:!1,optionsSuccessStatus:204,credentials:!1,exposedHeaders:null,allowedHeaders:null,maxAge:null,preflight:!0,strictPreflight:!0},i=["onRequest","preParsing","preValidation","preHandler","preSerialization","onSend"],c=["preSerialization","preParsing","onSend"];function u(e,t){-1===i.indexOf(e)&&t(new TypeError("@fastify/cors: Invalid hook option provided."))}function l(e,t,a,r){const n=a&&a.hook||s.hook;u(n,r),2===e.length?-1!==c.indexOf(n)?t.addHook(n,(function(a,r,n,o){d(e,t,a,r,o)})):t.addHook(n,(function(a,r,n){d(e,t,a,r,n)})):-1!==c.indexOf(n)?t.addHook(n,(function(a,r,n,o){const s=e(a);s&&"function"==typeof s.then?s.then((e=>h(t,p(e,!0),a,r,o))).catch(o):o(new Error("Invalid CORS origin option"))})):t.addHook(n,(function(a,r,n){const o=e(a);o&&"function"==typeof o.then?o.then((e=>h(t,p(e,!0),a,r,n))).catch(n):n(new Error("Invalid CORS origin option"))}))}function d(e,t,a,r,n){e(a,((e,o)=>{e?n(e):h(t,p(o,!0),a,r,n)}))}function p(e,t){const a={...s,...e};return Array.isArray(e.origin)&&-1!==e.origin.indexOf("*")&&(a.origin="*"),Number.isInteger(a.cacheControl)?a.cacheControl=`max-age=${a.cacheControl}`:"string"!=typeof a.cacheControl&&(a.cacheControl=null),a.dynamic=t||!1,a}function h(e,t,a,r,s){("string"!=typeof t.origin&&!1!==t.origin||t.dynamic)&&o(r);const i="function"==typeof t.origin?function(e,t){return function(a,r){const n=t.call(e,a.headers.origin,r);n&&"function"==typeof n.then&&n.then((e=>r(null,e)),r)}}(e,t.origin):(e,a)=>a(null,t.origin);i(a,((e,o)=>{if(null!==e)return s(e);if(!1===o)return s();if(!o)return s(new Error("Invalid CORS origin option"));if(function(e,t,a,r){const n=function(e,t){return"string"==typeof t?t:!!f(e,t)&&e}(e.headers.origin,a);n&&t.header("Access-Control-Allow-Origin",n),r.credentials&&t.header("Access-Control-Allow-Credentials","true"),null!==r.exposedHeaders&&t.header("Access-Control-Expose-Headers",Array.isArray(r.exposedHeaders)?r.exposedHeaders.join(", "):r.exposedHeaders)}(a,r,o,t),"OPTIONS"===a.raw.method&&!0===t.preflight){if(!(!0!==t.strictPreflight||a.headers.origin&&a.headers["access-control-request-method"]))return void r.status(400).type("text/plain").send("Invalid Preflight Request");if(a.corsPreflightEnabled=!0,function(e,t,a){if(t.header("Access-Control-Allow-Methods",Array.isArray(a.methods)?a.methods.join(", "):a.methods),null===a.allowedHeaders){n(t);const a=e.headers["access-control-request-headers"];void 0!==a&&t.header("Access-Control-Allow-Headers",a)}else t.header("Access-Control-Allow-Headers",Array.isArray(a.allowedHeaders)?a.allowedHeaders.join(", "):a.allowedHeaders);null!==a.maxAge&&t.header("Access-Control-Max-Age",String(a.maxAge)),a.cacheControl&&t.header("Cache-Control",a.cacheControl)}(a,r,t),!t.preflightContinue)return void r.code(t.optionsSuccessStatus).header("Content-Length","0").send()}return s()}))}function f(e,t){if(Array.isArray(t)){for(let a=0;a<t.length;++a)if(f(e,t[a]))return!0;return!1}return"string"==typeof t?e===t:t instanceof RegExp?(t.lastIndex=0,t.test(e)):!!t}const m=r((function(e,t,a){e.decorateRequest("corsPreflightEnabled",!1);let r=!0;if("function"==typeof t)l(t,e,{hook:s.hook},a);else if(t.delegator){const{delegator:r,...n}=t;l(r,e,n,a)}else{void 0!==t.hideOptionsRoute&&(r=t.hideOptionsRoute);const n=p(t);u(n.hook,a),-1!==c.indexOf(n.hook)?e.addHook(n.hook,(function(t,a,r,o){h(e,n,t,a,o)})):e.addHook(n.hook,(function(t,a,r){h(e,n,t,a,r)}))}e.options("*",{schema:{hide:r}},((e,t)=>{e.corsPreflightEnabled?t.send():t.callNotFound()})),a()}),{fastify:"4.x",name:"@fastify/cors"});e.exports=m,e.exports.fastifyCors=m,e.exports.default=m},65711:function(e,t,a){"use strict";const r=a(95365),n=/^[!#$%&'*+\-.^\w`|~]+$/u;function o(e){const t=[];if(0===(e=e.trim().toLowerCase()).length);else if(-1===e.indexOf(","))t.push(e);else{const a=e.length;let r,n=0,o=0;for(n=0;n<a;++n)r=e[n]," "===r?o=n+1:","===r&&(o!==n&&t.push(e.slice(o,n)),o=n+1);o!==n&&t.push(e.slice(o,n))}return t}function s(e){const t=new r(1e3);return function(e){if(!1===n.test(e))throw new TypeError("Fieldname contains invalid characters.")}(e),function(a){let r=a.getHeader("Vary");if(!r)return void a.header("Vary",e);if("*"===r)return;if("*"===e)return void a.header("Vary","*");if(Array.isArray(r)&&(r=r.join(", ")),!t.has(r)){const a=o(r);-1!==a.indexOf("*")?t.set(r,"*"):-1===a.indexOf(e.toLowerCase())?t.set(r,r+", "+e):t.set(r,null)}const n=t.get(r);null!==n&&a.header("Vary",n)}}e.exports.createAddFieldnameToVary=s,e.exports.addOriginToVaryHeader=s("Origin"),e.exports.addAccessControlRequestHeadersToVaryHeader=s("Access-Control-Request-Headers"),e.exports.parse=o},12098:function(e){"use strict";e.exports={PHONE_SMALL:370,PHONE_GIANT:541,PHONE:599,MEDIUM_TABLETS:600,TABLETS:600,MOBILE:1023,DESKTOP:1024,DESKTOP_SMALL:1024,DESKTOP_MEDIUM:1360,DESKTOP_LARGE_BOARD:1600,DESKTOP_LARGE:1600,DESKTOP_EXTRA_LARGE:1716,TABLET_S:600,TABLET_L:768,DESKTOP_S:1024,DESKTOP_MD:1280,DESKTOP_M:1360,DESKTOP_L:1600}},10521:function(e,t){var a;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=s(e,o(a)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=s(t,a));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()},20986:function(e,t,a){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},r.apply(null,arguments)}a.d(t,{Z:function(){return r}})},33926:function(e,t,a){"use strict";function r(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}a.d(t,{Z:function(){return r}})},80476:function(e,t,a){"use strict";a.r(t),a.d(t,{__addDisposableResource:function(){return L},__assign:function(){return o},__asyncDelegator:function(){return O},__asyncGenerator:function(){return k},__asyncValues:function(){return T},__await:function(){return w},__awaiter:function(){return f},__classPrivateFieldGet:function(){return A},__classPrivateFieldIn:function(){return I},__classPrivateFieldSet:function(){return P},__createBinding:function(){return g},__decorate:function(){return i},__disposeResources:function(){return D},__esDecorate:function(){return u},__exportStar:function(){return v},__extends:function(){return n},__generator:function(){return m},__importDefault:function(){return x},__importStar:function(){return N},__makeTemplateObject:function(){return C},__metadata:function(){return h},__param:function(){return c},__propKey:function(){return d},__read:function(){return b},__rest:function(){return s},__rewriteRelativeImportExtension:function(){return j},__runInitializers:function(){return l},__setFunctionName:function(){return p},__spread:function(){return _},__spreadArray:function(){return S},__spreadArrays:function(){return E},__values:function(){return y},default:function(){return F}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},r(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var o=function(){return o=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function s(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}function i(e,t,a,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(s=(o<3?n(s):o>3?n(t,a,s):n(t,a))||s);return o>3&&s&&Object.defineProperty(t,a,s),s}function c(e,t){return function(a,r){t(a,r,e)}}function u(e,t,a,r,n,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var i,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),p=!1,h=a.length-1;h>=0;h--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,a[h])("accessor"===c?{get:d.get,set:d.set}:d[u],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(i=s(g.get))&&(d.get=i),(i=s(g.set))&&(d.set=i),(i=s(g.init))&&n.unshift(i)}else(i=s(g))&&("field"===c?n.unshift(i):d[u]=i)}l&&Object.defineProperty(l,r.name,d),p=!0}function l(e,t,a){for(var r=arguments.length>2,n=0;n<t.length;n++)a=r?t[n].call(e,a):t[n].call(e);return r?a:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,a){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,a,r){return new(a||(a=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var a,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var g=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]};function v(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||g(t,e,a)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],r=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,o=a.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return s}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function E(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<a;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,n++)r[n]=o[s];return r}function S(e,t,a){if(a||2===arguments.length)for(var r,n=0,o=t.length;n<o;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function k(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){n[e]&&(r[e]=function(t){return new Promise((function(a,r){o.push([e,t,a,r])>1||i(e,t)}))},t&&(r[e]=t(r[e])))}function i(e,t){try{(a=n[e](t)).value instanceof w?Promise.resolve(a.value.v).then(c,u):l(o[0][2],a)}catch(e){l(o[0][3],e)}var a}function c(e){i("next",e)}function u(e){i("throw",e)}function l(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function O(e){var t,a;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){t[r]=e[r]?function(t){return(a=!a)?{value:w(e[r](t)),done:!1}:n?n(t):t}:n}}function T(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise((function(r,n){!function(e,t,a,r){Promise.resolve(r).then((function(t){e({value:t,done:a})}),t)}(r,n,(t=e[a](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},M=function(e){return M=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t},M(e)};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a=M(e),r=0;r<a.length;r++)"default"!==a[r]&&g(t,e,a[r]);return R(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function A(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)}function P(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a}function I(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,a){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,n;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],a&&(n=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:a})}else a&&e.stack.push({async:!0});return t}var q="function"==typeof SuppressedError?SuppressedError:function(e,t,a){var r=new Error(a);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function D(e){function t(t){e.error=e.hasError?new q(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var a,r=0;return function n(){for(;a=e.stack.pop();)try{if(!a.async&&1===r)return r=0,e.stack.push(a),Promise.resolve().then(n);if(a.dispose){var o=a.dispose.call(a.value);if(a.async)return r|=2,Promise.resolve(o).then(n,(function(e){return t(e),n()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function j(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,a,r,n,o){return a?t?".jsx":".js":!r||n&&o?r+n+"."+o.toLowerCase()+"js":e})):e}const F={__extends:n,__assign:o,__rest:s,__decorate:i,__param:c,__esDecorate:u,__runInitializers:l,__propKey:d,__setFunctionName:p,__metadata:h,__awaiter:f,__generator:m,__createBinding:g,__exportStar:v,__values:y,__read:b,__spread:_,__spreadArrays:E,__spreadArray:S,__await:w,__asyncGenerator:k,__asyncDelegator:O,__asyncValues:T,__makeTemplateObject:C,__importStar:N,__importDefault:x,__classPrivateFieldGet:A,__classPrivateFieldSet:P,__classPrivateFieldIn:I,__addDisposableResource:L,__disposeResources:D,__rewriteRelativeImportExtension:j}},20459:function(e){"use strict";e.exports=JSON.parse('{"name":"@tinkoff/cobrowsing","version":"4.4.0","main":"index.js","types":"index.d.ts","sideEffects":false}')}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}},s=!0;try{r[e].call(a.exports,a,a.exports,o),s=!1}finally{s&&delete n[e]}return a.exports}o.m=r,o.c=n,e=[],o.O=function(t,a,r,n){if(!a){var s=1/0;for(l=0;l<e.length;l++){for(var[a,r,n]=e[l],i=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[c])}))?a.splice(c--,1):(i=!1,n<s&&(s=n));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[a,r,n]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))},o.u=function(e){return e+"."+{f49d3fad0aea893b:"a323962b5b8c3292","28930fe709c0d99f":"c0fb24b9f62a5035","679e17f7a4075d9b":"492059b7c7db8dd7","6d5c6c82cf116baf":"5d2c13aafc9e168b","2c26cecbf5df2de9":"12a8af51c68f2a5e",a02474c4d2584228:"5ee8a33d14b694c1","678fa105a34061a1":"cb006e448004a9a3","542c21d7c27e17bb":"c95303a31b0ff528","6dfa0239df057db9":"dacbeac74e5aa76b",mainDefault:"f9f2f878f5336443",main:"e2b100abb233198f",pfpsme:"4f4137c595ebe664",mpfpsme:"3b727314360bf440",ba43c8b704a57ef4:"f3d4c9a924eaa1f3",approvedLoans:"3ea727fdfae6701a",dataCategoryArticles:"01008acbc9ae5968",iframe:"3fb2a7379b73761a",businessSecrets:"74d67ed821c7c949","@_pages_loans_pos-loans_[category]_index":"9f7736e362a4a566","@_pages_sso_logout":"3ac5fdab0e5f654f","@_pages_sso-redirect":"56ac07638a863994","cobrowsing-ui":"ef639b42f7fc0bb0","0e62c58c969ece9f":"f736beb46ddb6cee","tinkoff-boxy-module-mobile-popup-region":"dbd5ea9ca5f9e675","tinkoff-boxy-module-desktop-popup-region":"c696c045521d2433","tramvai-web-performance-rum":"1430cf39d07ef5c7"}[e]+".chunk.js"},o.miniCssF=function(e){return e+"."+{f49d3fad0aea893b:"6151f6ecbd181e3d","28930fe709c0d99f":"4949fabba86fe31f","679e17f7a4075d9b":"d56bd21b4d072b70","6d5c6c82cf116baf":"f2f3959e0427a0fd","678fa105a34061a1":"6326fac68e19f279",mainDefault:"d8f00233e0cdbf28",main:"d8f00233e0cdbf28",pfpsme:"d8f00233e0cdbf28",mpfpsme:"d8f00233e0cdbf28",approvedLoans:"72045450438e472f",dataCategoryArticles:"4613ca1d8a5965e8","@_pages_sso-redirect":"a695d3abfc17441c","cobrowsing-ui":"59b0fc27042ae03e","0e62c58c969ece9f":"3b3b771e59ac417d","tinkoff-boxy-module-mobile-popup-region":"f4333a4a08e28f9e","tinkoff-boxy-module-desktop-popup-region":"33b255f612496694"}[e]+".chunk.css"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},a="application:pfpsme:1.0.0:",o.l=function(e,r,n,s){if(t[e])t[e].push(r);else{var i,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=240,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",a+n),i.src=e,0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous")),t[e]=[r];var p=function(a,r){i.onerror=i.onload=null,clearTimeout(h);var n=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(r)})),a)return a(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),24e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p=window.ap,function(){o.S={};var e={},t={};o.I=function(a,r){r||(r=[]);var n=t[a];if(n||(n=t[a]={}),!(r.indexOf(n)>=0)){if(r.push(n),e[a])return e[a];o.o(o.S,a)||(o.S[a]={});var s=o.S[a],i="application:pfpsme:1.0.0",c=function(e,t,a,r){var n=s[e]=s[e]||{},o=n[t];(!o||!o.loaded&&(!r!=!o.eager?r:i>o.from))&&(n[t]={get:a,from:i,eager:!!r})},u=[];return"default"===a&&(c("react-dom","18.2.0",(function(){return function(){return o(95468)}}),1),c("react/jsx-runtime","18.2.0",(function(){return function(){return o(57695)}}),1),c("react","18.2.0",(function(){return function(){return o(57203)}}),1)),e[a]=u.length?Promise.all(u).then((function(){return e[a]=1})):1}}}(),function(){var e=function(e){var t=function(e){return e.split(".").map((function(e){return+e==e?+e:e}))},a=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=a[1]?t(a[1]):[];return a[2]&&(r.length++,r.push.apply(r,t(a[2]))),a[3]&&(r.push([]),r.push.apply(r,t(a[3]))),r},t=function(t,a){var r=t[a];return Object.keys(r).reduce((function(t,a){return!t||!r[t].loaded&&function(t,a){t=e(t),a=e(a);for(var r=0;;){if(r>=t.length)return r<a.length&&"u"!=(typeof a[r])[0];var n=t[r],o=(typeof n)[0];if(r>=a.length)return"u"==o;var s=a[r],i=(typeof s)[0];if(o!=i)return"o"==o&&"n"==i||"s"==i||"u"==o;if("o"!=o&&"u"!=o&&n!=s)return n<s;r++}}(t,a)?a:t}),0)},a=function(e){return e.loaded=1,e.get()},r=function(e){return function(t,a,r,n){var s=o.I(t);return s&&s.then?s.then(e.bind(e,t,o.S[t],a,r,n)):e(t,o.S[t],a,r,n)}}((function(e,r,n,s){return r&&o.o(r,n)?function(e,r,n,o){var s=t(e,n);return a(e[n][s])}(r,0,n):s()})),n={},s={44121:function(){return r("default","react",(function(){return function(){return o(57203)}}))},90130:function(){return r("default","react/jsx-runtime",(function(){return function(){return o(57695)}}))},90776:function(){return r("default","react-dom",(function(){return function(){return o(95468)}}))}};[44121,90130,90776].forEach((function(e){o.m[e]=function(t){n[e]=0,delete o.c[e];var a=s[e]();if("function"!=typeof a)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=a()}}));var i={};o.f.consumes=function(e,t){o.o(i,e)&&i[e].forEach((function(e){if(o.o(n,e))return t.push(n[e]);var a=function(t){n[e]=0,o.m[e]=function(a){delete o.c[e],a.exports=t()}},r=function(t){delete n[e],o.m[e]=function(a){throw delete o.c[e],t}};try{var i=s[e]();i.then?t.push(n[e]=i.then(a).catch(r)):a(i)}catch(e){r(e)}}))}}(),function(){if("undefined"!=typeof document){var e={platform:0};o.f.miniCss=function(t,a){e[t]?a.push(e[t]):0!==e[t]&&{f49d3fad0aea893b:1,"28930fe709c0d99f":1,"679e17f7a4075d9b":1,"6d5c6c82cf116baf":1,"678fa105a34061a1":1,mainDefault:1,main:1,pfpsme:1,mpfpsme:1,approvedLoans:1,dataCategoryArticles:1,"@_pages_sso-redirect":1,"cobrowsing-ui":1,"0e62c58c969ece9f":1,"tinkoff-boxy-module-mobile-popup-region":1,"tinkoff-boxy-module-desktop-popup-region":1}[t]&&a.push(e[t]=function(e){return new Promise((function(t,a){var r=o.miniCssF(e),n=o.p+r;if(function(e,t){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var n=(s=a[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(n===e||n===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((n=(s=o[r]).getAttribute("data-href"))===e||n===t)return s}}(r,n))return t();!function(e,t,a,r,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(a){if(o.onerror=o.onload=null,"load"===a.type)r();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,o.parentNode&&o.parentNode.removeChild(o),n(c)}},o.href=t,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}(e,n,0,t,a)}))}(t).then((function(){e[t]=0}),(function(a){throw delete e[t],a})))}}}(),function(){var e={platform:0};o.f.j=function(t,a){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var n=new Promise((function(a,n){r=e[t]=[a,n]}));a.push(r[2]=n);var s=o.p+o.u(t),i=new Error;o.l(s,(function(a){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,r[1](i)}}),"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,[s,i,c]=a,u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var l=c(o)}for(t&&t(a);u<s.length;u++)n=s[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(l)},a=self.wsp=self.wsp||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}(),o.nc=void 0;var s=o.O(void 0,["react"],(function(){return o(34915)}));s=o.O(s)}();
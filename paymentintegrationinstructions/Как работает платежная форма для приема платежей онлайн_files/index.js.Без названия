(function(){var TTM_INSTALLER_PARAMS={"account":"tinkoff-pwa","container":"main","hash":"98125ab2-1608-4453-8d2d-5c22828b9ef3","storageRoot":"twa/ttm","env":"prod","versionNumber":1105};(function(){try{n=((o=document.currentScript)===null||o===void 0?void 0:o.getAttribute("src"))||"",TTM_INSTALLER_PARAMS.storageHost=new URL(n).origin,TTM_INSTALLER_PARAMS.storageHostIssue=!1}catch(l){TTM_INSTALLER_PARAMS.storageHostIssue=!0,TTM_INSTALLER_PARAMS.storageHost="https://cdn.tbank.ru"}var o,n,s="".concat(TTM_INSTALLER_PARAMS.storageHost,"/").concat(TTM_INSTALLER_PARAMS.storageRoot,"/polyfills/polyfills-v1.js"),e=!1,r=function(){(function(){var v="ttm",I="_ttm",m={INFO:"info",STORAGE_HOST:"storageHost",LOGGER:"logger",BUILD_ENTITIES:"buildEntities"};var L="_",E="ttmBuild",p={PUBLICATIONS:"publications",PROD_BUILDS:"builds",ENVIRONMENTS:"environments"};var B=function(e,o){var n,a,r,i;return(i=(a=(n=e.split(o)[1])===null||n===void 0?void 0:n.split("="))===null||a===void 0||(r=a[1])===null||r===void 0?void 0:r.split("&"))===null||i===void 0?void 0:i[0]},C=function(e){var o=B(e,E);if(!o)return null;var n=o.split(L);if(n.length!==3&&n.length!==4)return null;var a=n[0],r=n[1],i=n[2],t=n.length===4?n[3]:null;return{hash:a,container:i,env:t,account:r}},R=function(e){var o=e.account,n=e.container,a=e.hash,r=e.storageRoot,i=e.storageHost,t=C(window.location.search);if(!t)return a===null?{src:null,buildId:null}:{src:"".concat(i,"/").concat(r,"/").concat(o,"/").concat(p.PROD_BUILDS,"/").concat(n,"/").concat(a,"/ttm.js"),buildId:"".concat(o,"/").concat(n,"/").concat(a)};var s;return t.env===null?s="".concat(i,"/").concat(r,"/").concat(t.account,"/").concat(p.PROD_BUILDS,"/").concat(t.container,"/").concat(t.hash,"/ttm.js"):s="".concat(i,"/").concat(r,"/").concat(t.account,"/").concat(p.ENVIRONMENTS,"/").concat(t.env,"/").concat(t.container,"/").concat(t.hash,"/ttm.js"),{src:s,buildId:"".concat(t.env?"".concat(t.env,":"):"").concat(t.account,"/").concat(t.container,"/").concat(t.hash)}};var A=function(e,o){window.addEventListener("error",function(n){try{if(typeof n!="object"||!n)return;var a=n.error,r=n.filename,i=n.lineno,t=n.colno,s=n.message;(typeof r=="string"&&r&&r.includes(e)||a&&typeof a=="object"&&typeof a.stack=="string"&&a.stack.includes(e))&&o.error({message:s,lineno:i,colno:t},"unhandled-error")}catch(l){}}),window.addEventListener("unhandledrejection",function(n){try{if(!n||typeof n!="object"||!n.reason||typeof n.reason!="object")return;var a=n.reason.stack;typeof a=="string"&&a.includes(e)&&o.error(n.reason,"unhandled-rejection")}catch(r){}})};var M=function(e){try{return typeof window=="undefined"||!window.localStorage||typeof window.localStorage.getItem!="function"?null:window.localStorage.getItem(e)}catch(o){return null}},O=function(e){return new Promise(function(o,n){var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,r.crossOrigin="anonymous",a.appendChild(r),r.onload=function(){return o(r)},r.onerror=function(){return n(new Error("Error when loading ".concat(e," script")))}})};function U(e,o){return o!=null&&typeof Symbol!="undefined"&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](e):e instanceof o}var h=function(e){try{return JSON.stringify(e)}catch(o){return"Stringify error while log try"}},P=function(e){return U(e,Error)?{message:e.message,name:e.name,stack:e.stack}:e},x=function(e){return e&&typeof e=="object"&&"message"in e?e.message:null};function G(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var y="https://www.tbank.ru",k="https://www.tbank-online.com",j=function(){try{var e;if(typeof document=="undefined")return y;var o=new URL(((e=document.currentScript)===null||e===void 0?void 0:e.getAttribute("src"))||"").origin;return o.indexOf("tbank-online.com")>=0?k:y}catch(n){return y}},b=function e(o,n,a){"use strict";var r=this;G(this,e),this.account=o,this.container=n,this.buildId=a,this.loggerUrl="".concat(j(),"/api/front/log/collect"),this.loggerLocalStorageFlagName="_ttm_logger_",this.sendErrorProbability=1,this.sendDataProbability=.01,this.errorsLimit=20,this.errorsByTypes={},this.messageTypeColorMap={error:"red",info:"lightgray",data:"darkblue"},this.stdout=function(i,t,s){try{if(!M(r.loggerLocalStorageFlagName))return;console.log("%c%s","background-color: ".concat(r.messageTypeColorMap[i],"; color: white; padding: 2px 5px; border-radius: 5px; font-weight: 600; font-size: 12px;"),"TTM:".concat(i).concat(s?":".concat(s):""),t)}catch(l){}},this.sendLog=function(i,t,s){var l;Math.random()>i||fetch(r.loggerUrl,{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:h({system:"ttm",appName:"ttm",component:"ttm",level:t,from:"browser",ttmInfo:{account:r.account,container:r.container,buildId:r.buildId,session:r.session,tracking:window==null||(l=window.tracking)===null||l===void 0?void 0:l._version},ttmData:s})}).catch(function(){return null})},this.error=function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"runtime-error";try{if(r.stdout("error",i,t),r.errorsByTypes[t]||(r.errorsByTypes[t]=0),r.errorsByTypes[t]+=1,r.errorsByTypes[t]===r.errorsLimit){var s={type:t,errorLimit:r.errorsLimit};r.stdout("data",s,"error-limit-exceeded"),r.sendLog(1,"info",{type:"error-limit-exceeded",data:h(s)})}if(r.errorsByTypes[t]>=r.errorsLimit)return;r.sendLog(r.sendErrorProbability,"error",{type:t,message:x(i),data:h(P(i))})}catch(l){}},this.data=function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"data";try{r.stdout("data",i,t),r.sendLog(r.sendDataProbability,"info",{type:t,data:h(i)})}catch(s){}},this.info=function(i){r.stdout("info",i)},this.session="ttm-".concat(Date.now(),"-").concat(Math.round(Math.random()*1e5))};function N(e,o,n,a,r,i,t){try{var s=e[i](t),l=s.value}catch(c){n(c);return}s.done?o(l):Promise.resolve(l).then(a,r)}function H(e){return function(){var o=this,n=arguments;return new Promise(function(a,r){var i=e.apply(o,n);function t(l){N(i,a,r,t,s,"next",l)}function s(l){N(i,a,r,t,s,"throw",l)}t(void 0)})}}function w(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}var F=function(e,o){var n,a,r,i,t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(r=c[0]&2?a.return:c[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,c[1])).done)return r;switch(a=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,a=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=o.call(e,t)}catch(u){c=[6,u],a=0}finally{n=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},D=function(){var e=H(function(){var o,n,a,r,i,t,s,l,c,u,T,S,d,f,_;return F(this,function(g){switch(g.label){case 0:o="",n="",a="",r="",i="",t=null,s="",l=!1;try{if(o=TTM_INSTALLER_PARAMS.account,n=TTM_INSTALLER_PARAMS.container,a=TTM_INSTALLER_PARAMS.storageRoot,t=TTM_INSTALLER_PARAMS.versionNumber,s=TTM_INSTALLER_PARAMS.storageHost,l=TTM_INSTALLER_PARAMS.storageHostIssue,c=R(TTM_INSTALLER_PARAMS),u=c.src,T=c.buildId,u==null||T===null)return S=new b(o,n,"no-build"),S.info("".concat(o,"/").concat(n," has no published build")),[2];r=u,i=T}catch(V){}if(d=new b(o,n,i),d.data({},"ttm-installer-loaded"),!o||!n||!i||!s)return d.error({message:"Empty build data"},"installation-error"),[2];window[v]=window[v]||[],window[I]=(f={},w(f,m.INFO,{buildId:i,account:o,container:n,versionNumber:t}),w(f,m.STORAGE_HOST,s),w(f,m.LOGGER,d),f),A("".concat(s,"/").concat(a),d),l&&d.error({message:"storage-host-issue"},"storage-host-issue"),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,O(r)];case 2:return g.sent(),[3,4];case 3:return _=g.sent(),d.error(_,"loading-error"),[3,4];case 4:return[2]}})});return function(){return e.apply(this,arguments)}}();D();})();};try{e=!window.Promise.prototype.finally||!window.URL||!window.URLSearchParams||!window.AbortController||!Object.fromEntries||!Object.entries}catch(l){e=!0}e?(a=document.getElementsByTagName("head")[0],t=document.createElement("script"),t.type="text/javascript",t.src=s,t.crossOrigin="anonymous",t.onload=r,t.onerror=function(){return null},a.appendChild(t)):r();var a,t;})();})()